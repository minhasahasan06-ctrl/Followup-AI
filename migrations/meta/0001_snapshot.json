{
  "id": "dadda4bc-0c89-42ee-afc1-7184751010ca",
  "prevId": "b4da2630-5ba8-4432-b885-5136113d1c61",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.admin_totp_secrets": {
      "name": "admin_totp_secrets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "secret_name": {
          "name": "secret_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "totp_secret": {
          "name": "totp_secret",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "setup_completed_at": {
          "name": "setup_completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "setup_completed_by": {
          "name": "setup_completed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_verified_at": {
          "name": "last_verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_verified_by": {
          "name": "last_verified_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "verification_count": {
          "name": "verification_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "failed_attempts": {
          "name": "failed_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "locked_until": {
          "name": "locked_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "admin_totp_secrets_secret_name_unique": {
          "name": "admin_totp_secrets_secret_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "secret_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_audit_logs": {
      "name": "agent_audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "actor_type": {
          "name": "actor_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "actor_id": {
          "name": "actor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "actor_role": {
          "name": "actor_role",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "action_category": {
          "name": "action_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "object_type": {
          "name": "object_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "object_id": {
          "name": "object_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "message_id": {
          "name": "message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "phi_accessed": {
          "name": "phi_accessed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "phi_categories": {
          "name": "phi_categories",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "access_reason": {
          "name": "access_reason",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "previous_state": {
          "name": "previous_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_state": {
          "name": "new_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "audit_actor_idx": {
          "name": "audit_actor_idx",
          "columns": [
            {
              "expression": "actor_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "actor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_action_idx": {
          "name": "audit_action_idx",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_object_idx": {
          "name": "audit_object_idx",
          "columns": [
            {
              "expression": "object_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "object_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_patient_idx": {
          "name": "audit_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_timestamp_idx": {
          "name": "audit_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_phi_idx": {
          "name": "audit_phi_idx",
          "columns": [
            {
              "expression": "phi_accessed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_audit_logs_patient_id_users_id_fk": {
          "name": "agent_audit_logs_patient_id_users_id_fk",
          "tableFrom": "agent_audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_audit_logs_conversation_id_agent_conversations_id_fk": {
          "name": "agent_audit_logs_conversation_id_agent_conversations_id_fk",
          "tableFrom": "agent_audit_logs",
          "tableTo": "agent_conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_audit_logs_message_id_agent_messages_id_fk": {
          "name": "agent_audit_logs_message_id_agent_messages_id_fk",
          "tableFrom": "agent_audit_logs",
          "tableTo": "agent_messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_conversations": {
      "name": "agent_conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "conversation_type": {
          "name": "conversation_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'patient_clona'"
        },
        "participant1_type": {
          "name": "participant1_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "participant1_id": {
          "name": "participant1_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "participant2_type": {
          "name": "participant2_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "participant2_id": {
          "name": "participant2_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "additional_participants": {
          "name": "additional_participants",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "assignment_id": {
          "name": "assignment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "unread_counts": {
          "name": "unread_counts",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_message_preview": {
          "name": "last_message_preview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_message_sender_id": {
          "name": "last_message_sender_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_message_sender_role": {
          "name": "last_message_sender_role",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "openai_thread_id": {
          "name": "openai_thread_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "conv_type_idx": {
          "name": "conv_type_idx",
          "columns": [
            {
              "expression": "conversation_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conv_participant1_idx": {
          "name": "conv_participant1_idx",
          "columns": [
            {
              "expression": "participant1_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "participant1_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conv_participant2_idx": {
          "name": "conv_participant2_idx",
          "columns": [
            {
              "expression": "participant2_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "participant2_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conv_patient_idx": {
          "name": "conv_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conv_doctor_idx": {
          "name": "conv_doctor_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conv_assignment_idx": {
          "name": "conv_assignment_idx",
          "columns": [
            {
              "expression": "assignment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conv_last_message_idx": {
          "name": "conv_last_message_idx",
          "columns": [
            {
              "expression": "last_message_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_conversations_patient_id_users_id_fk": {
          "name": "agent_conversations_patient_id_users_id_fk",
          "tableFrom": "agent_conversations",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_conversations_doctor_id_users_id_fk": {
          "name": "agent_conversations_doctor_id_users_id_fk",
          "tableFrom": "agent_conversations",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_memory": {
      "name": "agent_memory",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "memory_type": {
          "name": "memory_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "storage_type": {
          "name": "storage_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "embedding_model": {
          "name": "embedding_model",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_id": {
          "name": "source_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "importance": {
          "name": "importance",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.5'"
        },
        "access_count": {
          "name": "access_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_accessed_at": {
          "name": "last_accessed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "memory_agent_idx": {
          "name": "memory_agent_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "memory_patient_idx": {
          "name": "memory_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "memory_type_idx": {
          "name": "memory_type_idx",
          "columns": [
            {
              "expression": "memory_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "memory_expires_idx": {
          "name": "memory_expires_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "memory_importance_idx": {
          "name": "memory_importance_idx",
          "columns": [
            {
              "expression": "importance",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_memory_agent_id_agents_id_fk": {
          "name": "agent_memory_agent_id_agents_id_fk",
          "tableFrom": "agent_memory",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_memory_patient_id_users_id_fk": {
          "name": "agent_memory_patient_id_users_id_fk",
          "tableFrom": "agent_memory",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_memory_user_id_users_id_fk": {
          "name": "agent_memory_user_id_users_id_fk",
          "tableFrom": "agent_memory",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_memory_conversation_id_agent_conversations_id_fk": {
          "name": "agent_memory_conversation_id_agent_conversations_id_fk",
          "tableFrom": "agent_memory",
          "tableTo": "agent_conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_messages": {
      "name": "agent_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "msg_id": {
          "name": "msg_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "from_type": {
          "name": "from_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "from_id": {
          "name": "from_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "sender_role": {
          "name": "sender_role",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'patient'"
        },
        "sender_name": {
          "name": "sender_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sender_avatar": {
          "name": "sender_avatar",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "to_json": {
          "name": "to_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "message_type": {
          "name": "message_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload_json": {
          "name": "payload_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tool_call_id": {
          "name": "tool_call_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "tool_name": {
          "name": "tool_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "tool_input": {
          "name": "tool_input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tool_output": {
          "name": "tool_output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tool_status": {
          "name": "tool_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "requires_approval": {
          "name": "requires_approval",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "approval_status": {
          "name": "approval_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "approval_notes": {
          "name": "approval_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "delivered": {
          "name": "delivered",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "contains_phi": {
          "name": "contains_phi",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "phi_redacted": {
          "name": "phi_redacted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "msg_conversation_idx": {
          "name": "msg_conversation_idx",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "msg_from_idx": {
          "name": "msg_from_idx",
          "columns": [
            {
              "expression": "from_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "from_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "msg_sender_role_idx": {
          "name": "msg_sender_role_idx",
          "columns": [
            {
              "expression": "sender_role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "msg_id_idx": {
          "name": "msg_id_idx",
          "columns": [
            {
              "expression": "msg_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "msg_created_idx": {
          "name": "msg_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "msg_tool_call_idx": {
          "name": "msg_tool_call_idx",
          "columns": [
            {
              "expression": "tool_call_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "msg_approval_idx": {
          "name": "msg_approval_idx",
          "columns": [
            {
              "expression": "requires_approval",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "approval_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_messages_conversation_id_agent_conversations_id_fk": {
          "name": "agent_messages_conversation_id_agent_conversations_id_fk",
          "tableFrom": "agent_messages",
          "tableTo": "agent_conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_messages_approved_by_users_id_fk": {
          "name": "agent_messages_approved_by_users_id_fk",
          "tableFrom": "agent_messages",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agent_messages_msg_id_unique": {
          "name": "agent_messages_msg_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "msg_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_tasks": {
      "name": "agent_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "message_id": {
          "name": "message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "task_type": {
          "name": "task_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "task_name": {
          "name": "task_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "recurring_pattern": {
          "name": "recurring_pattern",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'UTC'"
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "input_payload": {
          "name": "input_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "output_result": {
          "name": "output_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "last_attempt_at": {
          "name": "last_attempt_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "worker_id": {
          "name": "worker_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "task_agent_idx": {
          "name": "task_agent_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "task_user_idx": {
          "name": "task_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "task_status_idx": {
          "name": "task_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "task_scheduled_idx": {
          "name": "task_scheduled_idx",
          "columns": [
            {
              "expression": "scheduled_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "task_type_idx": {
          "name": "task_type_idx",
          "columns": [
            {
              "expression": "task_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_tasks_agent_id_agents_id_fk": {
          "name": "agent_tasks_agent_id_agents_id_fk",
          "tableFrom": "agent_tasks",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_tasks_user_id_users_id_fk": {
          "name": "agent_tasks_user_id_users_id_fk",
          "tableFrom": "agent_tasks",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_tasks_conversation_id_agent_conversations_id_fk": {
          "name": "agent_tasks_conversation_id_agent_conversations_id_fk",
          "tableFrom": "agent_tasks",
          "tableTo": "agent_conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_tasks_message_id_agent_messages_id_fk": {
          "name": "agent_tasks_message_id_agent_messages_id_fk",
          "tableFrom": "agent_tasks",
          "tableTo": "agent_messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_tool_assignments": {
      "name": "agent_tool_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "tool_id": {
          "name": "tool_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "custom_config": {
          "name": "custom_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_tool_idx": {
          "name": "agent_tool_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "tool_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_tool_assignments_agent_id_agents_id_fk": {
          "name": "agent_tool_assignments_agent_id_agents_id_fk",
          "tableFrom": "agent_tool_assignments",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_tool_assignments_tool_id_agent_tools_id_fk": {
          "name": "agent_tool_assignments_tool_id_agent_tools_id_fk",
          "tableFrom": "agent_tool_assignments",
          "tableTo": "agent_tools",
          "columnsFrom": [
            "tool_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_tools": {
      "name": "agent_tools",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tool_type": {
          "name": "tool_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "config_json": {
          "name": "config_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "parameters_schema": {
          "name": "parameters_schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "required_permissions": {
          "name": "required_permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "allowed_roles": {
          "name": "allowed_roles",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "requires_approval": {
          "name": "requires_approval",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "approval_role": {
          "name": "approval_role",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agent_tools_name_unique": {
          "name": "agent_tools_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agents": {
      "name": "agents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agent_type": {
          "name": "agent_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "target_role": {
          "name": "target_role",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "persona_json": {
          "name": "persona_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "memory_policy_json": {
          "name": "memory_policy_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "openai_assistant_id": {
          "name": "openai_assistant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "openai_model": {
          "name": "openai_model",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'gpt-4o'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_alert_rules": {
      "name": "ai_alert_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "rule_name": {
          "name": "rule_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "rule_category": {
          "name": "rule_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "thresholds": {
          "name": "thresholds",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ai_alert_rules_rule_name_unique": {
          "name": "ai_alert_rules_rule_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "rule_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_engagement_metrics": {
      "name": "ai_engagement_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "adherence_score": {
          "name": "adherence_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "checkins_completed": {
          "name": "checkins_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "checkins_expected": {
          "name": "checkins_expected",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "captures_completed": {
          "name": "captures_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "surveys_completed": {
          "name": "surveys_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_trend": {
          "name": "engagement_trend",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_drop_14d": {
          "name": "engagement_drop_14d",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_time_to_alert": {
          "name": "avg_time_to_alert",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "alerts_generated": {
          "name": "alerts_generated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "alerts_acknowledged": {
          "name": "alerts_acknowledged",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "alerts_dismissed": {
          "name": "alerts_dismissed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "current_streak": {
          "name": "current_streak",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "longest_streak": {
          "name": "longest_streak",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "computed_at": {
          "name": "computed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_engagement_metrics_patient_period_idx": {
          "name": "ai_engagement_metrics_patient_period_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_engagement_metrics_patient_id_users_id_fk": {
          "name": "ai_engagement_metrics_patient_id_users_id_fk",
          "tableFrom": "ai_engagement_metrics",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_health_alerts": {
      "name": "ai_health_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "alert_type": {
          "name": "alert_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "alert_category": {
          "name": "alert_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "escalation_probability": {
          "name": "escalation_probability",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "disclaimer": {
          "name": "disclaimer",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'This is an observational pattern alert. Not a diagnosis or medical opinion.'"
        },
        "contributing_metrics": {
          "name": "contributing_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_rule": {
          "name": "trigger_rule",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_threshold": {
          "name": "trigger_threshold",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_value": {
          "name": "trigger_value",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'new'"
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "dismissed_by": {
          "name": "dismissed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "dismissed_at": {
          "name": "dismissed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "dismiss_reason": {
          "name": "dismiss_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notified_patient": {
          "name": "notified_patient",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notified_clinician": {
          "name": "notified_clinician",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sms_alert_sent": {
          "name": "sms_alert_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_alert_sent": {
          "name": "email_alert_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "clinician_notes": {
          "name": "clinician_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "clinician_id": {
          "name": "clinician_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_health_alerts_patient_status_idx": {
          "name": "ai_health_alerts_patient_status_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_health_alerts_severity_idx": {
          "name": "ai_health_alerts_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_health_alerts_type_idx": {
          "name": "ai_health_alerts_type_idx",
          "columns": [
            {
              "expression": "alert_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_health_alerts_created_at_idx": {
          "name": "ai_health_alerts_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_health_alerts_patient_id_users_id_fk": {
          "name": "ai_health_alerts_patient_id_users_id_fk",
          "tableFrom": "ai_health_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ai_health_alerts_acknowledged_by_users_id_fk": {
          "name": "ai_health_alerts_acknowledged_by_users_id_fk",
          "tableFrom": "ai_health_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "acknowledged_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ai_health_alerts_dismissed_by_users_id_fk": {
          "name": "ai_health_alerts_dismissed_by_users_id_fk",
          "tableFrom": "ai_health_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "dismissed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ai_health_alerts_clinician_id_users_id_fk": {
          "name": "ai_health_alerts_clinician_id_users_id_fk",
          "tableFrom": "ai_health_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "clinician_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_qol_metrics": {
      "name": "ai_qol_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "wellness_index": {
          "name": "wellness_index",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "wellness_components": {
          "name": "wellness_components",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "wellness_trend": {
          "name": "wellness_trend",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "functional_status": {
          "name": "functional_status",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "functional_components": {
          "name": "functional_components",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "selfcare_score": {
          "name": "selfcare_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "selfcare_components": {
          "name": "selfcare_components",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "stability_score": {
          "name": "stability_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "behavior_patterns": {
          "name": "behavior_patterns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "computed_at": {
          "name": "computed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_qol_metrics_patient_date_idx": {
          "name": "ai_qol_metrics_patient_date_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_qol_metrics_wellness_idx": {
          "name": "ai_qol_metrics_wellness_idx",
          "columns": [
            {
              "expression": "wellness_index",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_qol_metrics_patient_id_users_id_fk": {
          "name": "ai_qol_metrics_patient_id_users_id_fk",
          "tableFrom": "ai_qol_metrics",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_research_reports": {
      "name": "ai_research_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "findings": {
          "name": "findings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "visualizations": {
          "name": "visualizations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "patient_cohort_size": {
          "name": "patient_cohort_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "analysis_type": {
          "name": "analysis_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "publish_ready": {
          "name": "publish_ready",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_research_reports_created_by_users_id_fk": {
          "name": "ai_research_reports_created_by_users_id_fk",
          "tableFrom": "ai_research_reports",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_trend_metrics": {
      "name": "ai_trend_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "metric_name": {
          "name": "metric_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "metric_category": {
          "name": "metric_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "raw_value": {
          "name": "raw_value",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "baseline_14d_mean": {
          "name": "baseline_14d_mean",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "baseline_14d_std": {
          "name": "baseline_14d_std",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "z_score": {
          "name": "z_score",
          "type": "numeric(6, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "z_score_severity": {
          "name": "z_score_severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "slope_3d": {
          "name": "slope_3d",
          "type": "numeric(8, 5)",
          "primaryKey": false,
          "notNull": false
        },
        "slope_7d": {
          "name": "slope_7d",
          "type": "numeric(8, 5)",
          "primaryKey": false,
          "notNull": false
        },
        "slope_14d": {
          "name": "slope_14d",
          "type": "numeric(8, 5)",
          "primaryKey": false,
          "notNull": false
        },
        "slope_direction": {
          "name": "slope_direction",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "volatility_index": {
          "name": "volatility_index",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "volatility_level": {
          "name": "volatility_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "composite_trend_score": {
          "name": "composite_trend_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "computed_at": {
          "name": "computed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_trend_metrics_patient_metric_idx": {
          "name": "ai_trend_metrics_patient_metric_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "metric_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_trend_metrics_recorded_at_idx": {
          "name": "ai_trend_metrics_recorded_at_idx",
          "columns": [
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_trend_metrics_zscore_idx": {
          "name": "ai_trend_metrics_zscore_idx",
          "columns": [
            {
              "expression": "z_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_trend_metrics_patient_id_users_id_fk": {
          "name": "ai_trend_metrics_patient_id_users_id_fk",
          "tableFrom": "ai_trend_metrics",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.analysis_jobs": {
      "name": "analysis_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "job_type": {
          "name": "job_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "study_id": {
          "name": "study_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "cohort_id": {
          "name": "cohort_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "report_id": {
          "name": "report_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "config_json": {
          "name": "config_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "progress": {
          "name": "progress",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "current_phase": {
          "name": "current_phase",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "execution_time_ms": {
          "name": "execution_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "result_summary": {
          "name": "result_summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_stack": {
          "name": "error_stack",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "trigger_source": {
          "name": "trigger_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "analysis_job_status_idx": {
          "name": "analysis_job_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analysis_job_study_idx": {
          "name": "analysis_job_study_idx",
          "columns": [
            {
              "expression": "study_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analysis_job_type_idx": {
          "name": "analysis_job_type_idx",
          "columns": [
            {
              "expression": "job_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "analysis_jobs_study_id_research_studies_id_fk": {
          "name": "analysis_jobs_study_id_research_studies_id_fk",
          "tableFrom": "analysis_jobs",
          "tableTo": "research_studies",
          "columnsFrom": [
            "study_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "analysis_jobs_cohort_id_research_cohorts_id_fk": {
          "name": "analysis_jobs_cohort_id_research_cohorts_id_fk",
          "tableFrom": "analysis_jobs",
          "tableTo": "research_cohorts",
          "columnsFrom": [
            "cohort_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "analysis_jobs_report_id_ai_research_reports_id_fk": {
          "name": "analysis_jobs_report_id_ai_research_reports_id_fk",
          "tableFrom": "analysis_jobs",
          "tableTo": "ai_research_reports",
          "columnsFrom": [
            "report_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "analysis_jobs_created_by_users_id_fk": {
          "name": "analysis_jobs_created_by_users_id_fk",
          "tableFrom": "analysis_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.appointment_reminders": {
      "name": "appointment_reminders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "appointment_id": {
          "name": "appointment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "reminder_type": {
          "name": "reminder_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "timing_type": {
          "name": "timing_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "confirmed": {
          "name": "confirmed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "confirmed_at": {
          "name": "confirmed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "declined": {
          "name": "declined",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "declined_at": {
          "name": "declined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "message_content": {
          "name": "message_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "twilio_message_sid": {
          "name": "twilio_message_sid",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ses_message_id": {
          "name": "ses_message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "twilio_call_sid": {
          "name": "twilio_call_sid",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "appointment_reminders_appointment_idx": {
          "name": "appointment_reminders_appointment_idx",
          "columns": [
            {
              "expression": "appointment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "appointment_reminders_scheduled_idx": {
          "name": "appointment_reminders_scheduled_idx",
          "columns": [
            {
              "expression": "scheduled_for",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "appointment_reminders_status_idx": {
          "name": "appointment_reminders_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "appointment_reminders_appointment_id_appointments_id_fk": {
          "name": "appointment_reminders_appointment_id_appointments_id_fk",
          "tableFrom": "appointment_reminders",
          "tableTo": "appointments",
          "columnsFrom": [
            "appointment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.appointment_triage_logs": {
      "name": "appointment_triage_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "appointment_id": {
          "name": "appointment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "symptoms": {
          "name": "symptoms",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "patient_self_assessment": {
          "name": "patient_self_assessment",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "urgency_level": {
          "name": "urgency_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "urgency_score": {
          "name": "urgency_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "recommended_timeframe": {
          "name": "recommended_timeframe",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "red_flags": {
          "name": "red_flags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "assessment_method": {
          "name": "assessment_method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "clinician_reviewed": {
          "name": "clinician_reviewed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "clinician_agreed": {
          "name": "clinician_agreed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "clinician_override_level": {
          "name": "clinician_override_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "clinician_override_reason": {
          "name": "clinician_override_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "risk_alert_created": {
          "name": "risk_alert_created",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "risk_alert_id": {
          "name": "risk_alert_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "model_version": {
          "name": "model_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "processing_time_ms": {
          "name": "processing_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "triage_logs_patient_idx": {
          "name": "triage_logs_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "triage_logs_urgency_idx": {
          "name": "triage_logs_urgency_idx",
          "columns": [
            {
              "expression": "urgency_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "appointment_triage_logs_appointment_id_appointments_id_fk": {
          "name": "appointment_triage_logs_appointment_id_appointments_id_fk",
          "tableFrom": "appointment_triage_logs",
          "tableTo": "appointments",
          "columnsFrom": [
            "appointment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "appointment_triage_logs_patient_id_users_id_fk": {
          "name": "appointment_triage_logs_patient_id_users_id_fk",
          "tableFrom": "appointment_triage_logs",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "appointment_triage_logs_reviewed_by_users_id_fk": {
          "name": "appointment_triage_logs_reviewed_by_users_id_fk",
          "tableFrom": "appointment_triage_logs",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.appointments": {
      "name": "appointments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "patient_name": {
          "name": "patient_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "patient_email": {
          "name": "patient_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "patient_phone": {
          "name": "patient_phone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "appointment_type": {
          "name": "appointment_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "room_number": {
          "name": "room_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_link": {
          "name": "meeting_link",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_platform": {
          "name": "meeting_platform",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "confirmation_status": {
          "name": "confirmation_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "confirmed_at": {
          "name": "confirmed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "cancellation_reason": {
          "name": "cancellation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "rescheduled_from": {
          "name": "rescheduled_from",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "booked_by_ai": {
          "name": "booked_by_ai",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ai_booking_context": {
          "name": "ai_booking_context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "booked_by_method": {
          "name": "booked_by_method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'online'"
        },
        "symptoms": {
          "name": "symptoms",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "urgency_level": {
          "name": "urgency_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'routine'"
        },
        "triage_assessment": {
          "name": "triage_assessment",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "triage_assessed_at": {
          "name": "triage_assessed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "clinician_override": {
          "name": "clinician_override",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "clinician_override_reason": {
          "name": "clinician_override_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "clinician_override_by": {
          "name": "clinician_override_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "doctor_notes": {
          "name": "doctor_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "patient_notes": {
          "name": "patient_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "google_calendar_event_id": {
          "name": "google_calendar_event_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reminders_sent": {
          "name": "reminders_sent",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "appointments_doctor_time_idx": {
          "name": "appointments_doctor_time_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "start_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "appointments_patient_time_idx": {
          "name": "appointments_patient_time_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "start_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "appointments_status_idx": {
          "name": "appointments_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "appointments_urgency_queue_idx": {
          "name": "appointments_urgency_queue_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "urgency_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "start_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "appointments_doctor_id_users_id_fk": {
          "name": "appointments_doctor_id_users_id_fk",
          "tableFrom": "appointments",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "appointments_patient_id_users_id_fk": {
          "name": "appointments_patient_id_users_id_fk",
          "tableFrom": "appointments",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.approval_queue": {
      "name": "approval_queue",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "request_type": {
          "name": "request_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "requester_id": {
          "name": "requester_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "requester_type": {
          "name": "requester_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "approver_id": {
          "name": "approver_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "approver_role": {
          "name": "approver_role",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'doctor'"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "message_id": {
          "name": "message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "tool_execution_id": {
          "name": "tool_execution_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "tool_name": {
          "name": "tool_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "request_payload": {
          "name": "request_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "request_summary": {
          "name": "request_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "urgency": {
          "name": "urgency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'normal'"
        },
        "risk_level": {
          "name": "risk_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "risk_factors": {
          "name": "risk_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "decision": {
          "name": "decision",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "decision_by": {
          "name": "decision_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "decision_at": {
          "name": "decision_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "decision_notes": {
          "name": "decision_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "modified_payload": {
          "name": "modified_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reminder_sent_at": {
          "name": "reminder_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "escalated_at": {
          "name": "escalated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "escalated_to": {
          "name": "escalated_to",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "execution_result": {
          "name": "execution_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "executed_at": {
          "name": "executed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "approval_requester_idx": {
          "name": "approval_requester_idx",
          "columns": [
            {
              "expression": "requester_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "requester_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_approver_idx": {
          "name": "approval_approver_idx",
          "columns": [
            {
              "expression": "approver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_role_idx": {
          "name": "approval_role_idx",
          "columns": [
            {
              "expression": "approver_role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_patient_idx": {
          "name": "approval_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_status_idx": {
          "name": "approval_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_urgency_idx": {
          "name": "approval_urgency_idx",
          "columns": [
            {
              "expression": "urgency",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_expires_idx": {
          "name": "approval_expires_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_created_idx": {
          "name": "approval_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "approval_queue_approver_id_users_id_fk": {
          "name": "approval_queue_approver_id_users_id_fk",
          "tableFrom": "approval_queue",
          "tableTo": "users",
          "columnsFrom": [
            "approver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "approval_queue_patient_id_users_id_fk": {
          "name": "approval_queue_patient_id_users_id_fk",
          "tableFrom": "approval_queue",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "approval_queue_conversation_id_agent_conversations_id_fk": {
          "name": "approval_queue_conversation_id_agent_conversations_id_fk",
          "tableFrom": "approval_queue",
          "tableTo": "agent_conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "approval_queue_message_id_agent_messages_id_fk": {
          "name": "approval_queue_message_id_agent_messages_id_fk",
          "tableFrom": "approval_queue",
          "tableTo": "agent_messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "approval_queue_tool_execution_id_tool_executions_id_fk": {
          "name": "approval_queue_tool_execution_id_tool_executions_id_fk",
          "tableFrom": "approval_queue",
          "tableTo": "tool_executions",
          "columnsFrom": [
            "tool_execution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "approval_queue_decision_by_users_id_fk": {
          "name": "approval_queue_decision_by_users_id_fk",
          "tableFrom": "approval_queue",
          "tableTo": "users",
          "columnsFrom": [
            "decision_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "approval_queue_escalated_to_users_id_fk": {
          "name": "approval_queue_escalated_to_users_id_fk",
          "tableFrom": "approval_queue",
          "tableTo": "users",
          "columnsFrom": [
            "escalated_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.auto_journals": {
      "name": "auto_journals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mood": {
          "name": "mood",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stress_level": {
          "name": "stress_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "generated_from_data": {
          "name": "generated_from_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "auto_journals_patient_id_users_id_fk": {
          "name": "auto_journals_patient_id_users_id_fk",
          "tableFrom": "auto_journals",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.behavior_alerts": {
      "name": "behavior_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "triggered_at": {
          "name": "triggered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "alert_type": {
          "name": "alert_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_risk_score_id": {
          "name": "source_risk_score_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_trend_id": {
          "name": "source_trend_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "email_sent": {
          "name": "email_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_sent_at": {
          "name": "email_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sms_sent": {
          "name": "sms_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sms_sent_at": {
          "name": "sms_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "dashboard_notified": {
          "name": "dashboard_notified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "acknowledged": {
          "name": "acknowledged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "resolved": {
          "name": "resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "behavior_alerts_patient_severity_idx": {
          "name": "behavior_alerts_patient_severity_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "behavior_alerts_type_idx": {
          "name": "behavior_alerts_type_idx",
          "columns": [
            {
              "expression": "alert_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "behavior_alerts_acknowledged_idx": {
          "name": "behavior_alerts_acknowledged_idx",
          "columns": [
            {
              "expression": "acknowledged",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "behavior_alerts_patient_id_users_id_fk": {
          "name": "behavior_alerts_patient_id_users_id_fk",
          "tableFrom": "behavior_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "behavior_alerts_source_risk_score_id_behavior_risk_scores_id_fk": {
          "name": "behavior_alerts_source_risk_score_id_behavior_risk_scores_id_fk",
          "tableFrom": "behavior_alerts",
          "tableTo": "behavior_risk_scores",
          "columnsFrom": [
            "source_risk_score_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "behavior_alerts_source_trend_id_deterioration_trends_id_fk": {
          "name": "behavior_alerts_source_trend_id_deterioration_trends_id_fk",
          "tableFrom": "behavior_alerts",
          "tableTo": "deterioration_trends",
          "columnsFrom": [
            "source_trend_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "behavior_alerts_acknowledged_by_users_id_fk": {
          "name": "behavior_alerts_acknowledged_by_users_id_fk",
          "tableFrom": "behavior_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "acknowledged_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.behavior_checkins": {
      "name": "behavior_checkins",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_time": {
          "name": "scheduled_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "response_latency_minutes": {
          "name": "response_latency_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "skipped": {
          "name": "skipped",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "skip_reason": {
          "name": "skip_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "symptom_severity": {
          "name": "symptom_severity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "symptom_description": {
          "name": "symptom_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pain_level": {
          "name": "pain_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "medication_taken": {
          "name": "medication_taken",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "medication_skipped_reason": {
          "name": "medication_skipped_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_duration_seconds": {
          "name": "session_duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "interaction_count": {
          "name": "interaction_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "avoidance_language_detected": {
          "name": "avoidance_language_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "avoidance_phrases": {
          "name": "avoidance_phrases",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment_polarity": {
          "name": "sentiment_polarity",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "behavior_checkins_patient_idx": {
          "name": "behavior_checkins_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "behavior_checkins_completed_idx": {
          "name": "behavior_checkins_completed_idx",
          "columns": [
            {
              "expression": "completed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "behavior_checkins_skipped_idx": {
          "name": "behavior_checkins_skipped_idx",
          "columns": [
            {
              "expression": "skipped",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "behavior_checkins_patient_id_users_id_fk": {
          "name": "behavior_checkins_patient_id_users_id_fk",
          "tableFrom": "behavior_checkins",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.behavior_metrics": {
      "name": "behavior_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "checkin_time_consistency_score": {
          "name": "checkin_time_consistency_score",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "checkin_completion_rate": {
          "name": "checkin_completion_rate",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_response_latency_minutes": {
          "name": "avg_response_latency_minutes",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "skipped_checkins_count": {
          "name": "skipped_checkins_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "routine_deviation_score": {
          "name": "routine_deviation_score",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "medication_adherence_rate": {
          "name": "medication_adherence_rate",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "medication_skips_count": {
          "name": "medication_skips_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "app_engagement_duration_minutes": {
          "name": "app_engagement_duration_minutes",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "app_open_count": {
          "name": "app_open_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avoidance_patterns_detected": {
          "name": "avoidance_patterns_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "avoidance_count": {
          "name": "avoidance_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avoidance_phrases": {
          "name": "avoidance_phrases",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "avg_sentiment_polarity": {
          "name": "avg_sentiment_polarity",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment_trend_slope": {
          "name": "sentiment_trend_slope",
          "type": "numeric(8, 5)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "behavior_metrics_patient_date_idx": {
          "name": "behavior_metrics_patient_date_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "behavior_metrics_patient_id_users_id_fk": {
          "name": "behavior_metrics_patient_id_users_id_fk",
          "tableFrom": "behavior_metrics",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.behavior_risk_scores": {
      "name": "behavior_risk_scores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "behavioral_risk": {
          "name": "behavioral_risk",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "digital_biomarker_risk": {
          "name": "digital_biomarker_risk",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "cognitive_risk": {
          "name": "cognitive_risk",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "sentiment_risk": {
          "name": "sentiment_risk",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "composite_risk": {
          "name": "composite_risk",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "risk_level": {
          "name": "risk_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "model_type": {
          "name": "model_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'transformer_xgboost_ensemble'"
        },
        "model_version": {
          "name": "model_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "feature_contributions": {
          "name": "feature_contributions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "top_risk_factors": {
          "name": "top_risk_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "prediction_confidence": {
          "name": "prediction_confidence",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "behavior_risk_scores_patient_calc_idx": {
          "name": "behavior_risk_scores_patient_calc_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "calculated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "behavior_risk_scores_risk_level_idx": {
          "name": "behavior_risk_scores_risk_level_idx",
          "columns": [
            {
              "expression": "risk_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "behavior_risk_scores_patient_id_users_id_fk": {
          "name": "behavior_risk_scores_patient_id_users_id_fk",
          "tableFrom": "behavior_risk_scores",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.behavioral_insights": {
      "name": "behavioral_insights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "stress_score": {
          "name": "stress_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "joy_score": {
          "name": "joy_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "app_usage_duration": {
          "name": "app_usage_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "interaction_speed": {
          "name": "interaction_speed",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment_analysis": {
          "name": "sentiment_analysis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_quality": {
          "name": "sleep_quality",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "activity_level": {
          "name": "activity_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "behavioral_insights_patient_id_users_id_fk": {
          "name": "behavioral_insights_patient_id_users_id_fk",
          "tableFrom": "behavioral_insights",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.call_logs": {
      "name": "call_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "caller_phone": {
          "name": "caller_phone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "caller_name": {
          "name": "caller_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "direction": {
          "name": "direction",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "call_type": {
          "name": "call_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "is_callback": {
          "name": "is_callback",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "callback_scheduled_for": {
          "name": "callback_scheduled_for",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "twilio_call_sid": {
          "name": "twilio_call_sid",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recording_url": {
          "name": "recording_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recording_duration": {
          "name": "recording_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "voicemail_url": {
          "name": "voicemail_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "transcription": {
          "name": "transcription",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "transcription_confidence": {
          "name": "transcription_confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ai_summary": {
          "name": "ai_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_intent": {
          "name": "ai_intent",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ai_sentiment": {
          "name": "ai_sentiment",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ai_extracted_info": {
          "name": "ai_extracted_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "requires_followup": {
          "name": "requires_followup",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "followup_completed_at": {
          "name": "followup_completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "call_logs_doctor_idx": {
          "name": "call_logs_doctor_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "call_logs_patient_idx": {
          "name": "call_logs_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "call_logs_status_idx": {
          "name": "call_logs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "call_logs_time_idx": {
          "name": "call_logs_time_idx",
          "columns": [
            {
              "expression": "start_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "call_logs_doctor_id_users_id_fk": {
          "name": "call_logs_doctor_id_users_id_fk",
          "tableFrom": "call_logs",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "call_logs_patient_id_users_id_fk": {
          "name": "call_logs_patient_id_users_id_fk",
          "tableFrom": "call_logs",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.calm_activities": {
      "name": "calm_activities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "activity_type": {
          "name": "activity_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "activity_name": {
          "name": "activity_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "effectiveness": {
          "name": "effectiveness",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "times_used": {
          "name": "times_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_used": {
          "name": "last_used",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "calm_activities_patient_id_users_id_fk": {
          "name": "calm_activities_patient_id_users_id_fk",
          "tableFrom": "calm_activities",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_messages": {
      "name": "chat_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "agent_type": {
          "name": "agent_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "medical_entities": {
          "name": "medical_entities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "patient_context_id": {
          "name": "patient_context_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_messages_session_id_chat_sessions_id_fk": {
          "name": "chat_messages_session_id_chat_sessions_id_fk",
          "tableFrom": "chat_messages",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chat_messages_user_id_users_id_fk": {
          "name": "chat_messages_user_id_users_id_fk",
          "tableFrom": "chat_messages",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_sessions": {
      "name": "chat_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "agent_type": {
          "name": "agent_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "context_patient_id": {
          "name": "context_patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "session_title": {
          "name": "session_title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "symptoms_discussed": {
          "name": "symptoms_discussed",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "health_insights": {
          "name": "health_insights",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ai_summary": {
          "name": "ai_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "urgency_level": {
          "name": "urgency_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "alerts_generated": {
          "name": "alerts_generated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "reviewed_by_doctor": {
          "name": "reviewed_by_doctor",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "doctor_notes": {
          "name": "doctor_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_sessions_patient_id_users_id_fk": {
          "name": "chat_sessions_patient_id_users_id_fk",
          "tableFrom": "chat_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chat_sessions_context_patient_id_users_id_fk": {
          "name": "chat_sessions_context_patient_id_users_id_fk",
          "tableFrom": "chat_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "context_patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chat_sessions_reviewed_by_users_id_fk": {
          "name": "chat_sessions_reviewed_by_users_id_fk",
          "tableFrom": "chat_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_symptoms": {
      "name": "chat_symptoms",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "raw_text": {
          "name": "raw_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extracted_json": {
          "name": "extracted_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "extraction_model": {
          "name": "extraction_model",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'gpt-4o'"
        },
        "symptom_checkin_id": {
          "name": "symptom_checkin_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_symptoms_user_id_users_id_fk": {
          "name": "chat_symptoms_user_id_users_id_fk",
          "tableFrom": "chat_symptoms",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chat_symptoms_session_id_chat_sessions_id_fk": {
          "name": "chat_symptoms_session_id_chat_sessions_id_fk",
          "tableFrom": "chat_symptoms",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chat_symptoms_message_id_chat_messages_id_fk": {
          "name": "chat_symptoms_message_id_chat_messages_id_fk",
          "tableFrom": "chat_symptoms",
          "tableTo": "chat_messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chat_symptoms_symptom_checkin_id_symptom_checkins_id_fk": {
          "name": "chat_symptoms_symptom_checkin_id_symptom_checkins_id_fk",
          "tableFrom": "chat_symptoms",
          "tableTo": "symptom_checkins",
          "columnsFrom": [
            "symptom_checkin_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.clinical_trials": {
      "name": "clinical_trials",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "official_title": {
          "name": "official_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "brief_summary": {
          "name": "brief_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "detailed_description": {
          "name": "detailed_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "phase": {
          "name": "phase",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "study_type": {
          "name": "study_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "interventions": {
          "name": "interventions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "eligibility_criteria": {
          "name": "eligibility_criteria",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "min_age": {
          "name": "min_age",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_age": {
          "name": "max_age",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "healthy_volunteers": {
          "name": "healthy_volunteers",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "locations": {
          "name": "locations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "sponsor": {
          "name": "sponsor",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "collaborators": {
          "name": "collaborators",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completion_date": {
          "name": "completion_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "clinical_trials_gov_url": {
          "name": "clinical_trials_gov_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.clinician_notes": {
      "name": "clinician_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "clinician_id": {
          "name": "clinician_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "clinician_notes_session_idx": {
          "name": "clinician_notes_session_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "clinician_notes_clinician_idx": {
          "name": "clinician_notes_clinician_idx",
          "columns": [
            {
              "expression": "clinician_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "clinician_notes_session_id_paintrack_sessions_id_fk": {
          "name": "clinician_notes_session_id_paintrack_sessions_id_fk",
          "tableFrom": "clinician_notes",
          "tableTo": "paintrack_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "clinician_notes_clinician_id_users_id_fk": {
          "name": "clinician_notes_clinician_id_users_id_fk",
          "tableFrom": "clinician_notes",
          "tableTo": "users",
          "columnsFrom": [
            "clinician_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.clinician_workload_metrics": {
      "name": "clinician_workload_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "clinician_id": {
          "name": "clinician_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "alerts_received": {
          "name": "alerts_received",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "alerts_acknowledged": {
          "name": "alerts_acknowledged",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "alerts_dismissed": {
          "name": "alerts_dismissed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "alerts_escalated": {
          "name": "alerts_escalated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_response_time_seconds": {
          "name": "avg_response_time_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "manual_checks_avoided": {
          "name": "manual_checks_avoided",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "baseline_manual_checks": {
          "name": "baseline_manual_checks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "workload_reduction_percent": {
          "name": "workload_reduction_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "computed_at": {
          "name": "computed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "clinician_workload_clinician_period_idx": {
          "name": "clinician_workload_clinician_period_idx",
          "columns": [
            {
              "expression": "clinician_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "clinician_workload_metrics_clinician_id_users_id_fk": {
          "name": "clinician_workload_metrics_clinician_id_users_id_fk",
          "tableFrom": "clinician_workload_metrics",
          "tableTo": "users",
          "columnsFrom": [
            "clinician_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cognitive_tests": {
      "name": "cognitive_tests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "test_type": {
          "name": "test_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reaction_time_ms": {
          "name": "reaction_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tapping_speed": {
          "name": "tapping_speed",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "error_rate": {
          "name": "error_rate",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "memory_score": {
          "name": "memory_score",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "pattern_recall_accuracy": {
          "name": "pattern_recall_accuracy",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "instruction_accuracy": {
          "name": "instruction_accuracy",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "raw_results": {
          "name": "raw_results",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "baseline_deviation": {
          "name": "baseline_deviation",
          "type": "numeric(6, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "anomaly_detected": {
          "name": "anomaly_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "cognitive_tests_patient_type_idx": {
          "name": "cognitive_tests_patient_type_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "test_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "cognitive_tests_anomaly_idx": {
          "name": "cognitive_tests_anomaly_idx",
          "columns": [
            {
              "expression": "anomaly_detected",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "cognitive_tests_patient_id_users_id_fk": {
          "name": "cognitive_tests_patient_id_users_id_fk",
          "tableFrom": "cognitive_tests",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.companion_check_ins": {
      "name": "companion_check_ins",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "check_in_type": {
          "name": "check_in_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_summary": {
          "name": "conversation_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "natural_language_input": {
          "name": "natural_language_input",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_data": {
          "name": "extracted_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "empathy_level": {
          "name": "empathy_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'supportive'"
        },
        "ai_response": {
          "name": "ai_response",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sentiment_score": {
          "name": "sentiment_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "concerns_raised": {
          "name": "concerns_raised",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "needs_followup": {
          "name": "needs_followup",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "followup_reason": {
          "name": "followup_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notified_doctor": {
          "name": "notified_doctor",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "session_duration": {
          "name": "session_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "interaction_count": {
          "name": "interaction_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "checked_in_at": {
          "name": "checked_in_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "companion_check_ins_patient_id_users_id_fk": {
          "name": "companion_check_ins_patient_id_users_id_fk",
          "tableFrom": "companion_check_ins",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.companion_engagement": {
      "name": "companion_engagement",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "total_check_ins": {
          "name": "total_check_ins",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "current_streak": {
          "name": "current_streak",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "longest_streak": {
          "name": "longest_streak",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_check_in_date": {
          "name": "last_check_in_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "favorite_check_in_type": {
          "name": "favorite_check_in_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "avg_sentiment_score": {
          "name": "avg_sentiment_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_concerns_raised": {
          "name": "total_concerns_raised",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "companion_personality": {
          "name": "companion_personality",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'empathetic'"
        },
        "preferred_tone": {
          "name": "preferred_tone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'warm'"
        },
        "notification_preference": {
          "name": "notification_preference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'gentle'"
        },
        "best_check_in_time": {
          "name": "best_check_in_time",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 50
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "companion_engagement_patient_id_users_id_fk": {
          "name": "companion_engagement_patient_id_users_id_fk",
          "tableFrom": "companion_engagement",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "companion_engagement_patient_id_unique": {
          "name": "companion_engagement_patient_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "patient_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.condition_trigger_mappings": {
      "name": "condition_trigger_mappings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "condition_code": {
          "name": "condition_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "condition_name": {
          "name": "condition_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "factor_type": {
          "name": "factor_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "factor_name": {
          "name": "factor_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_threshold": {
          "name": "trigger_threshold",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "critical_threshold": {
          "name": "critical_threshold",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "base_weight": {
          "name": "base_weight",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.5'"
        },
        "impact_direction": {
          "name": "impact_direction",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "clinical_evidence": {
          "name": "clinical_evidence",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recommendations": {
          "name": "recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "trigger_condition_idx": {
          "name": "trigger_condition_idx",
          "columns": [
            {
              "expression": "condition_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "trigger_factor_idx": {
          "name": "trigger_factor_idx",
          "columns": [
            {
              "expression": "factor_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.consultations": {
      "name": "consultations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "request_reason": {
          "name": "request_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "urgency_level": {
          "name": "urgency_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "credits_charged": {
          "name": "credits_charged",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 20
        },
        "credits_paid": {
          "name": "credits_paid",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "doctor_notes": {
          "name": "doctor_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recommendations": {
          "name": "recommendations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "follow_up_required": {
          "name": "follow_up_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "follow_up_date": {
          "name": "follow_up_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "patient_rating": {
          "name": "patient_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "patient_feedback": {
          "name": "patient_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "consultations_patient_id_users_id_fk": {
          "name": "consultations_patient_id_users_id_fk",
          "tableFrom": "consultations",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "consultations_doctor_id_users_id_fk": {
          "name": "consultations_doctor_id_users_id_fk",
          "tableFrom": "consultations",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "consultations_session_id_chat_sessions_id_fk": {
          "name": "consultations_session_id_chat_sessions_id_fk",
          "tableFrom": "consultations",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.correlation_patterns": {
      "name": "correlation_patterns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "pattern_name": {
          "name": "pattern_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "pattern_type": {
          "name": "pattern_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "factors": {
          "name": "factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_strength": {
          "name": "correlation_strength",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "sample_size": {
          "name": "sample_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "time_window": {
          "name": "time_window",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "first_observed": {
          "name": "first_observed",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_observed": {
          "name": "last_observed",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "frequency": {
          "name": "frequency",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "insight": {
          "name": "insight",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recommendation": {
          "name": "recommendation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "correlation_patterns_user_id_users_id_fk": {
          "name": "correlation_patterns_user_id_users_id_fk",
          "tableFrom": "correlation_patterns",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.counseling_sessions": {
      "name": "counseling_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "session_date": {
          "name": "session_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "counselor_name": {
          "name": "counselor_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "session_type": {
          "name": "session_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "session_mode": {
          "name": "session_mode",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "main_concerns": {
          "name": "main_concerns",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "session_notes": {
          "name": "session_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "follow_up_required": {
          "name": "follow_up_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "follow_up_date": {
          "name": "follow_up_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'scheduled'"
        },
        "effectiveness": {
          "name": "effectiveness",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "counseling_sessions_user_id_users_id_fk": {
          "name": "counseling_sessions_user_id_users_id_fk",
          "tableFrom": "counseling_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.credit_transactions": {
      "name": "credit_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_type": {
          "name": "transaction_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "balance_after": {
          "name": "balance_after",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "consultation_id": {
          "name": "consultation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_payment_id": {
          "name": "stripe_payment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "credit_transactions_user_id_users_id_fk": {
          "name": "credit_transactions_user_id_users_id_fk",
          "tableFrom": "credit_transactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credit_transactions_consultation_id_consultations_id_fk": {
          "name": "credit_transactions_consultation_id_consultations_id_fk",
          "tableFrom": "credit_transactions",
          "tableTo": "consultations",
          "columnsFrom": [
            "consultation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.daily_engagement": {
      "name": "daily_engagement",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "clona_interactions": {
          "name": "clona_interactions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "clona_session_duration": {
          "name": "clona_session_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "clona_topics": {
          "name": "clona_topics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "clona_sentiment": {
          "name": "clona_sentiment",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "lysa_interactions": {
          "name": "lysa_interactions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "lysa_session_duration": {
          "name": "lysa_session_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "lysa_topics": {
          "name": "lysa_topics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "habits_completed": {
          "name": "habits_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "habits_skipped": {
          "name": "habits_skipped",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "health_metrics_logged": {
          "name": "health_metrics_logged",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_streak_day": {
          "name": "is_streak_day",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "streak_count": {
          "name": "streak_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "daily_engagement_user_id_users_id_fk": {
          "name": "daily_engagement_user_id_users_id_fk",
          "tableFrom": "daily_engagement",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.daily_followup_assignments": {
      "name": "daily_followup_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "template_id": {
          "name": "template_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "study_id": {
          "name": "study_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'daily'"
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notify_at": {
          "name": "notify_at",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reminder_enabled": {
          "name": "reminder_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "followup_assignment_template_idx": {
          "name": "followup_assignment_template_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "followup_assignment_patient_idx": {
          "name": "followup_assignment_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "followup_assignment_study_idx": {
          "name": "followup_assignment_study_idx",
          "columns": [
            {
              "expression": "study_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "followup_assignment_active_idx": {
          "name": "followup_assignment_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "daily_followup_assignments_template_id_daily_followup_templates_id_fk": {
          "name": "daily_followup_assignments_template_id_daily_followup_templates_id_fk",
          "tableFrom": "daily_followup_assignments",
          "tableTo": "daily_followup_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "daily_followup_assignments_patient_id_users_id_fk": {
          "name": "daily_followup_assignments_patient_id_users_id_fk",
          "tableFrom": "daily_followup_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "daily_followup_assignments_study_id_research_studies_id_fk": {
          "name": "daily_followup_assignments_study_id_research_studies_id_fk",
          "tableFrom": "daily_followup_assignments",
          "tableTo": "research_studies",
          "columnsFrom": [
            "study_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "daily_followup_assignments_created_by_users_id_fk": {
          "name": "daily_followup_assignments_created_by_users_id_fk",
          "tableFrom": "daily_followup_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.daily_followup_responses": {
      "name": "daily_followup_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "assignment_id": {
          "name": "assignment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "response_date": {
          "name": "response_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "responses_json": {
          "name": "responses_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_complete": {
          "name": "is_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "overall_score": {
          "name": "overall_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "symptom_score": {
          "name": "symptom_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "mood_score": {
          "name": "mood_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "followup_response_assignment_idx": {
          "name": "followup_response_assignment_idx",
          "columns": [
            {
              "expression": "assignment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "followup_response_patient_idx": {
          "name": "followup_response_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "followup_response_date_idx": {
          "name": "followup_response_date_idx",
          "columns": [
            {
              "expression": "response_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "daily_followup_responses_assignment_id_daily_followup_assignments_id_fk": {
          "name": "daily_followup_responses_assignment_id_daily_followup_assignments_id_fk",
          "tableFrom": "daily_followup_responses",
          "tableTo": "daily_followup_assignments",
          "columnsFrom": [
            "assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "daily_followup_responses_patient_id_users_id_fk": {
          "name": "daily_followup_responses_patient_id_users_id_fk",
          "tableFrom": "daily_followup_responses",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.daily_followup_templates": {
      "name": "daily_followup_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "questions_json": {
          "name": "questions_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_duration": {
          "name": "estimated_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "followup_template_category_idx": {
          "name": "followup_template_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "followup_template_active_idx": {
          "name": "followup_template_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "daily_followup_templates_created_by_users_id_fk": {
          "name": "daily_followup_templates_created_by_users_id_fk",
          "tableFrom": "daily_followup_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.daily_followups": {
      "name": "daily_followups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "heart_rate": {
          "name": "heart_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "blood_pressure_systolic": {
          "name": "blood_pressure_systolic",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "blood_pressure_diastolic": {
          "name": "blood_pressure_diastolic",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "blood_glucose": {
          "name": "blood_glucose",
          "type": "numeric(5, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "oxygen_saturation": {
          "name": "oxygen_saturation",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "temperature": {
          "name": "temperature",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "respiratory_rate": {
          "name": "respiratory_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "respiratory_sound_analysis": {
          "name": "respiratory_sound_analysis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "anemia_detected": {
          "name": "anemia_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "jaundice_detected": {
          "name": "jaundice_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "edema_detected": {
          "name": "edema_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "skin_conditions": {
          "name": "skin_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "bowel_movements": {
          "name": "bowel_movements",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bowel_consistency": {
          "name": "bowel_consistency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "urine_frequency": {
          "name": "urine_frequency",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "urine_color": {
          "name": "urine_color",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "water_intake": {
          "name": "water_intake",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "steps_count": {
          "name": "steps_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_hours": {
          "name": "sleep_hours",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "completed": {
          "name": "completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "device_data_source": {
          "name": "device_data_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "camera_assessment_completed": {
          "name": "camera_assessment_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "daily_followups_patient_id_users_id_fk": {
          "name": "daily_followups_patient_id_users_id_fk",
          "tableFrom": "daily_followups",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.data_snapshots": {
      "name": "data_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "table_checksums": {
          "name": "table_checksums",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "row_counts": {
          "name": "row_counts",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "date_range": {
          "name": "date_range",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "data_snapshot_created_by_idx": {
          "name": "data_snapshot_created_by_idx",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deterioration_predictions": {
      "name": "deterioration_predictions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "prediction_date": {
          "name": "prediction_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "prediction_horizon": {
          "name": "prediction_horizon",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 72
        },
        "hospitalization_risk": {
          "name": "hospitalization_risk",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "risk_level": {
          "name": "risk_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "risk_trend": {
          "name": "risk_trend",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "primary_risk_factors": {
          "name": "primary_risk_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "immune_score_trend": {
          "name": "immune_score_trend",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "hrv_trend": {
          "name": "hrv_trend",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_quality_trend": {
          "name": "sleep_quality_trend",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "resting_heart_rate_trend": {
          "name": "resting_heart_rate_trend",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "temperature_trend": {
          "name": "temperature_trend",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "environmental_risk_score": {
          "name": "environmental_risk_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "air_quality_impact": {
          "name": "air_quality_impact",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "pathogen_exposure_risk": {
          "name": "pathogen_exposure_risk",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "early_warning_signals": {
          "name": "early_warning_signals",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "prevention_recommendations": {
          "name": "prevention_recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "recommended_actions": {
          "name": "recommended_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "should_contact_doctor": {
          "name": "should_contact_doctor",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "should_seek_emergency_care": {
          "name": "should_seek_emergency_care",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "model_version": {
          "name": "model_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "data_quality_score": {
          "name": "data_quality_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "actual_outcome": {
          "name": "actual_outcome",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "outcome_notes": {
          "name": "outcome_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outcome_date": {
          "name": "outcome_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "deterioration_predictions_user_id_users_id_fk": {
          "name": "deterioration_predictions_user_id_users_id_fk",
          "tableFrom": "deterioration_predictions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deterioration_trends": {
      "name": "deterioration_trends",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "trend_type": {
          "name": "trend_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "trend_start_date": {
          "name": "trend_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "trend_duration_days": {
          "name": "trend_duration_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "trend_slope": {
          "name": "trend_slope",
          "type": "numeric(10, 5)",
          "primaryKey": false,
          "notNull": false
        },
        "z_score": {
          "name": "z_score",
          "type": "numeric(6, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "p_value": {
          "name": "p_value",
          "type": "numeric(10, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_level": {
          "name": "confidence_level",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "affected_metrics": {
          "name": "affected_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metric_values": {
          "name": "metric_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "clinical_significance": {
          "name": "clinical_significance",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recommended_actions": {
          "name": "recommended_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "alert_generated": {
          "name": "alert_generated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "alert_id": {
          "name": "alert_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "deterioration_trends_patient_type_idx": {
          "name": "deterioration_trends_patient_type_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "trend_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "deterioration_trends_severity_idx": {
          "name": "deterioration_trends_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "deterioration_trends_alert_idx": {
          "name": "deterioration_trends_alert_idx",
          "columns": [
            {
              "expression": "alert_generated",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deterioration_trends_patient_id_users_id_fk": {
          "name": "deterioration_trends_patient_id_users_id_fk",
          "tableFrom": "deterioration_trends",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_data_audit_log": {
      "name": "device_data_audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "actor_id": {
          "name": "actor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "actor_type": {
          "name": "actor_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "actor_role": {
          "name": "actor_role",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "action_category": {
          "name": "action_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource_type": {
          "name": "resource_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "event_details": {
          "name": "event_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phi_accessed": {
          "name": "phi_accessed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "device_audit_actor_idx": {
          "name": "device_audit_actor_idx",
          "columns": [
            {
              "expression": "actor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_audit_action_idx": {
          "name": "device_audit_action_idx",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_audit_resource_idx": {
          "name": "device_audit_resource_idx",
          "columns": [
            {
              "expression": "resource_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_audit_patient_idx": {
          "name": "device_audit_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_audit_created_idx": {
          "name": "device_audit_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_health": {
      "name": "device_health",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_connection_id": {
          "name": "device_connection_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'unknown'"
        },
        "status_message": {
          "name": "status_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "battery_level": {
          "name": "battery_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "battery_status": {
          "name": "battery_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_battery_life": {
          "name": "estimated_battery_life",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "signal_strength": {
          "name": "signal_strength",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "connection_type": {
          "name": "connection_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_connection_at": {
          "name": "last_connection_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "connection_errors": {
          "name": "connection_errors",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "firmware_version": {
          "name": "firmware_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "firmware_update_available": {
          "name": "firmware_update_available",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "latest_firmware_version": {
          "name": "latest_firmware_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sync_success_rate": {
          "name": "sync_success_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_sync_latency": {
          "name": "avg_sync_latency",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_successful_sync": {
          "name": "last_successful_sync",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "consecutive_failures": {
          "name": "consecutive_failures",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "data_quality_score": {
          "name": "data_quality_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "missing_data_types": {
          "name": "missing_data_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "data_gaps": {
          "name": "data_gaps",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "health_alerts": {
          "name": "health_alerts",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "device_health_device_idx": {
          "name": "device_health_device_idx",
          "columns": [
            {
              "expression": "device_connection_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_health_status_idx": {
          "name": "device_health_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_health_last_seen_idx": {
          "name": "device_health_last_seen_idx",
          "columns": [
            {
              "expression": "last_seen_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "device_health_device_connection_id_wearable_integrations_id_fk": {
          "name": "device_health_device_connection_id_wearable_integrations_id_fk",
          "tableFrom": "device_health",
          "tableTo": "wearable_integrations",
          "columnsFrom": [
            "device_connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_models": {
      "name": "device_models",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "vendor_id": {
          "name": "vendor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_name": {
          "name": "vendor_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "model_name": {
          "name": "model_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "model_number": {
          "name": "model_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "device_type": {
          "name": "device_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "device_category": {
          "name": "device_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "capabilities": {
          "name": "capabilities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "pairing_methods": {
          "name": "pairing_methods",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "api_config": {
          "name": "api_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "baa_required": {
          "name": "baa_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "baa_status": {
          "name": "baa_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "hipaa_compliant": {
          "name": "hipaa_compliant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "fda_cleared": {
          "name": "fda_cleared",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "fda_clearance_number": {
          "name": "fda_clearance_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "setup_instructions": {
          "name": "setup_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "troubleshooting_guide": {
          "name": "troubleshooting_guide",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "docs_url": {
          "name": "docs_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "support_url": {
          "name": "support_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_public_api": {
          "name": "is_public_api",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "requires_partnership": {
          "name": "requires_partnership",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "image_url": {
          "name": "image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "device_models_vendor_idx": {
          "name": "device_models_vendor_idx",
          "columns": [
            {
              "expression": "vendor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_models_type_idx": {
          "name": "device_models_type_idx",
          "columns": [
            {
              "expression": "device_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_models_active_idx": {
          "name": "device_models_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_pairing_sessions": {
      "name": "device_pairing_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "device_model_id": {
          "name": "device_model_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "device_type": {
          "name": "device_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_id": {
          "name": "vendor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "pairing_method": {
          "name": "pairing_method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "session_status": {
          "name": "session_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'initiated'"
        },
        "oauth_state": {
          "name": "oauth_state",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "oauth_code_verifier": {
          "name": "oauth_code_verifier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "oauth_redirect_uri": {
          "name": "oauth_redirect_uri",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ble_device_id": {
          "name": "ble_device_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ble_service_uuid": {
          "name": "ble_service_uuid",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ble_pairing_code": {
          "name": "ble_pairing_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "qr_code_token": {
          "name": "qr_code_token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "qr_code_expires_at": {
          "name": "qr_code_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "result_device_connection_id": {
          "name": "result_device_connection_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "result_vendor_account_id": {
          "name": "result_vendor_account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_details": {
          "name": "error_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "consent_captured": {
          "name": "consent_captured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "consent_timestamp": {
          "name": "consent_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "consent_version": {
          "name": "consent_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "consented_data_types": {
          "name": "consented_data_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "device_pairing_user_idx": {
          "name": "device_pairing_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_pairing_status_idx": {
          "name": "device_pairing_status_idx",
          "columns": [
            {
              "expression": "session_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_pairing_oauth_state_idx": {
          "name": "device_pairing_oauth_state_idx",
          "columns": [
            {
              "expression": "oauth_state",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_pairing_expiry_idx": {
          "name": "device_pairing_expiry_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "device_pairing_sessions_user_id_users_id_fk": {
          "name": "device_pairing_sessions_user_id_users_id_fk",
          "tableFrom": "device_pairing_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "device_pairing_sessions_device_model_id_device_models_id_fk": {
          "name": "device_pairing_sessions_device_model_id_device_models_id_fk",
          "tableFrom": "device_pairing_sessions",
          "tableTo": "device_models",
          "columnsFrom": [
            "device_model_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "device_pairing_sessions_result_device_connection_id_wearable_integrations_id_fk": {
          "name": "device_pairing_sessions_result_device_connection_id_wearable_integrations_id_fk",
          "tableFrom": "device_pairing_sessions",
          "tableTo": "wearable_integrations",
          "columnsFrom": [
            "result_device_connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "device_pairing_sessions_result_vendor_account_id_vendor_accounts_id_fk": {
          "name": "device_pairing_sessions_result_vendor_account_id_vendor_accounts_id_fk",
          "tableFrom": "device_pairing_sessions",
          "tableTo": "vendor_accounts",
          "columnsFrom": [
            "result_vendor_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_readings": {
      "name": "device_readings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "device_type": {
          "name": "device_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "device_brand": {
          "name": "device_brand",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "device_model": {
          "name": "device_model",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "wearable_integration_id": {
          "name": "wearable_integration_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "bp_systolic": {
          "name": "bp_systolic",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bp_diastolic": {
          "name": "bp_diastolic",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bp_pulse": {
          "name": "bp_pulse",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bp_irregular_heartbeat": {
          "name": "bp_irregular_heartbeat",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "bp_body_position": {
          "name": "bp_body_position",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "bp_arm_used": {
          "name": "bp_arm_used",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "glucose_value": {
          "name": "glucose_value",
          "type": "numeric(5, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "glucose_context": {
          "name": "glucose_context",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "glucose_unit": {
          "name": "glucose_unit",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'mg/dL'"
        },
        "weight": {
          "name": "weight",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "weight_unit": {
          "name": "weight_unit",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'kg'"
        },
        "bmi": {
          "name": "bmi",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "body_fat_percentage": {
          "name": "body_fat_percentage",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "muscle_mass": {
          "name": "muscle_mass",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "bone_mass": {
          "name": "bone_mass",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "water_percentage": {
          "name": "water_percentage",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "visceral_fat": {
          "name": "visceral_fat",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metabolic_age": {
          "name": "metabolic_age",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "temperature": {
          "name": "temperature",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "temperature_unit": {
          "name": "temperature_unit",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'F'"
        },
        "temperature_location": {
          "name": "temperature_location",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stethoscope_audio_url": {
          "name": "stethoscope_audio_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stethoscope_location": {
          "name": "stethoscope_location",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "heart_sounds_analysis": {
          "name": "heart_sounds_analysis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "lung_sounds_analysis": {
          "name": "lung_sounds_analysis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "heart_rate": {
          "name": "heart_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "resting_heart_rate": {
          "name": "resting_heart_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hrv": {
          "name": "hrv",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hrv_sdnn": {
          "name": "hrv_sdnn",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ecg_data": {
          "name": "ecg_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "afib_detected": {
          "name": "afib_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "irregular_rhythm_alert": {
          "name": "irregular_rhythm_alert",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "heart_rate_zones": {
          "name": "heart_rate_zones",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "spo2": {
          "name": "spo2",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "spo2_min": {
          "name": "spo2_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "respiratory_rate": {
          "name": "respiratory_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_duration": {
          "name": "sleep_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_deep_minutes": {
          "name": "sleep_deep_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_rem_minutes": {
          "name": "sleep_rem_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_light_minutes": {
          "name": "sleep_light_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_awake_minutes": {
          "name": "sleep_awake_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_score": {
          "name": "sleep_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_efficiency": {
          "name": "sleep_efficiency",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_consistency": {
          "name": "sleep_consistency",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_debt": {
          "name": "sleep_debt",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_need": {
          "name": "sleep_need",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recovery_score": {
          "name": "recovery_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "readiness_score": {
          "name": "readiness_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "body_battery": {
          "name": "body_battery",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "strain_score": {
          "name": "strain_score",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "stress_score": {
          "name": "stress_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "skin_temperature": {
          "name": "skin_temperature",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "skin_temp_unit": {
          "name": "skin_temp_unit",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'C'"
        },
        "steps": {
          "name": "steps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "active_minutes": {
          "name": "active_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "calories_burned": {
          "name": "calories_burned",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "distance_meters": {
          "name": "distance_meters",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "floors_climbed": {
          "name": "floors_climbed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "standing_hours": {
          "name": "standing_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vo2_max": {
          "name": "vo2_max",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "training_load": {
          "name": "training_load",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "training_status": {
          "name": "training_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "training_readiness": {
          "name": "training_readiness",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fitness_age": {
          "name": "fitness_age",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "running_dynamics": {
          "name": "running_dynamics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "lactate_threshold": {
          "name": "lactate_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "performance_condition": {
          "name": "performance_condition",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cycle_day": {
          "name": "cycle_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cycle_phase": {
          "name": "cycle_phase",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "predicted_ovulation": {
          "name": "predicted_ovulation",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "period_logged": {
          "name": "period_logged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "fall_detected": {
          "name": "fall_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "fall_timestamp": {
          "name": "fall_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_sos_triggered": {
          "name": "emergency_sos_triggered",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "route_to_hypertension": {
          "name": "route_to_hypertension",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "route_to_diabetes": {
          "name": "route_to_diabetes",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "route_to_cardiovascular": {
          "name": "route_to_cardiovascular",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "route_to_respiratory": {
          "name": "route_to_respiratory",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "route_to_sleep": {
          "name": "route_to_sleep",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "route_to_mental_health": {
          "name": "route_to_mental_health",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "route_to_fitness": {
          "name": "route_to_fitness",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "processed_for_alerts": {
          "name": "processed_for_alerts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "alerts_generated": {
          "name": "alerts_generated",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "contributed_to_ml_training": {
          "name": "contributed_to_ml_training",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "device_readings_patient_date_idx": {
          "name": "device_readings_patient_date_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_readings_device_type_idx": {
          "name": "device_readings_device_type_idx",
          "columns": [
            {
              "expression": "device_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_readings_source_idx": {
          "name": "device_readings_source_idx",
          "columns": [
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "device_readings_patient_id_users_id_fk": {
          "name": "device_readings_patient_id_users_id_fk",
          "tableFrom": "device_readings",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "device_readings_wearable_integration_id_wearable_integrations_id_fk": {
          "name": "device_readings_wearable_integration_id_wearable_integrations_id_fk",
          "tableFrom": "device_readings",
          "tableTo": "wearable_integrations",
          "columnsFrom": [
            "wearable_integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_sync_jobs": {
      "name": "device_sync_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "job_type": {
          "name": "job_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_account_id": {
          "name": "vendor_account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "device_connection_id": {
          "name": "device_connection_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "records_processed": {
          "name": "records_processed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "records_failed": {
          "name": "records_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "data_types": {
          "name": "data_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "date_range": {
          "name": "date_range",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_stack": {
          "name": "error_stack",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "worker_id": {
          "name": "worker_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "device_sync_jobs_status_idx": {
          "name": "device_sync_jobs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_sync_jobs_scheduled_idx": {
          "name": "device_sync_jobs_scheduled_idx",
          "columns": [
            {
              "expression": "scheduled_for",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_sync_jobs_vendor_idx": {
          "name": "device_sync_jobs_vendor_idx",
          "columns": [
            {
              "expression": "vendor_account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "device_sync_jobs_vendor_account_id_vendor_accounts_id_fk": {
          "name": "device_sync_jobs_vendor_account_id_vendor_accounts_id_fk",
          "tableFrom": "device_sync_jobs",
          "tableTo": "vendor_accounts",
          "columnsFrom": [
            "vendor_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "device_sync_jobs_device_connection_id_wearable_integrations_id_fk": {
          "name": "device_sync_jobs_device_connection_id_wearable_integrations_id_fk",
          "tableFrom": "device_sync_jobs",
          "tableTo": "wearable_integrations",
          "columnsFrom": [
            "device_connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "device_sync_jobs_user_id_users_id_fk": {
          "name": "device_sync_jobs_user_id_users_id_fk",
          "tableFrom": "device_sync_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dietary_preferences": {
      "name": "dietary_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "diet_type": {
          "name": "diet_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "allergies": {
          "name": "allergies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "intolerances": {
          "name": "intolerances",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "dislikes": {
          "name": "dislikes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "cultural_restrictions": {
          "name": "cultural_restrictions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "religious_restrictions": {
          "name": "religious_restrictions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "calorie_target": {
          "name": "calorie_target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "protein_target": {
          "name": "protein_target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "carb_target": {
          "name": "carb_target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fat_target": {
          "name": "fat_target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "immune_boosting_focus": {
          "name": "immune_boosting_focus",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "preferred_cuisines": {
          "name": "preferred_cuisines",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "cooking_skill_level": {
          "name": "cooking_skill_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "meals_per_day": {
          "name": "meals_per_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "snacks_per_day": {
          "name": "snacks_per_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "dietary_preferences_patient_id_users_id_fk": {
          "name": "dietary_preferences_patient_id_users_id_fk",
          "tableFrom": "dietary_preferences",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "dietary_preferences_patient_id_unique": {
          "name": "dietary_preferences_patient_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "patient_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.differential_diagnoses": {
      "name": "differential_diagnoses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "medical_history_id": {
          "name": "medical_history_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "diagnoses": {
          "name": "diagnoses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "immediate_actions": {
          "name": "immediate_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "follow_up_recommendations": {
          "name": "follow_up_recommendations",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "urgency_level": {
          "name": "urgency_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "generated_by": {
          "name": "generated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'agent_clona'"
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "differential_diagnoses_medical_history_id_medical_histories_id_fk": {
          "name": "differential_diagnoses_medical_history_id_medical_histories_id_fk",
          "tableFrom": "differential_diagnoses",
          "tableTo": "medical_histories",
          "columnsFrom": [
            "medical_history_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "differential_diagnoses_session_id_chat_sessions_id_fk": {
          "name": "differential_diagnoses_session_id_chat_sessions_id_fk",
          "tableFrom": "differential_diagnoses",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "differential_diagnoses_user_id_users_id_fk": {
          "name": "differential_diagnoses_user_id_users_id_fk",
          "tableFrom": "differential_diagnoses",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.digital_biomarkers": {
      "name": "digital_biomarkers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "daily_step_count": {
          "name": "daily_step_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "step_trend_7day": {
          "name": "step_trend_7day",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "activity_burst_count": {
          "name": "activity_burst_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sedentary_duration_minutes": {
          "name": "sedentary_duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "movement_variability_score": {
          "name": "movement_variability_score",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "circadian_rhythm_stability": {
          "name": "circadian_rhythm_stability",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_wake_irregularity_minutes": {
          "name": "sleep_wake_irregularity_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "daily_peak_activity_time": {
          "name": "daily_peak_activity_time",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "phone_usage_irregularity": {
          "name": "phone_usage_irregularity",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "night_phone_interaction_count": {
          "name": "night_phone_interaction_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "screen_on_duration_minutes": {
          "name": "screen_on_duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "mobility_drop_detected": {
          "name": "mobility_drop_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "mobility_change_percent": {
          "name": "mobility_change_percent",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "accelerometer_std_dev": {
          "name": "accelerometer_std_dev",
          "type": "numeric(10, 5)",
          "primaryKey": false,
          "notNull": false
        },
        "accelerometer_mean_magnitude": {
          "name": "accelerometer_mean_magnitude",
          "type": "numeric(10, 5)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "digital_biomarkers_patient_date_idx": {
          "name": "digital_biomarkers_patient_date_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "digital_biomarkers_mobility_drop_idx": {
          "name": "digital_biomarkers_mobility_drop_idx",
          "columns": [
            {
              "expression": "mobility_drop_detected",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "digital_biomarkers_patient_id_users_id_fk": {
          "name": "digital_biomarkers_patient_id_users_id_fk",
          "tableFrom": "digital_biomarkers",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.doctor_availability": {
      "name": "doctor_availability",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "day_of_week": {
          "name": "day_of_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "specific_date": {
          "name": "specific_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_available": {
          "name": "is_available",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "break_start": {
          "name": "break_start",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "break_end": {
          "name": "break_end",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "slot_duration": {
          "name": "slot_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "buffer_between_slots": {
          "name": "buffer_between_slots",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "max_slots_per_day": {
          "name": "max_slots_per_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "allowed_types": {
          "name": "allowed_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_recurring": {
          "name": "is_recurring",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "doctor_availability_doctor_day_idx": {
          "name": "doctor_availability_doctor_day_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "day_of_week",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doctor_availability_date_idx": {
          "name": "doctor_availability_date_idx",
          "columns": [
            {
              "expression": "specific_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "doctor_availability_doctor_id_users_id_fk": {
          "name": "doctor_availability_doctor_id_users_id_fk",
          "tableFrom": "doctor_availability",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.doctor_consultation_consents": {
      "name": "doctor_consultation_consents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "requesting_doctor_id": {
          "name": "requesting_doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "consulting_doctor_id": {
          "name": "consulting_doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "purpose": {
          "name": "purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data_to_share": {
          "name": "data_to_share",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "consent_status": {
          "name": "consent_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "consent_granted_at": {
          "name": "consent_granted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "consent_revoked_at": {
          "name": "consent_revoked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "revoke_reason": {
          "name": "revoke_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "consultation_completed": {
          "name": "consultation_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "consultation_date": {
          "name": "consultation_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "consultation_notes": {
          "name": "consultation_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "doctor_consultation_consents_patient_id_users_id_fk": {
          "name": "doctor_consultation_consents_patient_id_users_id_fk",
          "tableFrom": "doctor_consultation_consents",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "doctor_consultation_consents_requesting_doctor_id_users_id_fk": {
          "name": "doctor_consultation_consents_requesting_doctor_id_users_id_fk",
          "tableFrom": "doctor_consultation_consents",
          "tableTo": "users",
          "columnsFrom": [
            "requesting_doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "doctor_consultation_consents_consulting_doctor_id_users_id_fk": {
          "name": "doctor_consultation_consents_consulting_doctor_id_users_id_fk",
          "tableFrom": "doctor_consultation_consents",
          "tableTo": "users",
          "columnsFrom": [
            "consulting_doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.doctor_emails": {
      "name": "doctor_emails",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "integration_id": {
          "name": "integration_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "provider_message_id": {
          "name": "provider_message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "thread_id": {
          "name": "thread_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "from_email": {
          "name": "from_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "from_name": {
          "name": "from_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "to_emails": {
          "name": "to_emails",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "cc_emails": {
          "name": "cc_emails",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "snippet": {
          "name": "snippet",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body_plain": {
          "name": "body_plain",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body_html": {
          "name": "body_html",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_starred": {
          "name": "is_starred",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "labels": {
          "name": "labels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "linked_patient_id": {
          "name": "linked_patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "patient_link_confidence": {
          "name": "patient_link_confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ai_category": {
          "name": "ai_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ai_priority": {
          "name": "ai_priority",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ai_summary": {
          "name": "ai_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_suggested_reply": {
          "name": "ai_suggested_reply",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_extracted_info": {
          "name": "ai_extracted_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "has_been_replied": {
          "name": "has_been_replied",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "replied_at": {
          "name": "replied_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "received_at": {
          "name": "received_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "synced_at": {
          "name": "synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "doctor_emails_doctor_idx": {
          "name": "doctor_emails_doctor_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doctor_emails_thread_idx": {
          "name": "doctor_emails_thread_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doctor_emails_category_idx": {
          "name": "doctor_emails_category_idx",
          "columns": [
            {
              "expression": "ai_category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doctor_emails_patient_idx": {
          "name": "doctor_emails_patient_idx",
          "columns": [
            {
              "expression": "linked_patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doctor_emails_received_idx": {
          "name": "doctor_emails_received_idx",
          "columns": [
            {
              "expression": "received_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "doctor_emails_doctor_id_users_id_fk": {
          "name": "doctor_emails_doctor_id_users_id_fk",
          "tableFrom": "doctor_emails",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "doctor_emails_integration_id_doctor_integrations_id_fk": {
          "name": "doctor_emails_integration_id_doctor_integrations_id_fk",
          "tableFrom": "doctor_emails",
          "tableTo": "doctor_integrations",
          "columnsFrom": [
            "integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "doctor_emails_linked_patient_id_users_id_fk": {
          "name": "doctor_emails_linked_patient_id_users_id_fk",
          "tableFrom": "doctor_emails",
          "tableTo": "users",
          "columnsFrom": [
            "linked_patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.doctor_integrations": {
      "name": "doctor_integrations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "integration_type": {
          "name": "integration_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'disconnected'"
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_error_at": {
          "name": "last_error_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_error_message": {
          "name": "last_error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "token_scope": {
          "name": "token_scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider_account_id": {
          "name": "provider_account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "provider_account_email": {
          "name": "provider_account_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "twilio_phone_number": {
          "name": "twilio_phone_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "twilio_account_sid": {
          "name": "twilio_account_sid",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "twilio_api_key": {
          "name": "twilio_api_key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "twilio_api_secret": {
          "name": "twilio_api_secret",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "whatsapp_business_id": {
          "name": "whatsapp_business_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "whatsapp_phone_number_id": {
          "name": "whatsapp_phone_number_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "whatsapp_display_number": {
          "name": "whatsapp_display_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sync_enabled": {
          "name": "sync_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sync_frequency_minutes": {
          "name": "sync_frequency_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "auto_reply_enabled": {
          "name": "auto_reply_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_labels_to_sync": {
          "name": "email_labels_to_sync",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "email_auto_categorization_enabled": {
          "name": "email_auto_categorization_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "doctor_integrations_doctor_idx": {
          "name": "doctor_integrations_doctor_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doctor_integrations_type_idx": {
          "name": "doctor_integrations_type_idx",
          "columns": [
            {
              "expression": "integration_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doctor_integrations_status_idx": {
          "name": "doctor_integrations_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doctor_integrations_unique_idx": {
          "name": "doctor_integrations_unique_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "integration_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "doctor_integrations_doctor_id_users_id_fk": {
          "name": "doctor_integrations_doctor_id_users_id_fk",
          "tableFrom": "doctor_integrations",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.doctor_patient_assignments": {
      "name": "doctor_patient_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "assignment_source": {
          "name": "assignment_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "source_reference_id": {
          "name": "source_reference_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "patient_consented": {
          "name": "patient_consented",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "consented_at": {
          "name": "consented_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "consent_method": {
          "name": "consent_method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary_care_provider": {
          "name": "is_primary_care_provider",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "access_scope": {
          "name": "access_scope",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'full'"
        },
        "access_notes": {
          "name": "access_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_by": {
          "name": "revoked_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "revocation_reason": {
          "name": "revocation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "doctor_patient_idx": {
          "name": "doctor_patient_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doctor_active_assignments_idx": {
          "name": "doctor_active_assignments_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "patient_active_assignments_idx": {
          "name": "patient_active_assignments_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "unique_active_doctor_patient": {
          "name": "unique_active_doctor_patient",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "doctor_patient_assignments_doctor_id_users_id_fk": {
          "name": "doctor_patient_assignments_doctor_id_users_id_fk",
          "tableFrom": "doctor_patient_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "doctor_patient_assignments_patient_id_users_id_fk": {
          "name": "doctor_patient_assignments_patient_id_users_id_fk",
          "tableFrom": "doctor_patient_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "doctor_patient_assignments_revoked_by_users_id_fk": {
          "name": "doctor_patient_assignments_revoked_by_users_id_fk",
          "tableFrom": "doctor_patient_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "revoked_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "doctor_patient_assignments_assigned_by_users_id_fk": {
          "name": "doctor_patient_assignments_assigned_by_users_id_fk",
          "tableFrom": "doctor_patient_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.doctor_patient_consent_permissions": {
      "name": "doctor_patient_consent_permissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "assignment_id": {
          "name": "assignment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "share_health_data": {
          "name": "share_health_data",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "confidentiality_agreed": {
          "name": "confidentiality_agreed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "share_medical_files": {
          "name": "share_medical_files",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "share_medications": {
          "name": "share_medications",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "share_ai_messages": {
          "name": "share_ai_messages",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "share_doctor_messages": {
          "name": "share_doctor_messages",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "share_daily_followups": {
          "name": "share_daily_followups",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "share_health_alerts": {
          "name": "share_health_alerts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "share_behavioral_insights": {
          "name": "share_behavioral_insights",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "share_pain_tracking": {
          "name": "share_pain_tracking",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "share_vital_signs": {
          "name": "share_vital_signs",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "consent_epidemiological_research": {
          "name": "consent_epidemiological_research",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "terms_version": {
          "name": "terms_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0'"
        },
        "terms_agreed_at": {
          "name": "terms_agreed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "digital_signature": {
          "name": "digital_signature",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "signature_method": {
          "name": "signature_method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "consent_ip_address": {
          "name": "consent_ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "consent_user_agent": {
          "name": "consent_user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "modified_by": {
          "name": "modified_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "consent_permissions_assignment_idx": {
          "name": "consent_permissions_assignment_idx",
          "columns": [
            {
              "expression": "assignment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "consent_permissions_doctor_patient_idx": {
          "name": "consent_permissions_doctor_patient_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "doctor_patient_consent_permissions_assignment_id_doctor_patient_assignments_id_fk": {
          "name": "doctor_patient_consent_permissions_assignment_id_doctor_patient_assignments_id_fk",
          "tableFrom": "doctor_patient_consent_permissions",
          "tableTo": "doctor_patient_assignments",
          "columnsFrom": [
            "assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "doctor_patient_consent_permissions_doctor_id_users_id_fk": {
          "name": "doctor_patient_consent_permissions_doctor_id_users_id_fk",
          "tableFrom": "doctor_patient_consent_permissions",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "doctor_patient_consent_permissions_patient_id_users_id_fk": {
          "name": "doctor_patient_consent_permissions_patient_id_users_id_fk",
          "tableFrom": "doctor_patient_consent_permissions",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "doctor_patient_consent_permissions_modified_by_users_id_fk": {
          "name": "doctor_patient_consent_permissions_modified_by_users_id_fk",
          "tableFrom": "doctor_patient_consent_permissions",
          "tableTo": "users",
          "columnsFrom": [
            "modified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.doctor_profiles": {
      "name": "doctor_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "linkedin_profile_url": {
          "name": "linkedin_profile_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "specialties": {
          "name": "specialties",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "education": {
          "name": "education",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "certifications": {
          "name": "certifications",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "publications": {
          "name": "publications",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "research_interests": {
          "name": "research_interests",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "doctor_profiles_user_id_users_id_fk": {
          "name": "doctor_profiles_user_id_users_id_fk",
          "tableFrom": "doctor_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.doctor_wellness": {
      "name": "doctor_wellness",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "meditation_minutes": {
          "name": "meditation_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "exercise_minutes": {
          "name": "exercise_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "sleep_hours": {
          "name": "sleep_hours",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "stress_level": {
          "name": "stress_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "burnout_score": {
          "name": "burnout_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "workload_level": {
          "name": "workload_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "research_time_minutes": {
          "name": "research_time_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "learning_activities": {
          "name": "learning_activities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "patients_seen_today": {
          "name": "patients_seen_today",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "average_consultation_time": {
          "name": "average_consultation_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "mood": {
          "name": "mood",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "energy_level": {
          "name": "energy_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lysa_recommendations": {
          "name": "lysa_recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "wellness_score": {
          "name": "wellness_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "doctor_wellness_doctor_id_users_id_fk": {
          "name": "doctor_wellness_doctor_id_users_id_fk",
          "tableFrom": "doctor_wellness",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.doctor_whatsapp_messages": {
      "name": "doctor_whatsapp_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "integration_id": {
          "name": "integration_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "wa_message_id": {
          "name": "wa_message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "wa_conversation_id": {
          "name": "wa_conversation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "direction": {
          "name": "direction",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "from_number": {
          "name": "from_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "to_number": {
          "name": "to_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "contact_name": {
          "name": "contact_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "message_type": {
          "name": "message_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "text_content": {
          "name": "text_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "media_url": {
          "name": "media_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "media_mime_type": {
          "name": "media_mime_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "linked_patient_id": {
          "name": "linked_patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ai_category": {
          "name": "ai_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ai_priority": {
          "name": "ai_priority",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ai_suggested_reply": {
          "name": "ai_suggested_reply",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_extracted_info": {
          "name": "ai_extracted_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'received'"
        },
        "replied_at": {
          "name": "replied_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "received_at": {
          "name": "received_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "synced_at": {
          "name": "synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "doctor_wa_doctor_idx": {
          "name": "doctor_wa_doctor_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doctor_wa_conversation_idx": {
          "name": "doctor_wa_conversation_idx",
          "columns": [
            {
              "expression": "wa_conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doctor_wa_patient_idx": {
          "name": "doctor_wa_patient_idx",
          "columns": [
            {
              "expression": "linked_patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doctor_wa_received_idx": {
          "name": "doctor_wa_received_idx",
          "columns": [
            {
              "expression": "received_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "doctor_whatsapp_messages_doctor_id_users_id_fk": {
          "name": "doctor_whatsapp_messages_doctor_id_users_id_fk",
          "tableFrom": "doctor_whatsapp_messages",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "doctor_whatsapp_messages_integration_id_doctor_integrations_id_fk": {
          "name": "doctor_whatsapp_messages_integration_id_doctor_integrations_id_fk",
          "tableFrom": "doctor_whatsapp_messages",
          "tableTo": "doctor_integrations",
          "columnsFrom": [
            "integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "doctor_whatsapp_messages_linked_patient_id_users_id_fk": {
          "name": "doctor_whatsapp_messages_linked_patient_id_users_id_fk",
          "tableFrom": "doctor_whatsapp_messages",
          "tableTo": "users",
          "columnsFrom": [
            "linked_patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dosage_change_requests": {
      "name": "dosage_change_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "medication_id": {
          "name": "medication_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "request_type": {
          "name": "request_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "current_dosage": {
          "name": "current_dosage",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "requested_dosage": {
          "name": "requested_dosage",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "current_frequency": {
          "name": "current_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "requested_frequency": {
          "name": "requested_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_change_date": {
          "name": "scheduled_change_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "request_reason": {
          "name": "request_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "additional_notes": {
          "name": "additional_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "reviewed_by_doctor_id": {
          "name": "reviewed_by_doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "doctor_notes": {
          "name": "doctor_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "doctor_notified_at": {
          "name": "doctor_notified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "patient_notified_at": {
          "name": "patient_notified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "dosage_change_requests_medication_id_medications_id_fk": {
          "name": "dosage_change_requests_medication_id_medications_id_fk",
          "tableFrom": "dosage_change_requests",
          "tableTo": "medications",
          "columnsFrom": [
            "medication_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dosage_change_requests_patient_id_users_id_fk": {
          "name": "dosage_change_requests_patient_id_users_id_fk",
          "tableFrom": "dosage_change_requests",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dosage_change_requests_reviewed_by_doctor_id_users_id_fk": {
          "name": "dosage_change_requests_reviewed_by_doctor_id_users_id_fk",
          "tableFrom": "dosage_change_requests",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by_doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.drug_gene_interactions": {
      "name": "drug_gene_interactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "drug_id": {
          "name": "drug_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "gene": {
          "name": "gene",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "allele": {
          "name": "allele",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "phenotype": {
          "name": "phenotype",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "clinical_effect": {
          "name": "clinical_effect",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recommendation": {
          "name": "recommendation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "dosage_adjustment": {
          "name": "dosage_adjustment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "alternative_drug": {
          "name": "alternative_drug",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "risk_level": {
          "name": "risk_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "fda_guideline": {
          "name": "fda_guideline",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "cpic_guideline": {
          "name": "cpic_guideline",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "evidence": {
          "name": "evidence",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "references": {
          "name": "references",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "drug_gene_interactions_drug_id_drugs_id_fk": {
          "name": "drug_gene_interactions_drug_id_drugs_id_fk",
          "tableFrom": "drug_gene_interactions",
          "tableTo": "drugs",
          "columnsFrom": [
            "drug_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.drug_interactions": {
      "name": "drug_interactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "drug1_id": {
          "name": "drug1_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "drug2_id": {
          "name": "drug2_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "severity_level": {
          "name": "severity_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "interaction_type": {
          "name": "interaction_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "mechanism_description": {
          "name": "mechanism_description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "clinical_effects": {
          "name": "clinical_effects",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "management_recommendations": {
          "name": "management_recommendations",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "alternative_suggestions": {
          "name": "alternative_suggestions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "onset_timeframe": {
          "name": "onset_timeframe",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "risk_for_immunocompromised": {
          "name": "risk_for_immunocompromised",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "requires_monitoring": {
          "name": "requires_monitoring",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "monitoring_parameters": {
          "name": "monitoring_parameters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "evidence_level": {
          "name": "evidence_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "literature_references": {
          "name": "literature_references",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "fda_warning": {
          "name": "fda_warning",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ai_analysis_confidence": {
          "name": "ai_analysis_confidence",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "detected_by_gnn": {
          "name": "detected_by_gnn",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "detected_by_nlp": {
          "name": "detected_by_nlp",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "drug_interactions_drug1_id_drugs_id_fk": {
          "name": "drug_interactions_drug1_id_drugs_id_fk",
          "tableFrom": "drug_interactions",
          "tableTo": "drugs",
          "columnsFrom": [
            "drug1_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "drug_interactions_drug2_id_drugs_id_fk": {
          "name": "drug_interactions_drug2_id_drugs_id_fk",
          "tableFrom": "drug_interactions",
          "tableTo": "drugs",
          "columnsFrom": [
            "drug2_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.drugs": {
      "name": "drugs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "rxcui": {
          "name": "rxcui",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "generic_name": {
          "name": "generic_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "brand_names": {
          "name": "brand_names",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "drug_class": {
          "name": "drug_class",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "mechanism_of_action": {
          "name": "mechanism_of_action",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "molecular_formula": {
          "name": "molecular_formula",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "molecular_weight": {
          "name": "molecular_weight",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "fda_approved": {
          "name": "fda_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "black_box_warning": {
          "name": "black_box_warning",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "black_box_warning_text": {
          "name": "black_box_warning_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "therapeutic_categories": {
          "name": "therapeutic_categories",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "common_side_effects": {
          "name": "common_side_effects",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "serious_side_effects": {
          "name": "serious_side_effects",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "contraindications_for_immune_suppressed": {
          "name": "contraindications_for_immune_suppressed",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "half_life": {
          "name": "half_life",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "metabolism_pathway": {
          "name": "metabolism_pathway",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cytochrome_p450_enzymes": {
          "name": "cytochrome_p450_enzymes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "renal_excretion": {
          "name": "renal_excretion",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "hepatic_metabolism": {
          "name": "hepatic_metabolism",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "protein_binding": {
          "name": "protein_binding",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "bioavailability": {
          "name": "bioavailability",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "peak_plasma_time": {
          "name": "peak_plasma_time",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "immunocompromised_safety": {
          "name": "immunocompromised_safety",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "pregnancy_category": {
          "name": "pregnancy_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "data_source": {
          "name": "data_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'rxnorm'"
        },
        "data_version": {
          "name": "data_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "drugs_rxcui_unique": {
          "name": "drugs_rxcui_unique",
          "nullsNotDistinct": false,
          "columns": [
            "rxcui"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dynamic_tasks": {
      "name": "dynamic_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "task_type": {
          "name": "task_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed": {
          "name": "completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "generated_by": {
          "name": "generated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "related_condition": {
          "name": "related_condition",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "dynamic_tasks_patient_id_users_id_fk": {
          "name": "dynamic_tasks_patient_id_users_id_fk",
          "tableFrom": "dynamic_tasks",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.educational_progress": {
      "name": "educational_progress",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "module_id": {
          "name": "module_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "module_name": {
          "name": "module_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "progress": {
          "name": "progress",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completed": {
          "name": "completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "educational_progress_patient_id_users_id_fk": {
          "name": "educational_progress_patient_id_users_id_fk",
          "tableFrom": "educational_progress",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ehr_connections": {
      "name": "ehr_connections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "ehr_system": {
          "name": "ehr_system",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "ehr_system_name": {
          "name": "ehr_system_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "connection_status": {
          "name": "connection_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "access_token": {
          "name": "access_token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "patient_external_id": {
          "name": "patient_external_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "facility_id": {
          "name": "facility_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "facility_name": {
          "name": "facility_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "auto_sync": {
          "name": "auto_sync",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sync_frequency": {
          "name": "sync_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'daily'"
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_status": {
          "name": "last_sync_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_error": {
          "name": "last_sync_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "synced_data_types": {
          "name": "synced_data_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ehr_connections_user_id_users_id_fk": {
          "name": "ehr_connections_user_id_users_id_fk",
          "tableFrom": "ehr_connections",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_messages": {
      "name": "email_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "from_email": {
          "name": "from_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "from_name": {
          "name": "from_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "to_email": {
          "name": "to_email",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "cc_email": {
          "name": "cc_email",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "bcc_email": {
          "name": "bcc_email",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "body_html": {
          "name": "body_html",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_from_doctor": {
          "name": "is_from_doctor",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_draft": {
          "name": "is_draft",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_sent": {
          "name": "is_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "generated_by_ai": {
          "name": "generated_by_ai",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ai_prompt": {
          "name": "ai_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_tone": {
          "name": "ai_tone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "gmail_message_id": {
          "name": "gmail_message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "email_messages_thread_idx": {
          "name": "email_messages_thread_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "email_messages_sent_idx": {
          "name": "email_messages_sent_idx",
          "columns": [
            {
              "expression": "sent_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_messages_thread_id_email_threads_id_fk": {
          "name": "email_messages_thread_id_email_threads_id_fk",
          "tableFrom": "email_messages",
          "tableTo": "email_threads",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_threads": {
      "name": "email_threads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "external_email": {
          "name": "external_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "snippet": {
          "name": "snippet",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_starred": {
          "name": "is_starred",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ai_suggested_reply": {
          "name": "ai_suggested_reply",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_category": {
          "name": "ai_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ai_urgency": {
          "name": "ai_urgency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ai_extracted_info": {
          "name": "ai_extracted_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "gmail_thread_id": {
          "name": "gmail_thread_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "email_threads_doctor_idx": {
          "name": "email_threads_doctor_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "email_threads_patient_idx": {
          "name": "email_threads_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "email_threads_status_idx": {
          "name": "email_threads_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "email_threads_category_idx": {
          "name": "email_threads_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_threads_doctor_id_users_id_fk": {
          "name": "email_threads_doctor_id_users_id_fk",
          "tableFrom": "email_threads",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "email_threads_patient_id_users_id_fk": {
          "name": "email_threads_patient_id_users_id_fk",
          "tableFrom": "email_threads",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.entity_embeddings": {
      "name": "entity_embeddings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "method": {
          "name": "method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_dim": {
          "name": "embedding_dim",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "n_entities": {
          "name": "n_entities",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "entity_mapping": {
          "name": "entity_mapping",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "training_loss": {
          "name": "training_loss",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "embedding_entity_type_idx": {
          "name": "embedding_entity_type_idx",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "embedding_method_idx": {
          "name": "embedding_method_idx",
          "columns": [
            {
              "expression": "method",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.environmental_alerts": {
      "name": "environmental_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "alert_type": {
          "name": "alert_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recommendations": {
          "name": "recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_value": {
          "name": "trigger_value",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "threshold_value": {
          "name": "threshold_value",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "percent_over_threshold": {
          "name": "percent_over_threshold",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "risk_score_id": {
          "name": "risk_score_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "forecast_id": {
          "name": "forecast_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot_id": {
          "name": "snapshot_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "push_notification_sent": {
          "name": "push_notification_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sms_notification_sent": {
          "name": "sms_notification_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_notification_sent": {
          "name": "email_notification_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notification_sent_at": {
          "name": "notification_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "was_helpful": {
          "name": "was_helpful",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "user_feedback": {
          "name": "user_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "env_alert_patient_status_idx": {
          "name": "env_alert_patient_status_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "env_alert_severity_idx": {
          "name": "env_alert_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "env_alert_created_idx": {
          "name": "env_alert_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "environmental_alerts_patient_id_users_id_fk": {
          "name": "environmental_alerts_patient_id_users_id_fk",
          "tableFrom": "environmental_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "environmental_alerts_risk_score_id_patient_environment_risk_scores_id_fk": {
          "name": "environmental_alerts_risk_score_id_patient_environment_risk_scores_id_fk",
          "tableFrom": "environmental_alerts",
          "tableTo": "patient_environment_risk_scores",
          "columnsFrom": [
            "risk_score_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "environmental_alerts_forecast_id_environmental_forecasts_id_fk": {
          "name": "environmental_alerts_forecast_id_environmental_forecasts_id_fk",
          "tableFrom": "environmental_alerts",
          "tableTo": "environmental_forecasts",
          "columnsFrom": [
            "forecast_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "environmental_alerts_snapshot_id_environmental_data_snapshots_id_fk": {
          "name": "environmental_alerts_snapshot_id_environmental_data_snapshots_id_fk",
          "tableFrom": "environmental_alerts",
          "tableTo": "environmental_data_snapshots",
          "columnsFrom": [
            "snapshot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.environmental_data_snapshots": {
      "name": "environmental_data_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "zip_code": {
          "name": "zip_code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "measured_at": {
          "name": "measured_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "temperature": {
          "name": "temperature",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "feels_like": {
          "name": "feels_like",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "humidity": {
          "name": "humidity",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pressure": {
          "name": "pressure",
          "type": "numeric(7, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "wind_speed": {
          "name": "wind_speed",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "wind_direction": {
          "name": "wind_direction",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "precipitation": {
          "name": "precipitation",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "uv_index": {
          "name": "uv_index",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cloud_cover": {
          "name": "cloud_cover",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "visibility": {
          "name": "visibility",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "aqi": {
          "name": "aqi",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "aqi_category": {
          "name": "aqi_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "pm25": {
          "name": "pm25",
          "type": "numeric(7, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "pm10": {
          "name": "pm10",
          "type": "numeric(7, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "ozone": {
          "name": "ozone",
          "type": "numeric(7, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "no2": {
          "name": "no2",
          "type": "numeric(7, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "so2": {
          "name": "so2",
          "type": "numeric(7, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "co": {
          "name": "co",
          "type": "numeric(8, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "pollen_tree_count": {
          "name": "pollen_tree_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pollen_grass_count": {
          "name": "pollen_grass_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pollen_weed_count": {
          "name": "pollen_weed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pollen_overall": {
          "name": "pollen_overall",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pollen_category": {
          "name": "pollen_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "mold_spore_count": {
          "name": "mold_spore_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "mold_category": {
          "name": "mold_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "active_hazards": {
          "name": "active_hazards",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "weather_source": {
          "name": "weather_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "aqi_source": {
          "name": "aqi_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "pollen_source": {
          "name": "pollen_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "hazard_source": {
          "name": "hazard_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "data_quality_score": {
          "name": "data_quality_score",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "missing_fields": {
          "name": "missing_fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "env_snapshot_zip_time_idx": {
          "name": "env_snapshot_zip_time_idx",
          "columns": [
            {
              "expression": "zip_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "measured_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "env_snapshot_measured_idx": {
          "name": "env_snapshot_measured_idx",
          "columns": [
            {
              "expression": "measured_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.environmental_forecasts": {
      "name": "environmental_forecasts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "forecast_horizon": {
          "name": "forecast_horizon",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "forecast_target_time": {
          "name": "forecast_target_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "predicted_risk_score": {
          "name": "predicted_risk_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "predicted_risk_level": {
          "name": "predicted_risk_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_interval": {
          "name": "confidence_interval",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "predicted_weather_risk": {
          "name": "predicted_weather_risk",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "predicted_air_quality_risk": {
          "name": "predicted_air_quality_risk",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "predicted_allergen_risk": {
          "name": "predicted_allergen_risk",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "predicted_values": {
          "name": "predicted_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "model_name": {
          "name": "model_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "model_version": {
          "name": "model_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "feature_importance": {
          "name": "feature_importance",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "actual_risk_score": {
          "name": "actual_risk_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "forecast_error": {
          "name": "forecast_error",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "forecast_patient_time_idx": {
          "name": "forecast_patient_time_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "generated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "forecast_horizon_idx": {
          "name": "forecast_horizon_idx",
          "columns": [
            {
              "expression": "forecast_horizon",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "environmental_forecasts_patient_id_users_id_fk": {
          "name": "environmental_forecasts_patient_id_users_id_fk",
          "tableFrom": "environmental_forecasts",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.environmental_pipeline_jobs": {
      "name": "environmental_pipeline_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "job_type": {
          "name": "job_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "target_zip_codes": {
          "name": "target_zip_codes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "target_patient_ids": {
          "name": "target_patient_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "records_processed": {
          "name": "records_processed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "records_created": {
          "name": "records_created",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "records_updated": {
          "name": "records_updated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "alerts_generated": {
          "name": "alerts_generated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_stack": {
          "name": "error_stack",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "execution_time_ms": {
          "name": "execution_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_source": {
          "name": "trigger_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "pipeline_job_type_status_idx": {
          "name": "pipeline_job_type_status_idx",
          "columns": [
            {
              "expression": "job_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pipeline_job_created_idx": {
          "name": "pipeline_job_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.environmental_risk_data": {
      "name": "environmental_risk_data",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "location_name": {
          "name": "location_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "zip_code": {
          "name": "zip_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'USA'"
        },
        "measured_at": {
          "name": "measured_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "aqi": {
          "name": "aqi",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "aqi_category": {
          "name": "aqi_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "pm25": {
          "name": "pm25",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "pm10": {
          "name": "pm10",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "ozone": {
          "name": "ozone",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "no2": {
          "name": "no2",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "so2": {
          "name": "so2",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "co": {
          "name": "co",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "pollen_count": {
          "name": "pollen_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pollen_types": {
          "name": "pollen_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "mold_spore_count": {
          "name": "mold_spore_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "wastewater_viral_load": {
          "name": "wastewater_viral_load",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "detected_pathogens": {
          "name": "detected_pathogens",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "local_outbreaks": {
          "name": "local_outbreaks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "temperature": {
          "name": "temperature",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "humidity": {
          "name": "humidity",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "uv_index": {
          "name": "uv_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "overall_risk_score": {
          "name": "overall_risk_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "immunocompromised_risk": {
          "name": "immunocompromised_risk",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "data_sources": {
          "name": "data_sources",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.genetic_risk_flags": {
      "name": "genetic_risk_flags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "flag_name": {
          "name": "flag_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "flag_type": {
          "name": "flag_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "risk_level": {
          "name": "risk_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "clinical_implications": {
          "name": "clinical_implications",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "affected_medications": {
          "name": "affected_medications",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "affected_conditions": {
          "name": "affected_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "source_record_id": {
          "name": "source_record_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "testing_provider": {
          "name": "testing_provider",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_date": {
          "name": "recorded_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "auto_generated": {
          "name": "auto_generated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "manual_override": {
          "name": "manual_override",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "overridden_by": {
          "name": "overridden_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "overridden_at": {
          "name": "overridden_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "doctor_notes": {
          "name": "doctor_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "genetic_flag_patient_idx": {
          "name": "genetic_flag_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "genetic_flag_name_idx": {
          "name": "genetic_flag_name_idx",
          "columns": [
            {
              "expression": "flag_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "genetic_flag_type_idx": {
          "name": "genetic_flag_type_idx",
          "columns": [
            {
              "expression": "flag_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "genetic_risk_flags_patient_id_users_id_fk": {
          "name": "genetic_risk_flags_patient_id_users_id_fk",
          "tableFrom": "genetic_risk_flags",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "genetic_risk_flags_overridden_by_users_id_fk": {
          "name": "genetic_risk_flags_overridden_by_users_id_fk",
          "tableFrom": "genetic_risk_flags",
          "tableTo": "users",
          "columnsFrom": [
            "overridden_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.genetic_variants": {
      "name": "genetic_variants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "gene": {
          "name": "gene",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "variant": {
          "name": "variant",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "genotype": {
          "name": "genotype",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "phenotype": {
          "name": "phenotype",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "clinical_significance": {
          "name": "clinical_significance",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "affected_drugs": {
          "name": "affected_drugs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "risk_level": {
          "name": "risk_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recommendations": {
          "name": "recommendations",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "testing_provider": {
          "name": "testing_provider",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "test_date": {
          "name": "test_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "report_url": {
          "name": "report_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "genetic_variants_user_id_users_id_fk": {
          "name": "genetic_variants_user_id_users_id_fk",
          "tableFrom": "genetic_variants",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.gmail_sync": {
      "name": "gmail_sync",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_expiry": {
          "name": "token_expiry",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "token_scopes": {
          "name": "token_scopes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "google_workspace_domain": {
          "name": "google_workspace_domain",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "google_workspace_baa_confirmed": {
          "name": "google_workspace_baa_confirmed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sync_enabled": {
          "name": "sync_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_status": {
          "name": "last_sync_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_error": {
          "name": "last_sync_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_emails_synced": {
          "name": "total_emails_synced",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "phi_redaction_enabled": {
          "name": "phi_redaction_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "consent_confirmed": {
          "name": "consent_confirmed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "gmail_sync_doctor_idx": {
          "name": "gmail_sync_doctor_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "gmail_sync_doctor_id_users_id_fk": {
          "name": "gmail_sync_doctor_id_users_id_fk",
          "tableFrom": "gmail_sync",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "gmail_sync_doctor_id_unique": {
          "name": "gmail_sync_doctor_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "doctor_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.gmail_sync_logs": {
      "name": "gmail_sync_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "sync_id": {
          "name": "sync_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "emails_fetched": {
          "name": "emails_fetched",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "phi_detected": {
          "name": "phi_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_details": {
          "name": "error_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "gmail_sync_logs_doctor_idx": {
          "name": "gmail_sync_logs_doctor_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "gmail_sync_logs_created_idx": {
          "name": "gmail_sync_logs_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "gmail_sync_logs_action_idx": {
          "name": "gmail_sync_logs_action_idx",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "gmail_sync_logs_doctor_id_users_id_fk": {
          "name": "gmail_sync_logs_doctor_id_users_id_fk",
          "tableFrom": "gmail_sync_logs",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gmail_sync_logs_sync_id_gmail_sync_id_fk": {
          "name": "gmail_sync_logs_sync_id_gmail_sync_id_fk",
          "tableFrom": "gmail_sync_logs",
          "tableTo": "gmail_sync",
          "columnsFrom": [
            "sync_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.google_calendar_sync": {
      "name": "google_calendar_sync",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_expiry": {
          "name": "token_expiry",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "calendar_id": {
          "name": "calendar_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "calendar_name": {
          "name": "calendar_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sync_enabled": {
          "name": "sync_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sync_direction": {
          "name": "sync_direction",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'bidirectional'"
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_status": {
          "name": "last_sync_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_error": {
          "name": "last_sync_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sync_token": {
          "name": "sync_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "page_token": {
          "name": "page_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_events_synced": {
          "name": "total_events_synced",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_event_synced_at": {
          "name": "last_event_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "conflict_resolution": {
          "name": "conflict_resolution",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'google_wins'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "google_calendar_sync_doctor_idx": {
          "name": "google_calendar_sync_doctor_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "google_calendar_sync_doctor_id_users_id_fk": {
          "name": "google_calendar_sync_doctor_id_users_id_fk",
          "tableFrom": "google_calendar_sync",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "google_calendar_sync_doctor_id_unique": {
          "name": "google_calendar_sync_doctor_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "doctor_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.google_calendar_sync_logs": {
      "name": "google_calendar_sync_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "sync_id": {
          "name": "sync_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sync_type": {
          "name": "sync_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "sync_direction": {
          "name": "sync_direction",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "events_created": {
          "name": "events_created",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "events_updated": {
          "name": "events_updated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "events_deleted": {
          "name": "events_deleted",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "conflicts_detected": {
          "name": "conflicts_detected",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_details": {
          "name": "error_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "google_calendar_sync_logs_doctor_idx": {
          "name": "google_calendar_sync_logs_doctor_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "google_calendar_sync_logs_created_idx": {
          "name": "google_calendar_sync_logs_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "google_calendar_sync_logs_doctor_id_users_id_fk": {
          "name": "google_calendar_sync_logs_doctor_id_users_id_fk",
          "tableFrom": "google_calendar_sync_logs",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "google_calendar_sync_logs_sync_id_google_calendar_sync_id_fk": {
          "name": "google_calendar_sync_logs_sync_id_google_calendar_sync_id_fk",
          "tableFrom": "google_calendar_sync_logs",
          "tableTo": "google_calendar_sync",
          "columnsFrom": [
            "sync_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_ai_recommendations": {
      "name": "habit_ai_recommendations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "habit_id": {
          "name": "habit_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recommendation_type": {
          "name": "recommendation_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "based_on_completion_rate": {
          "name": "based_on_completion_rate",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "based_on_streak": {
          "name": "based_on_streak",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "based_on_mood_trend": {
          "name": "based_on_mood_trend",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_change": {
          "name": "suggested_change",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "user_response": {
          "name": "user_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_ai_recommendations_user_id_users_id_fk": {
          "name": "habit_ai_recommendations_user_id_users_id_fk",
          "tableFrom": "habit_ai_recommendations",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "habit_ai_recommendations_habit_id_habits_id_fk": {
          "name": "habit_ai_recommendations_habit_id_habits_id_fk",
          "tableFrom": "habit_ai_recommendations",
          "tableTo": "habits",
          "columnsFrom": [
            "habit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_ai_triggers": {
      "name": "habit_ai_triggers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "habit_id": {
          "name": "habit_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "pattern": {
          "name": "pattern",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "correlated_factor": {
          "name": "correlated_factor",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_strength": {
          "name": "correlation_strength",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "data_points": {
          "name": "data_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "sample_period_days": {
          "name": "sample_period_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged": {
          "name": "acknowledged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "helpful": {
          "name": "helpful",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "user_notes": {
          "name": "user_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_detected_at": {
          "name": "last_detected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_ai_triggers_user_id_users_id_fk": {
          "name": "habit_ai_triggers_user_id_users_id_fk",
          "tableFrom": "habit_ai_triggers",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "habit_ai_triggers_habit_id_habits_id_fk": {
          "name": "habit_ai_triggers_habit_id_habits_id_fk",
          "tableFrom": "habit_ai_triggers",
          "tableTo": "habits",
          "columnsFrom": [
            "habit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_buddies": {
      "name": "habit_buddies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "buddy_user_id": {
          "name": "buddy_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "initiated_by": {
          "name": "initiated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "share_streak": {
          "name": "share_streak",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "share_completions": {
          "name": "share_completions",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "share_mood": {
          "name": "share_mood",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "shared_habit_ids": {
          "name": "shared_habit_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "encouragements_sent": {
          "name": "encouragements_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "encouragements_received": {
          "name": "encouragements_received",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_interaction": {
          "name": "last_interaction",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_buddies_user_id_users_id_fk": {
          "name": "habit_buddies_user_id_users_id_fk",
          "tableFrom": "habit_buddies",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "habit_buddies_buddy_user_id_users_id_fk": {
          "name": "habit_buddies_buddy_user_id_users_id_fk",
          "tableFrom": "habit_buddies",
          "tableTo": "users",
          "columnsFrom": [
            "buddy_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "habit_buddies_initiated_by_users_id_fk": {
          "name": "habit_buddies_initiated_by_users_id_fk",
          "tableFrom": "habit_buddies",
          "tableTo": "users",
          "columnsFrom": [
            "initiated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_cbt_sessions": {
      "name": "habit_cbt_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "session_type": {
          "name": "session_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "current_step": {
          "name": "current_step",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "total_steps": {
          "name": "total_steps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "step_responses": {
          "name": "step_responses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "completed": {
          "name": "completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "pre_session_mood": {
          "name": "pre_session_mood",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "post_session_mood": {
          "name": "post_session_mood",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "helpful_rating": {
          "name": "helpful_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_habit_id": {
          "name": "related_habit_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "related_quit_plan_id": {
          "name": "related_quit_plan_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_cbt_sessions_user_id_users_id_fk": {
          "name": "habit_cbt_sessions_user_id_users_id_fk",
          "tableFrom": "habit_cbt_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "habit_cbt_sessions_related_habit_id_habits_id_fk": {
          "name": "habit_cbt_sessions_related_habit_id_habits_id_fk",
          "tableFrom": "habit_cbt_sessions",
          "tableTo": "habits",
          "columnsFrom": [
            "related_habit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "habit_cbt_sessions_related_quit_plan_id_habit_quit_plans_id_fk": {
          "name": "habit_cbt_sessions_related_quit_plan_id_habit_quit_plans_id_fk",
          "tableFrom": "habit_cbt_sessions",
          "tableTo": "habit_quit_plans",
          "columnsFrom": [
            "related_quit_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_coach_chats": {
      "name": "habit_coach_chats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "related_habit_id": {
          "name": "related_habit_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "related_quit_plan_id": {
          "name": "related_quit_plan_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "coach_personality": {
          "name": "coach_personality",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "response_type": {
          "name": "response_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_coach_chats_user_id_users_id_fk": {
          "name": "habit_coach_chats_user_id_users_id_fk",
          "tableFrom": "habit_coach_chats",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "habit_coach_chats_related_habit_id_habits_id_fk": {
          "name": "habit_coach_chats_related_habit_id_habits_id_fk",
          "tableFrom": "habit_coach_chats",
          "tableTo": "habits",
          "columnsFrom": [
            "related_habit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "habit_coach_chats_related_quit_plan_id_habit_quit_plans_id_fk": {
          "name": "habit_coach_chats_related_quit_plan_id_habit_quit_plans_id_fk",
          "tableFrom": "habit_coach_chats",
          "tableTo": "habit_quit_plans",
          "columnsFrom": [
            "related_quit_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_completions": {
      "name": "habit_completions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "habit_id": {
          "name": "habit_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "completion_date": {
          "name": "completion_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed": {
          "name": "completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mood": {
          "name": "mood",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "difficulty_level": {
          "name": "difficulty_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ai_feedback": {
          "name": "ai_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_completions_habit_id_habits_id_fk": {
          "name": "habit_completions_habit_id_habits_id_fk",
          "tableFrom": "habit_completions",
          "tableTo": "habits",
          "columnsFrom": [
            "habit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "habit_completions_user_id_users_id_fk": {
          "name": "habit_completions_user_id_users_id_fk",
          "tableFrom": "habit_completions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_cravings_log": {
      "name": "habit_cravings_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "quit_plan_id": {
          "name": "quit_plan_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "intensity": {
          "name": "intensity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "trigger": {
          "name": "trigger",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_details": {
          "name": "trigger_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "coping_strategy_used": {
          "name": "coping_strategy_used",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "overcame": {
          "name": "overcame",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "time_of_day": {
          "name": "time_of_day",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "mood": {
          "name": "mood",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_cravings_log_quit_plan_id_habit_quit_plans_id_fk": {
          "name": "habit_cravings_log_quit_plan_id_habit_quit_plans_id_fk",
          "tableFrom": "habit_cravings_log",
          "tableTo": "habit_quit_plans",
          "columnsFrom": [
            "quit_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "habit_cravings_log_user_id_users_id_fk": {
          "name": "habit_cravings_log_user_id_users_id_fk",
          "tableFrom": "habit_cravings_log",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_encouragements": {
      "name": "habit_encouragements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "from_user_id": {
          "name": "from_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "to_user_id": {
          "name": "to_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "message_type": {
          "name": "message_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prebuilt_message_id": {
          "name": "prebuilt_message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "related_habit_id": {
          "name": "related_habit_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "related_achievement": {
          "name": "related_achievement",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "read": {
          "name": "read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_encouragements_from_user_id_users_id_fk": {
          "name": "habit_encouragements_from_user_id_users_id_fk",
          "tableFrom": "habit_encouragements",
          "tableTo": "users",
          "columnsFrom": [
            "from_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "habit_encouragements_to_user_id_users_id_fk": {
          "name": "habit_encouragements_to_user_id_users_id_fk",
          "tableFrom": "habit_encouragements",
          "tableTo": "users",
          "columnsFrom": [
            "to_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "habit_encouragements_related_habit_id_habits_id_fk": {
          "name": "habit_encouragements_related_habit_id_habits_id_fk",
          "tableFrom": "habit_encouragements",
          "tableTo": "habits",
          "columnsFrom": [
            "related_habit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_journals": {
      "name": "habit_journals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entry_type": {
          "name": "entry_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ai_summary": {
          "name": "ai_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "highlights": {
          "name": "highlights",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "risks": {
          "name": "risks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "recommendations": {
          "name": "recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment_trend": {
          "name": "sentiment_trend",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "mood": {
          "name": "mood",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_weekly_summary": {
          "name": "is_weekly_summary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "week_start_date": {
          "name": "week_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_journals_user_id_users_id_fk": {
          "name": "habit_journals_user_id_users_id_fk",
          "tableFrom": "habit_journals",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_micro_steps": {
      "name": "habit_micro_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "habit_id": {
          "name": "habit_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "step_order": {
          "name": "step_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_minutes": {
          "name": "estimated_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "completion_count": {
          "name": "completion_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_micro_steps_habit_id_habits_id_fk": {
          "name": "habit_micro_steps_habit_id_habits_id_fk",
          "tableFrom": "habit_micro_steps",
          "tableTo": "habits",
          "columnsFrom": [
            "habit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_mood_entries": {
      "name": "habit_mood_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "mood_score": {
          "name": "mood_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mood_label": {
          "name": "mood_label",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "energy_level": {
          "name": "energy_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stress_level": {
          "name": "stress_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "journal_text": {
          "name": "journal_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment_score": {
          "name": "sentiment_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_emotions": {
          "name": "extracted_emotions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_themes": {
          "name": "extracted_themes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "associated_habit_id": {
          "name": "associated_habit_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "context_tags": {
          "name": "context_tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_mood_entries_user_id_users_id_fk": {
          "name": "habit_mood_entries_user_id_users_id_fk",
          "tableFrom": "habit_mood_entries",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "habit_mood_entries_associated_habit_id_habits_id_fk": {
          "name": "habit_mood_entries_associated_habit_id_habits_id_fk",
          "tableFrom": "habit_mood_entries",
          "tableTo": "habits",
          "columnsFrom": [
            "associated_habit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_quit_plans": {
      "name": "habit_quit_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "habit_name": {
          "name": "habit_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "quit_method": {
          "name": "quit_method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "target_quit_date": {
          "name": "target_quit_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "daily_limit": {
          "name": "daily_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "harm_reduction_steps": {
          "name": "harm_reduction_steps",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "reasons_to_quit": {
          "name": "reasons_to_quit",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "money_saved_per_day": {
          "name": "money_saved_per_day",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "days_clean": {
          "name": "days_clean",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "longest_streak": {
          "name": "longest_streak",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_relapses": {
          "name": "total_relapses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_quit_plans_user_id_users_id_fk": {
          "name": "habit_quit_plans_user_id_users_id_fk",
          "tableFrom": "habit_quit_plans",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_relapse_log": {
      "name": "habit_relapse_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "quit_plan_id": {
          "name": "quit_plan_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "trigger": {
          "name": "trigger",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "emotional_state": {
          "name": "emotional_state",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "what_happened": {
          "name": "what_happened",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "what_learned": {
          "name": "what_learned",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plan_to_prevent": {
          "name": "plan_to_prevent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "streak_days_lost": {
          "name": "streak_days_lost",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_relapse_log_quit_plan_id_habit_quit_plans_id_fk": {
          "name": "habit_relapse_log_quit_plan_id_habit_quit_plans_id_fk",
          "tableFrom": "habit_relapse_log",
          "tableTo": "habit_quit_plans",
          "columnsFrom": [
            "quit_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "habit_relapse_log_user_id_users_id_fk": {
          "name": "habit_relapse_log_user_id_users_id_fk",
          "tableFrom": "habit_relapse_log",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_reminders": {
      "name": "habit_reminders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "habit_id": {
          "name": "habit_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "reminder_type": {
          "name": "reminder_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_time": {
          "name": "scheduled_time",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "adaptive_enabled": {
          "name": "adaptive_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "learned_best_time": {
          "name": "learned_best_time",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "snooze_until": {
          "name": "snooze_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_sent_at": {
          "name": "last_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "times_delivered": {
          "name": "times_delivered",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "times_acted_on": {
          "name": "times_acted_on",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_reminders_habit_id_habits_id_fk": {
          "name": "habit_reminders_habit_id_habits_id_fk",
          "tableFrom": "habit_reminders",
          "tableTo": "habits",
          "columnsFrom": [
            "habit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "habit_reminders_user_id_users_id_fk": {
          "name": "habit_reminders_user_id_users_id_fk",
          "tableFrom": "habit_reminders",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_rewards": {
      "name": "habit_rewards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "reward_type": {
          "name": "reward_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'sunflower'"
        },
        "current_level": {
          "name": "current_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "growth_stage": {
          "name": "growth_stage",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'seed'"
        },
        "total_points": {
          "name": "total_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "streak_bonus": {
          "name": "streak_bonus",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completion_points": {
          "name": "completion_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "visual_state": {
          "name": "visual_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "unlocked_badges": {
          "name": "unlocked_badges",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "unlocked_themes": {
          "name": "unlocked_themes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "days_active": {
          "name": "days_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "perfect_days": {
          "name": "perfect_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_rewards_user_id_users_id_fk": {
          "name": "habit_rewards_user_id_users_id_fk",
          "tableFrom": "habit_rewards",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_risk_alerts": {
      "name": "habit_risk_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "alert_type": {
          "name": "alert_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "risk_score": {
          "name": "risk_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "contributing_factors": {
          "name": "contributing_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "related_habit_ids": {
          "name": "related_habit_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "related_quit_plan_id": {
          "name": "related_quit_plan_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_actions": {
          "name": "suggested_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "predicted_for": {
          "name": "predicted_for",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_risk_alerts_user_id_users_id_fk": {
          "name": "habit_risk_alerts_user_id_users_id_fk",
          "tableFrom": "habit_risk_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "habit_risk_alerts_related_quit_plan_id_habit_quit_plans_id_fk": {
          "name": "habit_risk_alerts_related_quit_plan_id_habit_quit_plans_id_fk",
          "tableFrom": "habit_risk_alerts",
          "tableTo": "habit_quit_plans",
          "columnsFrom": [
            "related_quit_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habit_routines": {
      "name": "habit_routines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "habit_id": {
          "name": "habit_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_time": {
          "name": "scheduled_time",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "time_flexibility": {
          "name": "time_flexibility",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "location_details": {
          "name": "location_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_cue": {
          "name": "trigger_cue",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stacked_after": {
          "name": "stacked_after",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "day_of_week": {
          "name": "day_of_week",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_weekend_only": {
          "name": "is_weekend_only",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habit_routines_habit_id_habits_id_fk": {
          "name": "habit_routines_habit_id_habits_id_fk",
          "tableFrom": "habit_routines",
          "tableTo": "habits",
          "columnsFrom": [
            "habit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "habit_routines_user_id_users_id_fk": {
          "name": "habit_routines_user_id_users_id_fk",
          "tableFrom": "habit_routines",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "habit_routines_stacked_after_habits_id_fk": {
          "name": "habit_routines_stacked_after_habits_id_fk",
          "tableFrom": "habit_routines",
          "tableTo": "habits",
          "columnsFrom": [
            "stacked_after"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.habits": {
      "name": "habits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "target_days_per_week": {
          "name": "target_days_per_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reminder_enabled": {
          "name": "reminder_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "reminder_time": {
          "name": "reminder_time",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "current_streak": {
          "name": "current_streak",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "longest_streak": {
          "name": "longest_streak",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_completions": {
          "name": "total_completions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "recommended_by": {
          "name": "recommended_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recommendation_reason": {
          "name": "recommendation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "habits_user_id_users_id_fk": {
          "name": "habits_user_id_users_id_fk",
          "tableFrom": "habits",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.health_insight_consents": {
      "name": "health_insight_consents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "app_name": {
          "name": "app_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "app_category": {
          "name": "app_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "consent_granted": {
          "name": "consent_granted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "data_types": {
          "name": "data_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "purpose": {
          "name": "purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sharing_frequency": {
          "name": "sharing_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'real-time'"
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_reason": {
          "name": "revoked_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sync_status": {
          "name": "sync_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "health_insight_consents_user_id_users_id_fk": {
          "name": "health_insight_consents_user_id_users_id_fk",
          "tableFrom": "health_insight_consents",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.health_section_analytics": {
      "name": "health_section_analytics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "health_section": {
          "name": "health_section",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "analysis_date": {
          "name": "analysis_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "window_start": {
          "name": "window_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "window_end": {
          "name": "window_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "window_days": {
          "name": "window_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 7
        },
        "device_types": {
          "name": "device_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "reading_count": {
          "name": "reading_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "ml_prediction": {
          "name": "ml_prediction",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "deterioration_index": {
          "name": "deterioration_index",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "deterioration_trend": {
          "name": "deterioration_trend",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "deterioration_change_rate": {
          "name": "deterioration_change_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "risk_score": {
          "name": "risk_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "risk_level": {
          "name": "risk_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "risk_factors": {
          "name": "risk_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "trend_direction": {
          "name": "trend_direction",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "trend_strength": {
          "name": "trend_strength",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "trend_metrics": {
          "name": "trend_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "stability_score": {
          "name": "stability_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "variability_index": {
          "name": "variability_index",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "stability_metrics": {
          "name": "stability_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "alerts_generated": {
          "name": "alerts_generated",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "active_alert_count": {
          "name": "active_alert_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "section_metrics": {
          "name": "section_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "baseline_deviation": {
          "name": "baseline_deviation",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "baseline_status": {
          "name": "baseline_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "health_analytics_patient_section_idx": {
          "name": "health_analytics_patient_section_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "health_section",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "health_analytics_date_idx": {
          "name": "health_analytics_date_idx",
          "columns": [
            {
              "expression": "analysis_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "health_analytics_risk_idx": {
          "name": "health_analytics_risk_idx",
          "columns": [
            {
              "expression": "risk_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "health_section_analytics_patient_id_users_id_fk": {
          "name": "health_section_analytics_patient_id_users_id_fk",
          "tableFrom": "health_section_analytics",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.healthcare_locations": {
      "name": "healthcare_locations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "location_type": {
          "name": "location_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "zip_code": {
          "name": "zip_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'USA'"
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "phone_number": {
          "name": "phone_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.immune_biomarkers": {
      "name": "immune_biomarkers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "data_source": {
          "name": "data_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "wearable_integration_id": {
          "name": "wearable_integration_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "measured_at": {
          "name": "measured_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "hrv_rmssd": {
          "name": "hrv_rmssd",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "hrv_sdnn": {
          "name": "hrv_sdnn",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "resting_heart_rate": {
          "name": "resting_heart_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_duration": {
          "name": "sleep_duration",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "deep_sleep_duration": {
          "name": "deep_sleep_duration",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "rem_sleep_duration": {
          "name": "rem_sleep_duration",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_quality": {
          "name": "sleep_quality",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_efficiency": {
          "name": "sleep_efficiency",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "steps_count": {
          "name": "steps_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "active_minutes": {
          "name": "active_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "calories_burned": {
          "name": "calories_burned",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stress_level": {
          "name": "stress_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "body_temperature": {
          "name": "body_temperature",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "skin_temperature": {
          "name": "skin_temperature",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "respiratory_rate": {
          "name": "respiratory_rate",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "oxygen_saturation": {
          "name": "oxygen_saturation",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "recovery_score": {
          "name": "recovery_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "readiness_score": {
          "name": "readiness_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "immune_biomarkers_user_id_users_id_fk": {
          "name": "immune_biomarkers_user_id_users_id_fk",
          "tableFrom": "immune_biomarkers",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "immune_biomarkers_wearable_integration_id_wearable_integrations_id_fk": {
          "name": "immune_biomarkers_wearable_integration_id_wearable_integrations_id_fk",
          "tableFrom": "immune_biomarkers",
          "tableTo": "wearable_integrations",
          "columnsFrom": [
            "wearable_integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.immune_digital_twins": {
      "name": "immune_digital_twins",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "predicted_at": {
          "name": "predicted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "prediction_window": {
          "name": "prediction_window",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "immune_score": {
          "name": "immune_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "immune_score_trend": {
          "name": "immune_score_trend",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recovery_capacity_score": {
          "name": "recovery_capacity_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "infection_resistance_score": {
          "name": "infection_resistance_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "inflammation_score": {
          "name": "inflammation_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stress_response_score": {
          "name": "stress_response_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "infection_risk": {
          "name": "infection_risk",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "hospitalization_risk": {
          "name": "hospitalization_risk",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "contributing_factors": {
          "name": "contributing_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "biomarker_ids": {
          "name": "biomarker_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "model_version": {
          "name": "model_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "ai_insights": {
          "name": "ai_insights",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recommendations": {
          "name": "recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "immune_digital_twins_user_id_users_id_fk": {
          "name": "immune_digital_twins_user_id_users_id_fk",
          "tableFrom": "immune_digital_twins",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.infectious_events": {
      "name": "infectious_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "infection_type": {
          "name": "infection_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "pathogen": {
          "name": "pathogen",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "pathogen_category": {
          "name": "pathogen_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'moderate'"
        },
        "onset_date": {
          "name": "onset_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_date": {
          "name": "resolution_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_days": {
          "name": "duration_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hospitalization": {
          "name": "hospitalization",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "icu_admission": {
          "name": "icu_admission",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ventilator_required": {
          "name": "ventilator_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "related_condition_id": {
          "name": "related_condition_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "related_condition_code": {
          "name": "related_condition_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "related_visit_id": {
          "name": "related_visit_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "auto_generated": {
          "name": "auto_generated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "manual_override": {
          "name": "manual_override",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "overridden_by": {
          "name": "overridden_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "overridden_at": {
          "name": "overridden_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "doctor_notes": {
          "name": "doctor_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_etl_processed_at": {
          "name": "last_etl_processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "infectious_event_patient_idx": {
          "name": "infectious_event_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "infectious_event_type_idx": {
          "name": "infectious_event_type_idx",
          "columns": [
            {
              "expression": "infection_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "infectious_event_onset_idx": {
          "name": "infectious_event_onset_idx",
          "columns": [
            {
              "expression": "onset_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "infectious_event_severity_idx": {
          "name": "infectious_event_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "infectious_events_patient_id_users_id_fk": {
          "name": "infectious_events_patient_id_users_id_fk",
          "tableFrom": "infectious_events",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "infectious_events_related_condition_id_patient_conditions_id_fk": {
          "name": "infectious_events_related_condition_id_patient_conditions_id_fk",
          "tableFrom": "infectious_events",
          "tableTo": "patient_conditions",
          "columnsFrom": [
            "related_condition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "infectious_events_related_visit_id_patient_visits_id_fk": {
          "name": "infectious_events_related_visit_id_patient_visits_id_fk",
          "tableFrom": "infectious_events",
          "tableTo": "patient_visits",
          "columnsFrom": [
            "related_visit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "infectious_events_location_id_healthcare_locations_id_fk": {
          "name": "infectious_events_location_id_healthcare_locations_id_fk",
          "tableFrom": "infectious_events",
          "tableTo": "healthcare_locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "infectious_events_overridden_by_users_id_fk": {
          "name": "infectious_events_overridden_by_users_id_fk",
          "tableFrom": "infectious_events",
          "tableTo": "users",
          "columnsFrom": [
            "overridden_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.interaction_alerts": {
      "name": "interaction_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "medication1_id": {
          "name": "medication1_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "medication2_id": {
          "name": "medication2_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "interaction_id": {
          "name": "interaction_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "alert_status": {
          "name": "alert_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "override_reason": {
          "name": "override_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "override_by": {
          "name": "override_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "override_at": {
          "name": "override_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notified_patient": {
          "name": "notified_patient",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notified_doctor": {
          "name": "notified_doctor",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sms_alert_sent": {
          "name": "sms_alert_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_alert_sent": {
          "name": "email_alert_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "clona_mentioned": {
          "name": "clona_mentioned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "criticality_score": {
          "name": "criticality_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "interaction_alerts_patient_id_users_id_fk": {
          "name": "interaction_alerts_patient_id_users_id_fk",
          "tableFrom": "interaction_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_alerts_medication1_id_medications_id_fk": {
          "name": "interaction_alerts_medication1_id_medications_id_fk",
          "tableFrom": "interaction_alerts",
          "tableTo": "medications",
          "columnsFrom": [
            "medication1_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_alerts_medication2_id_medications_id_fk": {
          "name": "interaction_alerts_medication2_id_medications_id_fk",
          "tableFrom": "interaction_alerts",
          "tableTo": "medications",
          "columnsFrom": [
            "medication2_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_alerts_interaction_id_drug_interactions_id_fk": {
          "name": "interaction_alerts_interaction_id_drug_interactions_id_fk",
          "tableFrom": "interaction_alerts",
          "tableTo": "drug_interactions",
          "columnsFrom": [
            "interaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lysa_clinical_insights": {
      "name": "lysa_clinical_insights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "monitoring_assignment_id": {
          "name": "monitoring_assignment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "insight_type": {
          "name": "insight_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "insight_category": {
          "name": "insight_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'info'"
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "detailed_analysis": {
          "name": "detailed_analysis",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "evidence_points": {
          "name": "evidence_points",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ai_reasoning": {
          "name": "ai_reasoning",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_actions": {
          "name": "suggested_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "related_diagnoses": {
          "name": "related_diagnoses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "related_medications": {
          "name": "related_medications",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "clinical_guidelines": {
          "name": "clinical_guidelines",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'new'"
        },
        "viewed_at": {
          "name": "viewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "doctor_notes": {
          "name": "doctor_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_taken": {
          "name": "action_taken",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "superseded_by": {
          "name": "superseded_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "lysa_insights_patient_idx": {
          "name": "lysa_insights_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "insight_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_insights_doctor_idx": {
          "name": "lysa_insights_doctor_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_insights_severity_idx": {
          "name": "lysa_insights_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_insights_status_idx": {
          "name": "lysa_insights_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_insights_created_at_idx": {
          "name": "lysa_insights_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lysa_clinical_insights_patient_id_users_id_fk": {
          "name": "lysa_clinical_insights_patient_id_users_id_fk",
          "tableFrom": "lysa_clinical_insights",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lysa_clinical_insights_doctor_id_users_id_fk": {
          "name": "lysa_clinical_insights_doctor_id_users_id_fk",
          "tableFrom": "lysa_clinical_insights",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lysa_clinical_insights_monitoring_assignment_id_lysa_monitoring_assignments_id_fk": {
          "name": "lysa_clinical_insights_monitoring_assignment_id_lysa_monitoring_assignments_id_fk",
          "tableFrom": "lysa_clinical_insights",
          "tableTo": "lysa_monitoring_assignments",
          "columnsFrom": [
            "monitoring_assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lysa_monitoring_artifacts": {
      "name": "lysa_monitoring_artifacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "monitoring_assignment_id": {
          "name": "monitoring_assignment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "artifact_type": {
          "name": "artifact_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "artifact_format": {
          "name": "artifact_format",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'markdown'"
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "structured_data": {
          "name": "structured_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "file_url": {
          "name": "file_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_mime_type": {
          "name": "file_mime_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "generated_by": {
          "name": "generated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'lysa_ai'"
        },
        "ai_model_version": {
          "name": "ai_model_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "generation_prompt": {
          "name": "generation_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requires_review": {
          "name": "requires_review",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_for_patient": {
          "name": "approved_for_patient",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "shared_with_patient": {
          "name": "shared_with_patient",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "shared_at": {
          "name": "shared_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "previous_version_id": {
          "name": "previous_version_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "lysa_artifacts_assignment_idx": {
          "name": "lysa_artifacts_assignment_idx",
          "columns": [
            {
              "expression": "monitoring_assignment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_artifacts_patient_idx": {
          "name": "lysa_artifacts_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "artifact_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_artifacts_doctor_idx": {
          "name": "lysa_artifacts_doctor_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_artifacts_created_at_idx": {
          "name": "lysa_artifacts_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_artifacts_period_idx": {
          "name": "lysa_artifacts_period_idx",
          "columns": [
            {
              "expression": "period_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lysa_monitoring_artifacts_monitoring_assignment_id_lysa_monitoring_assignments_id_fk": {
          "name": "lysa_monitoring_artifacts_monitoring_assignment_id_lysa_monitoring_assignments_id_fk",
          "tableFrom": "lysa_monitoring_artifacts",
          "tableTo": "lysa_monitoring_assignments",
          "columnsFrom": [
            "monitoring_assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lysa_monitoring_artifacts_patient_id_users_id_fk": {
          "name": "lysa_monitoring_artifacts_patient_id_users_id_fk",
          "tableFrom": "lysa_monitoring_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lysa_monitoring_artifacts_doctor_id_users_id_fk": {
          "name": "lysa_monitoring_artifacts_doctor_id_users_id_fk",
          "tableFrom": "lysa_monitoring_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lysa_monitoring_artifacts_reviewed_by_users_id_fk": {
          "name": "lysa_monitoring_artifacts_reviewed_by_users_id_fk",
          "tableFrom": "lysa_monitoring_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lysa_monitoring_assignments": {
      "name": "lysa_monitoring_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "monitoring_level": {
          "name": "monitoring_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "alert_thresholds": {
          "name": "alert_thresholds",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "check_frequency": {
          "name": "check_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'daily'"
        },
        "last_check_at": {
          "name": "last_check_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_scheduled_check": {
          "name": "next_scheduled_check",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "auto_generate_summaries": {
          "name": "auto_generate_summaries",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "summary_frequency": {
          "name": "summary_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'daily'"
        },
        "last_summary_at": {
          "name": "last_summary_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "enable_alerts": {
          "name": "enable_alerts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "alert_channels": {
          "name": "alert_channels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "monitoring_notes": {
          "name": "monitoring_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "focus_areas": {
          "name": "focus_areas",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "paused_at": {
          "name": "paused_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "pause_reason": {
          "name": "pause_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completion_reason": {
          "name": "completion_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "lysa_monitoring_doctor_patient_idx": {
          "name": "lysa_monitoring_doctor_patient_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_monitoring_doctor_active_idx": {
          "name": "lysa_monitoring_doctor_active_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_monitoring_patient_active_idx": {
          "name": "lysa_monitoring_patient_active_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_monitoring_next_check_idx": {
          "name": "lysa_monitoring_next_check_idx",
          "columns": [
            {
              "expression": "next_scheduled_check",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lysa_monitoring_assignments_doctor_id_users_id_fk": {
          "name": "lysa_monitoring_assignments_doctor_id_users_id_fk",
          "tableFrom": "lysa_monitoring_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lysa_monitoring_assignments_patient_id_users_id_fk": {
          "name": "lysa_monitoring_assignments_patient_id_users_id_fk",
          "tableFrom": "lysa_monitoring_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lysa_monitoring_events": {
      "name": "lysa_monitoring_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "monitoring_assignment_id": {
          "name": "monitoring_assignment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "event_category": {
          "name": "event_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'info'"
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_analysis": {
          "name": "ai_analysis",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_recommendations": {
          "name": "ai_recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ai_confidence": {
          "name": "ai_confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "source_data_type": {
          "name": "source_data_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_data_id": {
          "name": "source_data_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "related_metrics": {
          "name": "related_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "action_required": {
          "name": "action_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "action_taken": {
          "name": "action_taken",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "action_taken_by": {
          "name": "action_taken_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "action_taken_at": {
          "name": "action_taken_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notified_doctor": {
          "name": "notified_doctor",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notified_patient": {
          "name": "notified_patient",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notification_method": {
          "name": "notification_method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'new'"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "lysa_events_assignment_idx": {
          "name": "lysa_events_assignment_idx",
          "columns": [
            {
              "expression": "monitoring_assignment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_events_patient_idx": {
          "name": "lysa_events_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_events_doctor_idx": {
          "name": "lysa_events_doctor_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_events_severity_idx": {
          "name": "lysa_events_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_events_status_idx": {
          "name": "lysa_events_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lysa_events_created_at_idx": {
          "name": "lysa_events_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lysa_monitoring_events_monitoring_assignment_id_lysa_monitoring_assignments_id_fk": {
          "name": "lysa_monitoring_events_monitoring_assignment_id_lysa_monitoring_assignments_id_fk",
          "tableFrom": "lysa_monitoring_events",
          "tableTo": "lysa_monitoring_assignments",
          "columnsFrom": [
            "monitoring_assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lysa_monitoring_events_patient_id_users_id_fk": {
          "name": "lysa_monitoring_events_patient_id_users_id_fk",
          "tableFrom": "lysa_monitoring_events",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lysa_monitoring_events_doctor_id_users_id_fk": {
          "name": "lysa_monitoring_events_doctor_id_users_id_fk",
          "tableFrom": "lysa_monitoring_events",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lysa_monitoring_events_action_taken_by_users_id_fk": {
          "name": "lysa_monitoring_events_action_taken_by_users_id_fk",
          "tableFrom": "lysa_monitoring_events",
          "tableTo": "users",
          "columnsFrom": [
            "action_taken_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lysa_monitoring_events_resolved_by_users_id_fk": {
          "name": "lysa_monitoring_events_resolved_by_users_id_fk",
          "tableFrom": "lysa_monitoring_events",
          "tableTo": "users",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.meal_plans": {
      "name": "meal_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "week_start_date": {
          "name": "week_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "plan_name": {
          "name": "plan_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "ai_generated_summary": {
          "name": "ai_generated_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_calories": {
          "name": "total_calories",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "focus_areas": {
          "name": "focus_areas",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "considers_medications": {
          "name": "considers_medications",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "meal_plans_patient_id_users_id_fk": {
          "name": "meal_plans_patient_id_users_id_fk",
          "tableFrom": "meal_plans",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.meals": {
      "name": "meals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "meal_plan_id": {
          "name": "meal_plan_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "meal_type": {
          "name": "meal_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "meal_name": {
          "name": "meal_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ingredients": {
          "name": "ingredients",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "recipe_suggestion": {
          "name": "recipe_suggestion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_time": {
          "name": "scheduled_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "actual_time": {
          "name": "actual_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'planned'"
        },
        "photo_url": {
          "name": "photo_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ai_nutrition_analysis": {
          "name": "ai_nutrition_analysis",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "immune_benefits": {
          "name": "immune_benefits",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "companion_logged": {
          "name": "companion_logged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "meals_patient_id_users_id_fk": {
          "name": "meals_patient_id_users_id_fk",
          "tableFrom": "meals",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "meals_meal_plan_id_meal_plans_id_fk": {
          "name": "meals_meal_plan_id_meal_plans_id_fk",
          "tableFrom": "meals",
          "tableTo": "meal_plans",
          "columnsFrom": [
            "meal_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.medical_documents": {
      "name": "medical_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "file_type": {
          "name": "file_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extracted_text": {
          "name": "extracted_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_data": {
          "name": "extracted_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "document_type": {
          "name": "document_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "document_date": {
          "name": "document_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "processing_status": {
          "name": "processing_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "medical_documents_user_id_users_id_fk": {
          "name": "medical_documents_user_id_users_id_fk",
          "tableFrom": "medical_documents",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.medical_histories": {
      "name": "medical_histories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "chief_complaint": {
          "name": "chief_complaint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "onset": {
          "name": "onset",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provocation": {
          "name": "provocation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quality": {
          "name": "quality",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "timing": {
          "name": "timing",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "associated_symptoms": {
          "name": "associated_symptoms",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "past_medical_history": {
          "name": "past_medical_history",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_medications": {
          "name": "current_medications",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "allergies": {
          "name": "allergies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "recent_changes": {
          "name": "recent_changes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "impact_on_life": {
          "name": "impact_on_life",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "history_complete": {
          "name": "history_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "medical_histories_session_id_chat_sessions_id_fk": {
          "name": "medical_histories_session_id_chat_sessions_id_fk",
          "tableFrom": "medical_histories",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "medical_histories_user_id_users_id_fk": {
          "name": "medical_histories_user_id_users_id_fk",
          "tableFrom": "medical_histories",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.medication_adherence": {
      "name": "medication_adherence",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "medication_id": {
          "name": "medication_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "schedule_id": {
          "name": "schedule_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_time": {
          "name": "scheduled_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "taken_at": {
          "name": "taken_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "skip_reason": {
          "name": "skip_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "side_effects": {
          "name": "side_effects",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "effectiveness_rating": {
          "name": "effectiveness_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "logged_by": {
          "name": "logged_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'patient'"
        },
        "companion_checked": {
          "name": "companion_checked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "medication_adherence_medication_id_medications_id_fk": {
          "name": "medication_adherence_medication_id_medications_id_fk",
          "tableFrom": "medication_adherence",
          "tableTo": "medications",
          "columnsFrom": [
            "medication_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "medication_adherence_schedule_id_medication_schedules_id_fk": {
          "name": "medication_adherence_schedule_id_medication_schedules_id_fk",
          "tableFrom": "medication_adherence",
          "tableTo": "medication_schedules",
          "columnsFrom": [
            "schedule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "medication_adherence_patient_id_users_id_fk": {
          "name": "medication_adherence_patient_id_users_id_fk",
          "tableFrom": "medication_adherence",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.medication_change_log": {
      "name": "medication_change_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "medication_id": {
          "name": "medication_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "changed_by": {
          "name": "changed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "changed_by_user_id": {
          "name": "changed_by_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "old_dosage": {
          "name": "old_dosage",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "new_dosage": {
          "name": "new_dosage",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "old_frequency": {
          "name": "old_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "new_frequency": {
          "name": "new_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "discontinuation_reason": {
          "name": "discontinuation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "replacement_medication_id": {
          "name": "replacement_medication_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "change_reason": {
          "name": "change_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "medication_change_log_medication_id_medications_id_fk": {
          "name": "medication_change_log_medication_id_medications_id_fk",
          "tableFrom": "medication_change_log",
          "tableTo": "medications",
          "columnsFrom": [
            "medication_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "medication_change_log_patient_id_users_id_fk": {
          "name": "medication_change_log_patient_id_users_id_fk",
          "tableFrom": "medication_change_log",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.medication_conflicts": {
      "name": "medication_conflicts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "conflict_group_id": {
          "name": "conflict_group_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "medication1_id": {
          "name": "medication1_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "medication2_id": {
          "name": "medication2_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "prescription1_id": {
          "name": "prescription1_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "prescription2_id": {
          "name": "prescription2_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "doctor1_id": {
          "name": "doctor1_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "doctor2_id": {
          "name": "doctor2_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "specialty1": {
          "name": "specialty1",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "specialty2": {
          "name": "specialty2",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "conflict_type": {
          "name": "conflict_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "detected_reason": {
          "name": "detected_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "doctor1_response": {
          "name": "doctor1_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "doctor1_responded_at": {
          "name": "doctor1_responded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "doctor1_action": {
          "name": "doctor1_action",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "doctor2_response": {
          "name": "doctor2_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "doctor2_responded_at": {
          "name": "doctor2_responded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "doctor2_action": {
          "name": "doctor2_action",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "resolution": {
          "name": "resolution",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_details": {
          "name": "resolution_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "doctor1_notified_at": {
          "name": "doctor1_notified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "doctor2_notified_at": {
          "name": "doctor2_notified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "patient_notified_at": {
          "name": "patient_notified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "medication_conflicts_patient_id_users_id_fk": {
          "name": "medication_conflicts_patient_id_users_id_fk",
          "tableFrom": "medication_conflicts",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "medication_conflicts_medication1_id_medications_id_fk": {
          "name": "medication_conflicts_medication1_id_medications_id_fk",
          "tableFrom": "medication_conflicts",
          "tableTo": "medications",
          "columnsFrom": [
            "medication1_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "medication_conflicts_medication2_id_medications_id_fk": {
          "name": "medication_conflicts_medication2_id_medications_id_fk",
          "tableFrom": "medication_conflicts",
          "tableTo": "medications",
          "columnsFrom": [
            "medication2_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "medication_conflicts_doctor1_id_users_id_fk": {
          "name": "medication_conflicts_doctor1_id_users_id_fk",
          "tableFrom": "medication_conflicts",
          "tableTo": "users",
          "columnsFrom": [
            "doctor1_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "medication_conflicts_doctor2_id_users_id_fk": {
          "name": "medication_conflicts_doctor2_id_users_id_fk",
          "tableFrom": "medication_conflicts",
          "tableTo": "users",
          "columnsFrom": [
            "doctor2_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.medication_drug_matches": {
      "name": "medication_drug_matches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "medication_id": {
          "name": "medication_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "drug_id": {
          "name": "drug_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "match_source": {
          "name": "match_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "matched_by": {
          "name": "matched_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "matched_at": {
          "name": "matched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "match_metadata": {
          "name": "match_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "medication_drug_matches_medication_id_medications_id_fk": {
          "name": "medication_drug_matches_medication_id_medications_id_fk",
          "tableFrom": "medication_drug_matches",
          "tableTo": "medications",
          "columnsFrom": [
            "medication_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "medication_drug_matches_drug_id_drugs_id_fk": {
          "name": "medication_drug_matches_drug_id_drugs_id_fk",
          "tableFrom": "medication_drug_matches",
          "tableTo": "drugs",
          "columnsFrom": [
            "drug_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.medication_schedules": {
      "name": "medication_schedules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "medication_id": {
          "name": "medication_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "time_of_day": {
          "name": "time_of_day",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "with_food": {
          "name": "with_food",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "with_water": {
          "name": "with_water",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "special_instructions": {
          "name": "special_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_optimized": {
          "name": "ai_optimized",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ai_reasoning": {
          "name": "ai_reasoning",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reminder_enabled": {
          "name": "reminder_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sms_reminder_sent": {
          "name": "sms_reminder_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "medication_schedules_medication_id_medications_id_fk": {
          "name": "medication_schedules_medication_id_medications_id_fk",
          "tableFrom": "medication_schedules",
          "tableTo": "medications",
          "columnsFrom": [
            "medication_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "medication_schedules_patient_id_users_id_fk": {
          "name": "medication_schedules_patient_id_users_id_fk",
          "tableFrom": "medication_schedules",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.medications": {
      "name": "medications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "dosage": {
          "name": "dosage",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "is_otc": {
          "name": "is_otc",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ai_suggestion": {
          "name": "ai_suggestion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "drug_id": {
          "name": "drug_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "rxcui": {
          "name": "rxcui",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "source_document_id": {
          "name": "source_document_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_prescription_id": {
          "name": "source_prescription_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "confirmed_at": {
          "name": "confirmed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "confirmed_by": {
          "name": "confirmed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "added_by": {
          "name": "added_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'patient'"
        },
        "auto_detected": {
          "name": "auto_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_continuous": {
          "name": "is_continuous",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "intended_start_date": {
          "name": "intended_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "actual_start_date": {
          "name": "actual_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_days": {
          "name": "duration_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "computed_end_date": {
          "name": "computed_end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "specialty": {
          "name": "specialty",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "prescribing_doctor_id": {
          "name": "prescribing_doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "superseded_by": {
          "name": "superseded_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "superseded_at": {
          "name": "superseded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "supersession_reason": {
          "name": "supersession_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conflict_group_id": {
          "name": "conflict_group_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "conflict_status": {
          "name": "conflict_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "conflict_detected_at": {
          "name": "conflict_detected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "conflict_resolved_at": {
          "name": "conflict_resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "conflict_resolution": {
          "name": "conflict_resolution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reminders_enabled": {
          "name": "reminders_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "reminder_offsets": {
          "name": "reminder_offsets",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_reminder_sent_at": {
          "name": "last_reminder_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "adherence_log": {
          "name": "adherence_log",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "discontinued_at": {
          "name": "discontinued_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "discontinued_by": {
          "name": "discontinued_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "discontinuation_reason": {
          "name": "discontinuation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "replacement_medication_id": {
          "name": "replacement_medication_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "archive_document_id": {
          "name": "archive_document_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "archive_reason": {
          "name": "archive_reason",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "lifecycle_stage": {
          "name": "lifecycle_stage",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "last_lifecycle_update": {
          "name": "last_lifecycle_update",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "medications_patient_id_users_id_fk": {
          "name": "medications_patient_id_users_id_fk",
          "tableFrom": "medications",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "medications_drug_id_drugs_id_fk": {
          "name": "medications_drug_id_drugs_id_fk",
          "tableFrom": "medications",
          "tableTo": "drugs",
          "columnsFrom": [
            "drug_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "medications_prescribing_doctor_id_users_id_fk": {
          "name": "medications_prescribing_doctor_id_users_id_fk",
          "tableFrom": "medications",
          "tableTo": "users",
          "columnsFrom": [
            "prescribing_doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mental_health_pattern_analysis": {
      "name": "mental_health_pattern_analysis",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "response_id": {
          "name": "response_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "analysis_type": {
          "name": "analysis_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patterns": {
          "name": "patterns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "symptom_clusters": {
          "name": "symptom_clusters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "temporal_trends": {
          "name": "temporal_trends",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "neutral_summary": {
          "name": "neutral_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key_observations": {
          "name": "key_observations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_actions": {
          "name": "suggested_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "llm_model": {
          "name": "llm_model",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'gpt-4o'"
        },
        "llm_tokens_used": {
          "name": "llm_tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "analysis_version": {
          "name": "analysis_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "analysis_completed_at": {
          "name": "analysis_completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "mh_analysis_patient_idx": {
          "name": "mh_analysis_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mh_analysis_response_idx": {
          "name": "mh_analysis_response_idx",
          "columns": [
            {
              "expression": "response_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mh_analysis_type_idx": {
          "name": "mh_analysis_type_idx",
          "columns": [
            {
              "expression": "analysis_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "mental_health_pattern_analysis_patient_id_users_id_fk": {
          "name": "mental_health_pattern_analysis_patient_id_users_id_fk",
          "tableFrom": "mental_health_pattern_analysis",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "mental_health_pattern_analysis_response_id_mental_health_responses_id_fk": {
          "name": "mental_health_pattern_analysis_response_id_mental_health_responses_id_fk",
          "tableFrom": "mental_health_pattern_analysis",
          "tableTo": "mental_health_responses",
          "columnsFrom": [
            "response_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mental_health_red_flags": {
      "name": "mental_health_red_flags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "raw_text": {
          "name": "raw_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extracted_json": {
          "name": "extracted_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "extraction_model": {
          "name": "extraction_model",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'gpt-4o'"
        },
        "severity_score": {
          "name": "severity_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "requires_immediate_attention": {
          "name": "requires_immediate_attention",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "clinician_notified": {
          "name": "clinician_notified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "clinician_notified_at": {
          "name": "clinician_notified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "mental_health_red_flags_user_id_idx": {
          "name": "mental_health_red_flags_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mental_health_red_flags_session_id_idx": {
          "name": "mental_health_red_flags_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mental_health_red_flags_created_at_idx": {
          "name": "mental_health_red_flags_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "mental_health_red_flags_user_id_users_id_fk": {
          "name": "mental_health_red_flags_user_id_users_id_fk",
          "tableFrom": "mental_health_red_flags",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "mental_health_red_flags_session_id_chat_sessions_id_fk": {
          "name": "mental_health_red_flags_session_id_chat_sessions_id_fk",
          "tableFrom": "mental_health_red_flags",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "mental_health_red_flags_message_id_chat_messages_id_fk": {
          "name": "mental_health_red_flags_message_id_chat_messages_id_fk",
          "tableFrom": "mental_health_red_flags",
          "tableTo": "chat_messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "mental_health_red_flags_reviewed_by_users_id_fk": {
          "name": "mental_health_red_flags_reviewed_by_users_id_fk",
          "tableFrom": "mental_health_red_flags",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mental_health_responses": {
      "name": "mental_health_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "questionnaire_type": {
          "name": "questionnaire_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "questionnaire_version": {
          "name": "questionnaire_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "responses": {
          "name": "responses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "total_score": {
          "name": "total_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_score": {
          "name": "max_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "severity_level": {
          "name": "severity_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "cluster_scores": {
          "name": "cluster_scores",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "crisis_detected": {
          "name": "crisis_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "crisis_question_ids": {
          "name": "crisis_question_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "crisis_responses": {
          "name": "crisis_responses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "allow_storage": {
          "name": "allow_storage",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "allow_clinical_sharing": {
          "name": "allow_clinical_sharing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "mh_responses_patient_type_idx": {
          "name": "mh_responses_patient_type_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "questionnaire_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mh_responses_severity_idx": {
          "name": "mh_responses_severity_idx",
          "columns": [
            {
              "expression": "severity_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mh_responses_crisis_idx": {
          "name": "mh_responses_crisis_idx",
          "columns": [
            {
              "expression": "crisis_detected",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mh_responses_completed_idx": {
          "name": "mh_responses_completed_idx",
          "columns": [
            {
              "expression": "completed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "mental_health_responses_patient_id_users_id_fk": {
          "name": "mental_health_responses_patient_id_users_id_fk",
          "tableFrom": "mental_health_responses",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.milestones": {
      "name": "milestones",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon": {
          "name": "icon",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "target_value": {
          "name": "target_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "current_value": {
          "name": "current_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "achieved": {
          "name": "achieved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "achieved_at": {
          "name": "achieved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "celebrated": {
          "name": "celebrated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "reward_points": {
          "name": "reward_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "reward_message": {
          "name": "reward_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "milestones_user_id_users_id_fk": {
          "name": "milestones_user_id_users_id_fk",
          "tableFrom": "milestones",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ml_extraction_audit_log": {
      "name": "ml_extraction_audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "request_id": {
          "name": "request_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "requester_id": {
          "name": "requester_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "purpose": {
          "name": "purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "policy_id": {
          "name": "policy_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "n_patients_consented": {
          "name": "n_patients_consented",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "n_records_extracted": {
          "name": "n_records_extracted",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "differential_privacy_applied": {
          "name": "differential_privacy_applied",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "ml_extraction_requester_idx": {
          "name": "ml_extraction_requester_idx",
          "columns": [
            {
              "expression": "requester_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ml_extraction_policy_idx": {
          "name": "ml_extraction_policy_idx",
          "columns": [
            {
              "expression": "policy_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ml_models": {
      "name": "ml_models",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "model_name": {
          "name": "model_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "model_type": {
          "name": "model_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'training'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "training_config": {
          "name": "training_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "training_data_sources": {
          "name": "training_data_sources",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metrics": {
          "name": "metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "model_path": {
          "name": "model_path",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "model_format": {
          "name": "model_format",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'onnx'"
        },
        "model_size_bytes": {
          "name": "model_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "feature_names": {
          "name": "feature_names",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "feature_importance": {
          "name": "feature_importance",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "trained_by": {
          "name": "trained_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "training_started_at": {
          "name": "training_started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "training_completed_at": {
          "name": "training_completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "training_duration_seconds": {
          "name": "training_duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "deployed_at": {
          "name": "deployed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "deprecated_at": {
          "name": "deprecated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "deprecation_reason": {
          "name": "deprecation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "previous_version_id": {
          "name": "previous_version_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "improvement_over_previous": {
          "name": "improvement_over_previous",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "ml_models_name_idx": {
          "name": "ml_models_name_idx",
          "columns": [
            {
              "expression": "model_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ml_models_version_idx": {
          "name": "ml_models_version_idx",
          "columns": [
            {
              "expression": "model_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ml_models_status_idx": {
          "name": "ml_models_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ml_models_active_idx": {
          "name": "ml_models_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ml_recommendations": {
      "name": "ml_recommendations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "agent_type": {
          "name": "agent_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "model_version": {
          "name": "model_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "personalization_score": {
          "name": "personalization_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "reasoning": {
          "name": "reasoning",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "based_on_factors": {
          "name": "based_on_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "user_feedback": {
          "name": "user_feedback",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_notes": {
          "name": "user_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reward_value": {
          "name": "reward_value",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ml_recommendations_user_id_users_id_fk": {
          "name": "ml_recommendations_user_id_users_id_fk",
          "tableFrom": "ml_recommendations",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ml_training_audit_log": {
      "name": "ml_training_audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "event_category": {
          "name": "event_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "actor_id": {
          "name": "actor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "actor_type": {
          "name": "actor_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource_type": {
          "name": "resource_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "patient_id_hash": {
          "name": "patient_id_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "phi_accessed": {
          "name": "phi_accessed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "phi_categories": {
          "name": "phi_categories",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "event_details": {
          "name": "event_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "previous_state": {
          "name": "previous_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_state": {
          "name": "new_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "ml_audit_event_idx": {
          "name": "ml_audit_event_idx",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ml_audit_actor_idx": {
          "name": "ml_audit_actor_idx",
          "columns": [
            {
              "expression": "actor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ml_audit_resource_idx": {
          "name": "ml_audit_resource_idx",
          "columns": [
            {
              "expression": "resource_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ml_audit_patient_idx": {
          "name": "ml_audit_patient_idx",
          "columns": [
            {
              "expression": "patient_id_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ml_audit_created_idx": {
          "name": "ml_audit_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ml_training_consent": {
      "name": "ml_training_consent",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "consent_enabled": {
          "name": "consent_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "data_types": {
          "name": "data_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"vitals\":true,\"symptoms\":true,\"medications\":false,\"mentalHealth\":false,\"behavioralData\":true,\"wearableData\":true,\"labResults\":false,\"imagingData\":false}'::jsonb"
        },
        "anonymization_level": {
          "name": "anonymization_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'full'"
        },
        "consent_version": {
          "name": "consent_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "consent_signed_at": {
          "name": "consent_signed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "consent_withdrawn_at": {
          "name": "consent_withdrawn_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "withdrawal_reason": {
          "name": "withdrawal_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_data_deletion": {
          "name": "requested_data_deletion",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "data_deletion_requested_at": {
          "name": "data_deletion_requested_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "data_deletion_completed_at": {
          "name": "data_deletion_completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_modified_by": {
          "name": "last_modified_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "ml_consent_patient_idx": {
          "name": "ml_consent_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ml_consent_enabled_idx": {
          "name": "ml_consent_enabled_idx",
          "columns": [
            {
              "expression": "consent_enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ml_training_consent_patient_id_users_id_fk": {
          "name": "ml_training_consent_patient_id_users_id_fk",
          "tableFrom": "ml_training_consent",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ml_training_contributions": {
      "name": "ml_training_contributions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id_hash": {
          "name": "patient_id_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "consent_id": {
          "name": "consent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "training_job_id": {
          "name": "training_job_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "model_id": {
          "name": "model_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "data_types_contributed": {
          "name": "data_types_contributed",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "record_count": {
          "name": "record_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "date_range_start": {
          "name": "date_range_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "date_range_end": {
          "name": "date_range_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "anonymization_level": {
          "name": "anonymization_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'included'"
        },
        "contributed_at": {
          "name": "contributed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "withdrawn_at": {
          "name": "withdrawn_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "ml_contrib_patient_idx": {
          "name": "ml_contrib_patient_idx",
          "columns": [
            {
              "expression": "patient_id_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ml_contrib_job_idx": {
          "name": "ml_contrib_job_idx",
          "columns": [
            {
              "expression": "training_job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ml_contrib_model_idx": {
          "name": "ml_contrib_model_idx",
          "columns": [
            {
              "expression": "model_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ml_training_contributions_consent_id_ml_training_consent_id_fk": {
          "name": "ml_training_contributions_consent_id_ml_training_consent_id_fk",
          "tableFrom": "ml_training_contributions",
          "tableTo": "ml_training_consent",
          "columnsFrom": [
            "consent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ml_training_contributions_training_job_id_ml_training_jobs_id_fk": {
          "name": "ml_training_contributions_training_job_id_ml_training_jobs_id_fk",
          "tableFrom": "ml_training_contributions",
          "tableTo": "ml_training_jobs",
          "columnsFrom": [
            "training_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ml_training_contributions_model_id_ml_models_id_fk": {
          "name": "ml_training_contributions_model_id_ml_models_id_fk",
          "tableFrom": "ml_training_contributions",
          "tableTo": "ml_models",
          "columnsFrom": [
            "model_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ml_training_jobs": {
      "name": "ml_training_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "job_name": {
          "name": "job_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "model_name": {
          "name": "model_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "target_version": {
          "name": "target_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "data_sources": {
          "name": "data_sources",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "training_config": {
          "name": "training_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "current_phase": {
          "name": "current_phase",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "progress_percent": {
          "name": "progress_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "progress_message": {
          "name": "progress_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_usage": {
          "name": "resource_usage",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "queued_at": {
          "name": "queued_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_completion_at": {
          "name": "estimated_completion_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "result_model_id": {
          "name": "result_model_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_details": {
          "name": "error_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "notify_on_completion": {
          "name": "notify_on_completion",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notification_email": {
          "name": "notification_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "initiated_by": {
          "name": "initiated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "logs_path": {
          "name": "logs_path",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "ml_jobs_status_idx": {
          "name": "ml_jobs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ml_jobs_model_idx": {
          "name": "ml_jobs_model_idx",
          "columns": [
            {
              "expression": "model_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ml_jobs_priority_idx": {
          "name": "ml_jobs_priority_idx",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "queued_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ml_training_jobs_result_model_id_ml_models_id_fk": {
          "name": "ml_training_jobs_result_model_id_ml_models_id_fk",
          "tableFrom": "ml_training_jobs",
          "tableTo": "ml_models",
          "columnsFrom": [
            "result_model_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.nutrition_entries": {
      "name": "nutrition_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "meal_id": {
          "name": "meal_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "calories": {
          "name": "calories",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "protein": {
          "name": "protein",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "carbs": {
          "name": "carbs",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "fat": {
          "name": "fat",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "fiber": {
          "name": "fiber",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "sugar": {
          "name": "sugar",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "sodium": {
          "name": "sodium",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "vitamin_c": {
          "name": "vitamin_c",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "vitamin_d": {
          "name": "vitamin_d",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "zinc": {
          "name": "zinc",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "iron": {
          "name": "iron",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "calcium": {
          "name": "calcium",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "omega_3": {
          "name": "omega_3",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "antioxidant_score": {
          "name": "antioxidant_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "immune_support_score": {
          "name": "immune_support_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "data_source": {
          "name": "data_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'ai_estimation'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "nutrition_entries_meal_id_meals_id_fk": {
          "name": "nutrition_entries_meal_id_meals_id_fk",
          "tableFrom": "nutrition_entries",
          "tableTo": "meals",
          "columnsFrom": [
            "meal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "nutrition_entries_patient_id_users_id_fk": {
          "name": "nutrition_entries_patient_id_users_id_fk",
          "tableFrom": "nutrition_entries",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.occupational_exposures": {
      "name": "occupational_exposures",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "occupation_id": {
          "name": "occupation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "exposure_type": {
          "name": "exposure_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "exposure_agent": {
          "name": "exposure_agent",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "exposure_level": {
          "name": "exposure_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "exposure_frequency": {
          "name": "exposure_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "exposure_duration_years": {
          "name": "exposure_duration_years",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "protective_equipment_used": {
          "name": "protective_equipment_used",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "protective_equipment_details": {
          "name": "protective_equipment_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "health_impact_notes": {
          "name": "health_impact_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auto_generated": {
          "name": "auto_generated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "manual_override": {
          "name": "manual_override",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "modified_by": {
          "name": "modified_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "modified_at": {
          "name": "modified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "doctor_notes": {
          "name": "doctor_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "exposure_occupation_idx": {
          "name": "exposure_occupation_idx",
          "columns": [
            {
              "expression": "occupation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "exposure_patient_idx": {
          "name": "exposure_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "exposure_type_idx": {
          "name": "exposure_type_idx",
          "columns": [
            {
              "expression": "exposure_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "occupational_exposures_occupation_id_patient_occupations_id_fk": {
          "name": "occupational_exposures_occupation_id_patient_occupations_id_fk",
          "tableFrom": "occupational_exposures",
          "tableTo": "patient_occupations",
          "columnsFrom": [
            "occupation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "occupational_exposures_patient_id_users_id_fk": {
          "name": "occupational_exposures_patient_id_users_id_fk",
          "tableFrom": "occupational_exposures",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "occupational_exposures_modified_by_users_id_fk": {
          "name": "occupational_exposures_modified_by_users_id_fk",
          "tableFrom": "occupational_exposures",
          "tableTo": "users",
          "columnsFrom": [
            "modified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.paintrack_sessions": {
      "name": "paintrack_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "module": {
          "name": "module",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "joint": {
          "name": "joint",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "laterality": {
          "name": "laterality",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "front_video_url": {
          "name": "front_video_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "joint_video_url": {
          "name": "joint_video_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "patient_vas": {
          "name": "patient_vas",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "patient_notes": {
          "name": "patient_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "medication_taken": {
          "name": "medication_taken",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "medication_details": {
          "name": "medication_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recording_duration": {
          "name": "recording_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "device_type": {
          "name": "device_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "dual_camera_supported": {
          "name": "dual_camera_supported",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "processing_error": {
          "name": "processing_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video_quality": {
          "name": "video_quality",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "paintrack_user_idx": {
          "name": "paintrack_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "paintrack_module_idx": {
          "name": "paintrack_module_idx",
          "columns": [
            {
              "expression": "module",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "paintrack_joint_idx": {
          "name": "paintrack_joint_idx",
          "columns": [
            {
              "expression": "joint",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "paintrack_status_idx": {
          "name": "paintrack_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "paintrack_sessions_user_id_users_id_fk": {
          "name": "paintrack_sessions_user_id_users_id_fk",
          "tableFrom": "paintrack_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.passive_metrics": {
      "name": "passive_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "steps": {
          "name": "steps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "active_minutes": {
          "name": "active_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "calories_burned": {
          "name": "calories_burned",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "distance_meters": {
          "name": "distance_meters",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hr_mean": {
          "name": "hr_mean",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hr_min": {
          "name": "hr_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hr_max": {
          "name": "hr_max",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hrv": {
          "name": "hrv",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "resting_hr": {
          "name": "resting_hr",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_minutes": {
          "name": "sleep_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "deep_sleep_minutes": {
          "name": "deep_sleep_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rem_sleep_minutes": {
          "name": "rem_sleep_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "light_sleep_minutes": {
          "name": "light_sleep_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "awake_minutes": {
          "name": "awake_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_score": {
          "name": "sleep_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "respiratory_rate": {
          "name": "respiratory_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "spo2_mean": {
          "name": "spo2_mean",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "spo2_min": {
          "name": "spo2_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stress_score": {
          "name": "stress_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recovery_score": {
          "name": "recovery_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "device_meta": {
          "name": "device_meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "synced_at": {
          "name": "synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "data_quality": {
          "name": "data_quality",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "passive_metrics_user_date_idx": {
          "name": "passive_metrics_user_date_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "passive_metrics_user_id_users_id_fk": {
          "name": "passive_metrics_user_id_users_id_fk",
          "tableFrom": "passive_metrics",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patient_conditions": {
      "name": "patient_conditions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "condition_code": {
          "name": "condition_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "condition_name": {
          "name": "condition_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "condition_category": {
          "name": "condition_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "onset_date": {
          "name": "onset_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "diagnosis_date": {
          "name": "diagnosis_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_date": {
          "name": "resolution_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "diagnosed_by": {
          "name": "diagnosed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'ehr'"
        },
        "source_record_id": {
          "name": "source_record_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "patient_condition_patient_idx": {
          "name": "patient_condition_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "patient_condition_code_idx": {
          "name": "patient_condition_code_idx",
          "columns": [
            {
              "expression": "condition_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "patient_condition_status_idx": {
          "name": "patient_condition_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "patient_condition_category_idx": {
          "name": "patient_condition_category_idx",
          "columns": [
            {
              "expression": "condition_category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "patient_conditions_patient_id_users_id_fk": {
          "name": "patient_conditions_patient_id_users_id_fk",
          "tableFrom": "patient_conditions",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patient_conditions_diagnosed_by_users_id_fk": {
          "name": "patient_conditions_diagnosed_by_users_id_fk",
          "tableFrom": "patient_conditions",
          "tableTo": "users",
          "columnsFrom": [
            "diagnosed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patient_consent_requests": {
      "name": "patient_consent_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "request_message": {
          "name": "request_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "responded_at": {
          "name": "responded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "response_message": {
          "name": "response_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "doctor_pending_requests_idx": {
          "name": "doctor_pending_requests_idx",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "patient_pending_requests_idx": {
          "name": "patient_pending_requests_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "patient_consent_requests_doctor_id_users_id_fk": {
          "name": "patient_consent_requests_doctor_id_users_id_fk",
          "tableFrom": "patient_consent_requests",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patient_consent_requests_patient_id_users_id_fk": {
          "name": "patient_consent_requests_patient_id_users_id_fk",
          "tableFrom": "patient_consent_requests",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patient_environment_profiles": {
      "name": "patient_environment_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "zip_code": {
          "name": "zip_code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "city": {
          "name": "city",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'America/New_York'"
        },
        "chronic_conditions": {
          "name": "chronic_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "allergies": {
          "name": "allergies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "alerts_enabled": {
          "name": "alerts_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "alert_thresholds": {
          "name": "alert_thresholds",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "push_notifications": {
          "name": "push_notifications",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sms_notifications": {
          "name": "sms_notifications",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_digest": {
          "name": "email_digest",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "digest_frequency": {
          "name": "digest_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'daily'"
        },
        "correlation_consent_given": {
          "name": "correlation_consent_given",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "correlation_consent_at": {
          "name": "correlation_consent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "env_profile_patient_idx": {
          "name": "env_profile_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "env_profile_zip_idx": {
          "name": "env_profile_zip_idx",
          "columns": [
            {
              "expression": "zip_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "patient_environment_profiles_patient_id_users_id_fk": {
          "name": "patient_environment_profiles_patient_id_users_id_fk",
          "tableFrom": "patient_environment_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patient_environment_risk_scores": {
      "name": "patient_environment_risk_scores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "snapshot_id": {
          "name": "snapshot_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "computed_at": {
          "name": "computed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "composite_risk_score": {
          "name": "composite_risk_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "risk_level": {
          "name": "risk_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "weather_risk_score": {
          "name": "weather_risk_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "air_quality_risk_score": {
          "name": "air_quality_risk_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "allergen_risk_score": {
          "name": "allergen_risk_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "hazard_risk_score": {
          "name": "hazard_risk_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "trend_24hr": {
          "name": "trend_24hr",
          "type": "numeric(6, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "trend_48hr": {
          "name": "trend_48hr",
          "type": "numeric(6, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "trend_72hr": {
          "name": "trend_72hr",
          "type": "numeric(6, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "volatility_score": {
          "name": "volatility_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "factor_contributions": {
          "name": "factor_contributions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "top_risk_factors": {
          "name": "top_risk_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "scoring_version": {
          "name": "scoring_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "risk_score_patient_time_idx": {
          "name": "risk_score_patient_time_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "computed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "risk_score_level_idx": {
          "name": "risk_score_level_idx",
          "columns": [
            {
              "expression": "risk_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "patient_environment_risk_scores_patient_id_users_id_fk": {
          "name": "patient_environment_risk_scores_patient_id_users_id_fk",
          "tableFrom": "patient_environment_risk_scores",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patient_environment_risk_scores_snapshot_id_environmental_data_snapshots_id_fk": {
          "name": "patient_environment_risk_scores_snapshot_id_environmental_data_snapshots_id_fk",
          "tableFrom": "patient_environment_risk_scores",
          "tableTo": "environmental_data_snapshots",
          "columnsFrom": [
            "snapshot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patient_immunizations": {
      "name": "patient_immunizations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "vaccine_code": {
          "name": "vaccine_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "vaccine_name": {
          "name": "vaccine_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "vaccine_manufacturer": {
          "name": "vaccine_manufacturer",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "lot_number": {
          "name": "lot_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "dose_number": {
          "name": "dose_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "series_name": {
          "name": "series_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "series_complete": {
          "name": "series_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "administration_date": {
          "name": "administration_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "administration_route": {
          "name": "administration_route",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "administration_site": {
          "name": "administration_site",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "administered_by": {
          "name": "administered_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'completed'"
        },
        "adverse_reaction": {
          "name": "adverse_reaction",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "reaction_details": {
          "name": "reaction_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'ehr'"
        },
        "source_record_id": {
          "name": "source_record_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "auto_generated": {
          "name": "auto_generated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "manual_override": {
          "name": "manual_override",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "overridden_by": {
          "name": "overridden_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "overridden_at": {
          "name": "overridden_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "immunization_patient_idx": {
          "name": "immunization_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "immunization_vaccine_idx": {
          "name": "immunization_vaccine_idx",
          "columns": [
            {
              "expression": "vaccine_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "immunization_date_idx": {
          "name": "immunization_date_idx",
          "columns": [
            {
              "expression": "administration_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "patient_immunizations_patient_id_users_id_fk": {
          "name": "patient_immunizations_patient_id_users_id_fk",
          "tableFrom": "patient_immunizations",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patient_immunizations_location_id_healthcare_locations_id_fk": {
          "name": "patient_immunizations_location_id_healthcare_locations_id_fk",
          "tableFrom": "patient_immunizations",
          "tableTo": "healthcare_locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patient_immunizations_administered_by_users_id_fk": {
          "name": "patient_immunizations_administered_by_users_id_fk",
          "tableFrom": "patient_immunizations",
          "tableTo": "users",
          "columnsFrom": [
            "administered_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patient_immunizations_overridden_by_users_id_fk": {
          "name": "patient_immunizations_overridden_by_users_id_fk",
          "tableFrom": "patient_immunizations",
          "tableTo": "users",
          "columnsFrom": [
            "overridden_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patient_occupations": {
      "name": "patient_occupations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "job_title": {
          "name": "job_title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "industry": {
          "name": "industry",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "employer": {
          "name": "employer",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "physical_demand_level": {
          "name": "physical_demand_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "shift_work": {
          "name": "shift_work",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "night_shift": {
          "name": "night_shift",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "hours_per_week": {
          "name": "hours_per_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "auto_enriched": {
          "name": "auto_enriched",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "enriched_at": {
          "name": "enriched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "modified_by": {
          "name": "modified_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "modified_at": {
          "name": "modified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "doctor_notes": {
          "name": "doctor_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "occupation_patient_idx": {
          "name": "occupation_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "occupation_industry_idx": {
          "name": "occupation_industry_idx",
          "columns": [
            {
              "expression": "industry",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "occupation_current_idx": {
          "name": "occupation_current_idx",
          "columns": [
            {
              "expression": "is_current",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "patient_occupations_patient_id_users_id_fk": {
          "name": "patient_occupations_patient_id_users_id_fk",
          "tableFrom": "patient_occupations",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patient_occupations_created_by_users_id_fk": {
          "name": "patient_occupations_created_by_users_id_fk",
          "tableFrom": "patient_occupations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patient_occupations_modified_by_users_id_fk": {
          "name": "patient_occupations_modified_by_users_id_fk",
          "tableFrom": "patient_occupations",
          "tableTo": "users",
          "columnsFrom": [
            "modified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patient_profiles": {
      "name": "patient_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "followup_patient_id": {
          "name": "followup_patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "zip_code": {
          "name": "zip_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'USA'"
        },
        "immunocompromised_condition": {
          "name": "immunocompromised_condition",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "comorbidities": {
          "name": "comorbidities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "allergies": {
          "name": "allergies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "current_medications": {
          "name": "current_medications",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ehr_sync_enabled": {
          "name": "ehr_sync_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ehr_last_sync": {
          "name": "ehr_last_sync",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "patient_profiles_user_id_users_id_fk": {
          "name": "patient_profiles_user_id_users_id_fk",
          "tableFrom": "patient_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "patient_profiles_followup_patient_id_unique": {
          "name": "patient_profiles_followup_patient_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "followup_patient_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patient_trigger_weights": {
      "name": "patient_trigger_weights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "factor_type": {
          "name": "factor_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "personalized_weight": {
          "name": "personalized_weight",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "correlation_coefficient": {
          "name": "correlation_coefficient",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "p_value": {
          "name": "p_value",
          "type": "numeric(8, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "sample_size": {
          "name": "sample_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated_at": {
          "name": "last_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "patient_trigger_idx": {
          "name": "patient_trigger_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "factor_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "patient_trigger_weights_patient_id_users_id_fk": {
          "name": "patient_trigger_weights_patient_id_users_id_fk",
          "tableFrom": "patient_trigger_weights",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patient_visits": {
      "name": "patient_visits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "visit_type": {
          "name": "visit_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "facility_name": {
          "name": "facility_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "admission_date": {
          "name": "admission_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "discharge_date": {
          "name": "discharge_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "length_of_stay": {
          "name": "length_of_stay",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_hospitalization": {
          "name": "is_hospitalization",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "icu_admission": {
          "name": "icu_admission",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "icu_days": {
          "name": "icu_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ventilator_required": {
          "name": "ventilator_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "chief_complaint": {
          "name": "chief_complaint",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_diagnosis_code": {
          "name": "primary_diagnosis_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_diagnoses_codes": {
          "name": "secondary_diagnoses_codes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "discharge_disposition": {
          "name": "discharge_disposition",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'ehr'"
        },
        "source_record_id": {
          "name": "source_record_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "patient_visit_patient_idx": {
          "name": "patient_visit_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "patient_visit_date_idx": {
          "name": "patient_visit_date_idx",
          "columns": [
            {
              "expression": "admission_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "patient_visit_type_idx": {
          "name": "patient_visit_type_idx",
          "columns": [
            {
              "expression": "visit_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "patient_visits_patient_id_users_id_fk": {
          "name": "patient_visits_patient_id_users_id_fk",
          "tableFrom": "patient_visits",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patient_visits_location_id_healthcare_locations_id_fk": {
          "name": "patient_visits_location_id_healthcare_locations_id_fk",
          "tableFrom": "patient_visits",
          "tableTo": "healthcare_locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pharmacogenomic_profiles": {
      "name": "pharmacogenomic_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "test_provider": {
          "name": "test_provider",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "test_date": {
          "name": "test_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cyp_enzymes": {
          "name": "cyp_enzymes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "slco_transporters": {
          "name": "slco_transporters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "hla_alleles": {
          "name": "hla_alleles",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "vkorc1_genotype": {
          "name": "vkorc1_genotype",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "tpmt_genotype": {
          "name": "tpmt_genotype",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "dpyd_genotype": {
          "name": "dpyd_genotype",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "g6pd_deficiency": {
          "name": "g6pd_deficiency",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "other_pharmacogenes": {
          "name": "other_pharmacogenes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ethnic_background": {
          "name": "ethnic_background",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "consent_for_research": {
          "name": "consent_for_research",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "data_source": {
          "name": "data_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "raw_data_file_url": {
          "name": "raw_data_file_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "interpreter_notes": {
          "name": "interpreter_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "pharmacogenomic_profiles_patient_id_users_id_fk": {
          "name": "pharmacogenomic_profiles_patient_id_users_id_fk",
          "tableFrom": "pharmacogenomic_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "pharmacogenomic_profiles_patient_id_unique": {
          "name": "pharmacogenomic_profiles_patient_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "patient_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pharmacogenomic_reports": {
      "name": "pharmacogenomic_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "report_name": {
          "name": "report_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "testing_provider": {
          "name": "testing_provider",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "test_date": {
          "name": "test_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "report_file_url": {
          "name": "report_file_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "processed_variants": {
          "name": "processed_variants",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "high_risk_drugs": {
          "name": "high_risk_drugs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "recommendations": {
          "name": "recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "processing_status": {
          "name": "processing_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "processing_error": {
          "name": "processing_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "pharmacogenomic_reports_user_id_users_id_fk": {
          "name": "pharmacogenomic_reports_user_id_users_id_fk",
          "tableFrom": "pharmacogenomic_reports",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.prescriptions": {
      "name": "prescriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "drug_id": {
          "name": "drug_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "rxcui": {
          "name": "rxcui",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "medication_name": {
          "name": "medication_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "dosage": {
          "name": "dosage",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "dosage_instructions": {
          "name": "dosage_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "refills": {
          "name": "refills",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expiration_date": {
          "name": "expiration_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_continuous": {
          "name": "is_continuous",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "duration_days": {
          "name": "duration_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "intended_start_date": {
          "name": "intended_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "specialty": {
          "name": "specialty",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "supersedes": {
          "name": "supersedes",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "superseded_by": {
          "name": "superseded_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "superseded_at": {
          "name": "superseded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "conflict_group_id": {
          "name": "conflict_group_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "has_conflict": {
          "name": "has_conflict",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "conflict_detected_at": {
          "name": "conflict_detected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "conflict_resolved_at": {
          "name": "conflict_resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'sent'"
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "document_id": {
          "name": "document_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "medication_id": {
          "name": "medication_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "prescriptions_patient_id_users_id_fk": {
          "name": "prescriptions_patient_id_users_id_fk",
          "tableFrom": "prescriptions",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "prescriptions_doctor_id_users_id_fk": {
          "name": "prescriptions_doctor_id_users_id_fk",
          "tableFrom": "prescriptions",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "prescriptions_drug_id_drugs_id_fk": {
          "name": "prescriptions_drug_id_drugs_id_fk",
          "tableFrom": "prescriptions",
          "tableTo": "drugs",
          "columnsFrom": [
            "drug_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "prescriptions_medication_id_medications_id_fk": {
          "name": "prescriptions_medication_id_medications_id_fk",
          "tableFrom": "prescriptions",
          "tableTo": "medications",
          "columnsFrom": [
            "medication_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.protocol_version_audit_log": {
      "name": "protocol_version_audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "protocol_id": {
          "name": "protocol_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "old_version": {
          "name": "old_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "new_version": {
          "name": "new_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "protocol_version_audit_protocol_idx": {
          "name": "protocol_version_audit_protocol_idx",
          "columns": [
            {
              "expression": "protocol_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "protocol_version_audit_action_idx": {
          "name": "protocol_version_audit_action_idx",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.public_dataset_registry": {
      "name": "public_dataset_registry",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "dataset_name": {
          "name": "dataset_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "requires_credentials": {
          "name": "requires_credentials",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "credentials_configured": {
          "name": "credentials_configured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "access_url": {
          "name": "access_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "documentation_url": {
          "name": "documentation_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "record_count": {
          "name": "record_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "patient_count": {
          "name": "patient_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "date_range": {
          "name": "date_range",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "data_types": {
          "name": "data_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "total_size_gb": {
          "name": "total_size_gb",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "file_formats": {
          "name": "file_formats",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "download_status": {
          "name": "download_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'not_started'"
        },
        "download_progress": {
          "name": "download_progress",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "local_path": {
          "name": "local_path",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "preprocessed_at": {
          "name": "preprocessed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "preprocessing_config": {
          "name": "preprocessing_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "used_in_models": {
          "name": "used_in_models",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "license": {
          "name": "license",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "citation_required": {
          "name": "citation_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "citation": {
          "name": "citation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "public_dataset_source_idx": {
          "name": "public_dataset_source_idx",
          "columns": [
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "public_dataset_status_idx": {
          "name": "public_dataset_status_idx",
          "columns": [
            {
              "expression": "download_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "public_dataset_registry_dataset_name_unique": {
          "name": "public_dataset_registry_dataset_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "dataset_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.referrals": {
      "name": "referrals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "referrer_id": {
          "name": "referrer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "referrer_type": {
          "name": "referrer_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "referee_id": {
          "name": "referee_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "referee_type": {
          "name": "referee_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "referee_email": {
          "name": "referee_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "referral_code": {
          "name": "referral_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "referral_link": {
          "name": "referral_link",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "clicked_at": {
          "name": "clicked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "signed_up_at": {
          "name": "signed_up_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "trial_activated_at": {
          "name": "trial_activated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "referrer_trial_extended": {
          "name": "referrer_trial_extended",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "referee_trial_granted": {
          "name": "referee_trial_granted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "utm_source": {
          "name": "utm_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "utm_medium": {
          "name": "utm_medium",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "utm_campaign": {
          "name": "utm_campaign",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "referrals_referrer_id_users_id_fk": {
          "name": "referrals_referrer_id_users_id_fk",
          "tableFrom": "referrals",
          "tableTo": "users",
          "columnsFrom": [
            "referrer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referrals_referee_id_users_id_fk": {
          "name": "referrals_referee_id_users_id_fk",
          "tableFrom": "referrals",
          "tableTo": "users",
          "columnsFrom": [
            "referee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "referrals_referral_code_unique": {
          "name": "referrals_referral_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "referral_code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_alerts": {
      "name": "research_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "study_id": {
          "name": "study_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "alert_type": {
          "name": "alert_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "risk_score": {
          "name": "risk_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "details_json": {
          "name": "details_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'new'"
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "resolution": {
          "name": "resolution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "research_alert_patient_idx": {
          "name": "research_alert_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_alert_study_idx": {
          "name": "research_alert_study_idx",
          "columns": [
            {
              "expression": "study_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_alert_type_idx": {
          "name": "research_alert_type_idx",
          "columns": [
            {
              "expression": "alert_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_alert_status_idx": {
          "name": "research_alert_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_alert_severity_idx": {
          "name": "research_alert_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "research_alerts_patient_id_users_id_fk": {
          "name": "research_alerts_patient_id_users_id_fk",
          "tableFrom": "research_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_alerts_study_id_research_studies_id_fk": {
          "name": "research_alerts_study_id_research_studies_id_fk",
          "tableFrom": "research_alerts",
          "tableTo": "research_studies",
          "columnsFrom": [
            "study_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_alerts_acknowledged_by_users_id_fk": {
          "name": "research_alerts_acknowledged_by_users_id_fk",
          "tableFrom": "research_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "acknowledged_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_alerts_resolved_by_users_id_fk": {
          "name": "research_alerts_resolved_by_users_id_fk",
          "tableFrom": "research_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_analysis_reports": {
      "name": "research_analysis_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "study_id": {
          "name": "study_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "cohort_id": {
          "name": "cohort_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot_id": {
          "name": "snapshot_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "analysis_type": {
          "name": "analysis_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "analysis_spec_json": {
          "name": "analysis_spec_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "results_json": {
          "name": "results_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "generated_text": {
          "name": "generated_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "abstract": {
          "name": "abstract",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "methods": {
          "name": "methods",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "results": {
          "name": "results",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discussion": {
          "name": "discussion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "limitations": {
          "name": "limitations",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "publish_ready": {
          "name": "publish_ready",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "analysis_report_study_idx": {
          "name": "analysis_report_study_idx",
          "columns": [
            {
              "expression": "study_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analysis_report_cohort_idx": {
          "name": "analysis_report_cohort_idx",
          "columns": [
            {
              "expression": "cohort_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analysis_report_type_idx": {
          "name": "analysis_report_type_idx",
          "columns": [
            {
              "expression": "analysis_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analysis_report_status_idx": {
          "name": "analysis_report_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "research_analysis_reports_study_id_research_studies_id_fk": {
          "name": "research_analysis_reports_study_id_research_studies_id_fk",
          "tableFrom": "research_analysis_reports",
          "tableTo": "research_studies",
          "columnsFrom": [
            "study_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_analysis_reports_cohort_id_research_cohorts_id_fk": {
          "name": "research_analysis_reports_cohort_id_research_cohorts_id_fk",
          "tableFrom": "research_analysis_reports",
          "tableTo": "research_cohorts",
          "columnsFrom": [
            "cohort_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_analysis_reports_snapshot_id_research_data_snapshots_id_fk": {
          "name": "research_analysis_reports_snapshot_id_research_data_snapshots_id_fk",
          "tableFrom": "research_analysis_reports",
          "tableTo": "research_data_snapshots",
          "columnsFrom": [
            "snapshot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_analysis_reports_created_by_users_id_fk": {
          "name": "research_analysis_reports_created_by_users_id_fk",
          "tableFrom": "research_analysis_reports",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_audit_logs": {
      "name": "research_audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "action_type": {
          "name": "action_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "object_type": {
          "name": "object_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "object_id": {
          "name": "object_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "metadata_json": {
          "name": "metadata_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "research_audit_user_idx": {
          "name": "research_audit_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_audit_action_idx": {
          "name": "research_audit_action_idx",
          "columns": [
            {
              "expression": "action_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_audit_object_idx": {
          "name": "research_audit_object_idx",
          "columns": [
            {
              "expression": "object_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "object_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_audit_created_idx": {
          "name": "research_audit_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "research_audit_logs_user_id_users_id_fk": {
          "name": "research_audit_logs_user_id_users_id_fk",
          "tableFrom": "research_audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_cohorts": {
      "name": "research_cohorts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "definition_json": {
          "name": "definition_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "cached_patient_count": {
          "name": "cached_patient_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "cached_stats": {
          "name": "cached_stats",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "research_cohort_project_idx": {
          "name": "research_cohort_project_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_cohort_created_by_idx": {
          "name": "research_cohort_created_by_idx",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "research_cohorts_project_id_research_projects_id_fk": {
          "name": "research_cohorts_project_id_research_projects_id_fk",
          "tableFrom": "research_cohorts",
          "tableTo": "research_projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_cohorts_created_by_users_id_fk": {
          "name": "research_cohorts_created_by_users_id_fk",
          "tableFrom": "research_cohorts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_consents": {
      "name": "research_consents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "consent_given": {
          "name": "consent_given",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "consent_date": {
          "name": "consent_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "verification_date": {
          "name": "verification_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "data_anonymized": {
          "name": "data_anonymized",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "research_consents_patient_id_users_id_fk": {
          "name": "research_consents_patient_id_users_id_fk",
          "tableFrom": "research_consents",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_consents_verified_by_users_id_fk": {
          "name": "research_consents_verified_by_users_id_fk",
          "tableFrom": "research_consents",
          "tableTo": "users",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_data_consent": {
      "name": "research_data_consent",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "consent_enabled": {
          "name": "consent_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "data_type_permissions": {
          "name": "data_type_permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"dailyFollowups\":false,\"healthAlerts\":false,\"deteriorationIndex\":false,\"mlPredictions\":false,\"environmentalRisk\":false,\"medications\":false,\"vitals\":false,\"immuneMarkers\":false,\"behavioralData\":false,\"mentalHealth\":false,\"wearableData\":false,\"labResults\":false,\"conditions\":false,\"demographics\":false,\"painTracking\":false,\"symptomJournal\":false}'::jsonb"
        },
        "anonymization_level": {
          "name": "anonymization_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'full'"
        },
        "allow_reidentification": {
          "name": "allow_reidentification",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "data_retention_years": {
          "name": "data_retention_years",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "allow_data_export": {
          "name": "allow_data_export",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_study_enrollment": {
          "name": "allow_study_enrollment",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "allow_contact_for_studies": {
          "name": "allow_contact_for_studies",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "preferred_contact_method": {
          "name": "preferred_contact_method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'email'"
        },
        "consent_version": {
          "name": "consent_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "consent_signed_at": {
          "name": "consent_signed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "consent_updated_at": {
          "name": "consent_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "consent_withdrawn_at": {
          "name": "consent_withdrawn_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "withdrawal_reason": {
          "name": "withdrawal_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "legal_basis": {
          "name": "legal_basis",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'consent'"
        },
        "ethics_approval_ref": {
          "name": "ethics_approval_ref",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_modified_by": {
          "name": "last_modified_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "research_consent_patient_idx": {
          "name": "research_consent_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_consent_enabled_idx": {
          "name": "research_consent_enabled_idx",
          "columns": [
            {
              "expression": "consent_enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "research_data_consent_patient_id_users_id_fk": {
          "name": "research_data_consent_patient_id_users_id_fk",
          "tableFrom": "research_data_consent",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_data_snapshots": {
      "name": "research_data_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "description": {
          "name": "description",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "study_id": {
          "name": "study_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "cohort_id": {
          "name": "cohort_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "patient_count": {
          "name": "patient_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "measurement_count": {
          "name": "measurement_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "followup_count": {
          "name": "followup_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "data_hash": {
          "name": "data_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "data_snapshot_study_idx": {
          "name": "data_snapshot_study_idx",
          "columns": [
            {
              "expression": "study_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "data_snapshot_created_idx": {
          "name": "data_snapshot_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "research_data_snapshots_study_id_research_studies_id_fk": {
          "name": "research_data_snapshots_study_id_research_studies_id_fk",
          "tableFrom": "research_data_snapshots",
          "tableTo": "research_studies",
          "columnsFrom": [
            "study_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_data_snapshots_cohort_id_research_cohorts_id_fk": {
          "name": "research_data_snapshots_cohort_id_research_cohorts_id_fk",
          "tableFrom": "research_data_snapshots",
          "tableTo": "research_cohorts",
          "columnsFrom": [
            "cohort_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_data_snapshots_created_by_users_id_fk": {
          "name": "research_data_snapshots_created_by_users_id_fk",
          "tableFrom": "research_data_snapshots",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_environmental_exposures": {
      "name": "research_environmental_exposures",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "location_id": {
          "name": "location_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "pm25": {
          "name": "pm25",
          "type": "numeric(8, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "pm10": {
          "name": "pm10",
          "type": "numeric(8, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "ozone": {
          "name": "ozone",
          "type": "numeric(8, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "air_quality_index": {
          "name": "air_quality_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "air_quality_category": {
          "name": "air_quality_category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "temperature_high": {
          "name": "temperature_high",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "temperature_low": {
          "name": "temperature_low",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "temperature_avg": {
          "name": "temperature_avg",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "humidity": {
          "name": "humidity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "barometric_pressure": {
          "name": "barometric_pressure",
          "type": "numeric(7, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "precipitation": {
          "name": "precipitation",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "uv_index": {
          "name": "uv_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pollen_index": {
          "name": "pollen_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pollen_tree": {
          "name": "pollen_tree",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pollen_grass": {
          "name": "pollen_grass",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pollen_ragweed": {
          "name": "pollen_ragweed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "mold_index": {
          "name": "mold_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "wildfires_nearby": {
          "name": "wildfires_nearby",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "dust_storm": {
          "name": "dust_storm",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "data_source": {
          "name": "data_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "env_exposure_location_date_idx": {
          "name": "env_exposure_location_date_idx",
          "columns": [
            {
              "expression": "location_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "env_exposure_date_idx": {
          "name": "env_exposure_date_idx",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "research_environmental_exposures_location_id_research_locations_id_fk": {
          "name": "research_environmental_exposures_location_id_research_locations_id_fk",
          "tableFrom": "research_environmental_exposures",
          "tableTo": "research_locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_immune_markers": {
      "name": "research_immune_markers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "study_id": {
          "name": "study_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "visit_id": {
          "name": "visit_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "marker_name": {
          "name": "marker_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "numeric(15, 5)",
          "primaryKey": false,
          "notNull": true
        },
        "units": {
          "name": "units",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "reference_range_low": {
          "name": "reference_range_low",
          "type": "numeric(15, 5)",
          "primaryKey": false,
          "notNull": false
        },
        "reference_range_high": {
          "name": "reference_range_high",
          "type": "numeric(15, 5)",
          "primaryKey": false,
          "notNull": false
        },
        "interpretation": {
          "name": "interpretation",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'lab'"
        },
        "lab_name": {
          "name": "lab_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "specimen_type": {
          "name": "specimen_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "collection_time": {
          "name": "collection_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "result_time": {
          "name": "result_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "immune_marker_patient_idx": {
          "name": "immune_marker_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "immune_marker_name_idx": {
          "name": "immune_marker_name_idx",
          "columns": [
            {
              "expression": "marker_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "immune_marker_collection_idx": {
          "name": "immune_marker_collection_idx",
          "columns": [
            {
              "expression": "collection_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "research_immune_markers_patient_id_users_id_fk": {
          "name": "research_immune_markers_patient_id_users_id_fk",
          "tableFrom": "research_immune_markers",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_immune_markers_study_id_research_studies_id_fk": {
          "name": "research_immune_markers_study_id_research_studies_id_fk",
          "tableFrom": "research_immune_markers",
          "tableTo": "research_studies",
          "columnsFrom": [
            "study_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_immune_markers_visit_id_research_visits_id_fk": {
          "name": "research_immune_markers_visit_id_research_visits_id_fk",
          "tableFrom": "research_immune_markers",
          "tableTo": "research_visits",
          "columnsFrom": [
            "visit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_locations": {
      "name": "research_locations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "region": {
          "name": "region",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'USA'"
        },
        "zip_code": {
          "name": "zip_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(10, 7)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(10, 7)",
          "primaryKey": false,
          "notNull": false
        },
        "population": {
          "name": "population",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "urban_rural_classification": {
          "name": "urban_rural_classification",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "research_location_zipcode_idx": {
          "name": "research_location_zipcode_idx",
          "columns": [
            {
              "expression": "zip_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_location_coords_idx": {
          "name": "research_location_coords_idx",
          "columns": [
            {
              "expression": "latitude",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "longitude",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_measurements": {
      "name": "research_measurements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "visit_id": {
          "name": "visit_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "study_id": {
          "name": "study_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "value_numeric": {
          "name": "value_numeric",
          "type": "numeric(15, 5)",
          "primaryKey": false,
          "notNull": false
        },
        "units": {
          "name": "units",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "recorded_by": {
          "name": "recorded_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "is_valid": {
          "name": "is_valid",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "validation_notes": {
          "name": "validation_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "research_measurement_visit_idx": {
          "name": "research_measurement_visit_idx",
          "columns": [
            {
              "expression": "visit_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_measurement_patient_idx": {
          "name": "research_measurement_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_measurement_name_idx": {
          "name": "research_measurement_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_measurement_recorded_idx": {
          "name": "research_measurement_recorded_idx",
          "columns": [
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "research_measurements_visit_id_research_visits_id_fk": {
          "name": "research_measurements_visit_id_research_visits_id_fk",
          "tableFrom": "research_measurements",
          "tableTo": "research_visits",
          "columnsFrom": [
            "visit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_measurements_patient_id_users_id_fk": {
          "name": "research_measurements_patient_id_users_id_fk",
          "tableFrom": "research_measurements",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_measurements_study_id_research_studies_id_fk": {
          "name": "research_measurements_study_id_research_studies_id_fk",
          "tableFrom": "research_measurements",
          "tableTo": "research_studies",
          "columnsFrom": [
            "study_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_patient_locations": {
      "name": "research_patient_locations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "location_type": {
          "name": "location_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'residence'"
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "patient_location_patient_idx": {
          "name": "patient_location_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "patient_location_location_idx": {
          "name": "patient_location_location_idx",
          "columns": [
            {
              "expression": "location_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "patient_location_date_idx": {
          "name": "patient_location_date_idx",
          "columns": [
            {
              "expression": "start_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "end_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "research_patient_locations_patient_id_users_id_fk": {
          "name": "research_patient_locations_patient_id_users_id_fk",
          "tableFrom": "research_patient_locations",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_patient_locations_location_id_research_locations_id_fk": {
          "name": "research_patient_locations_location_id_research_locations_id_fk",
          "tableFrom": "research_patient_locations",
          "tableTo": "research_locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_projects": {
      "name": "research_projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "owner_id": {
          "name": "owner_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_type": {
          "name": "project_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'personal'"
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "collaborator_ids": {
          "name": "collaborator_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_data_sharing": {
          "name": "allow_data_sharing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "research_project_owner_idx": {
          "name": "research_project_owner_idx",
          "columns": [
            {
              "expression": "owner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_project_status_idx": {
          "name": "research_project_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "research_projects_owner_id_users_id_fk": {
          "name": "research_projects_owner_id_users_id_fk",
          "tableFrom": "research_projects",
          "tableTo": "users",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_protocols": {
      "name": "research_protocols",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "principal_investigator": {
          "name": "principal_investigator",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "analysis_spec": {
          "name": "analysis_spec",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "data_snapshot_id": {
          "name": "data_snapshot_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0.0'"
        },
        "irb_number": {
          "name": "irb_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "research_protocol_status_idx": {
          "name": "research_protocol_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_protocol_pi_idx": {
          "name": "research_protocol_pi_idx",
          "columns": [
            {
              "expression": "principal_investigator",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_studies": {
      "name": "research_studies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'planning'"
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "planned_duration": {
          "name": "planned_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_sample_size": {
          "name": "target_sample_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "current_enrollment": {
          "name": "current_enrollment",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "inclusion_criteria": {
          "name": "inclusion_criteria",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "exclusion_criteria": {
          "name": "exclusion_criteria",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "inclusion_criteria_json": {
          "name": "inclusion_criteria_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "exclusion_criteria_json": {
          "name": "exclusion_criteria_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "arms_json": {
          "name": "arms_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "visit_schedule_json": {
          "name": "visit_schedule_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "auto_reanalysis": {
          "name": "auto_reanalysis",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "reanalysis_frequency": {
          "name": "reanalysis_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'weekly'"
        },
        "last_reanalysis_at": {
          "name": "last_reanalysis_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "analysis_spec_json": {
          "name": "analysis_spec_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "cohort_id": {
          "name": "cohort_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ethics_approval_number": {
          "name": "ethics_approval_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ethics_approval_date": {
          "name": "ethics_approval_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "data_protection_assessment": {
          "name": "data_protection_assessment",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "research_study_project_idx": {
          "name": "research_study_project_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_study_status_idx": {
          "name": "research_study_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_study_owner_idx": {
          "name": "research_study_owner_idx",
          "columns": [
            {
              "expression": "owner_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "research_studies_project_id_research_projects_id_fk": {
          "name": "research_studies_project_id_research_projects_id_fk",
          "tableFrom": "research_studies",
          "tableTo": "research_projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_studies_owner_user_id_users_id_fk": {
          "name": "research_studies_owner_user_id_users_id_fk",
          "tableFrom": "research_studies",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.research_visits": {
      "name": "research_visits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "study_id": {
          "name": "study_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "visit_type": {
          "name": "visit_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "visit_number": {
          "name": "visit_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_date": {
          "name": "scheduled_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "window_start_date": {
          "name": "window_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "window_end_date": {
          "name": "window_end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "actual_date": {
          "name": "actual_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "visit_status": {
          "name": "visit_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'scheduled'"
        },
        "assessments_completed": {
          "name": "assessments_completed",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "research_visit_enrollment_idx": {
          "name": "research_visit_enrollment_idx",
          "columns": [
            {
              "expression": "enrollment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_visit_study_idx": {
          "name": "research_visit_study_idx",
          "columns": [
            {
              "expression": "study_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_visit_patient_idx": {
          "name": "research_visit_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "research_visit_scheduled_idx": {
          "name": "research_visit_scheduled_idx",
          "columns": [
            {
              "expression": "scheduled_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "research_visits_enrollment_id_study_enrollments_id_fk": {
          "name": "research_visits_enrollment_id_study_enrollments_id_fk",
          "tableFrom": "research_visits",
          "tableTo": "study_enrollments",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_visits_study_id_research_studies_id_fk": {
          "name": "research_visits_study_id_research_studies_id_fk",
          "tableFrom": "research_visits",
          "tableTo": "research_studies",
          "columnsFrom": [
            "study_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_visits_patient_id_users_id_fk": {
          "name": "research_visits_patient_id_users_id_fk",
          "tableFrom": "research_visits",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.risk_alerts": {
      "name": "risk_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "alert_type": {
          "name": "alert_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ai_explanation": {
          "name": "ai_explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "immune_digital_twin_id": {
          "name": "immune_digital_twin_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "environmental_risk_data_id": {
          "name": "environmental_risk_data_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recommendations": {
          "name": "recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sms_notification_sent": {
          "name": "sms_notification_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sms_notification_sent_at": {
          "name": "sms_notification_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "email_notification_sent": {
          "name": "email_notification_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_notification_sent_at": {
          "name": "email_notification_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "push_notification_sent": {
          "name": "push_notification_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "push_notification_sent_at": {
          "name": "push_notification_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "risk_alerts_user_id_users_id_fk": {
          "name": "risk_alerts_user_id_users_id_fk",
          "tableFrom": "risk_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "risk_alerts_immune_digital_twin_id_immune_digital_twins_id_fk": {
          "name": "risk_alerts_immune_digital_twin_id_immune_digital_twins_id_fk",
          "tableFrom": "risk_alerts",
          "tableTo": "immune_digital_twins",
          "columnsFrom": [
            "immune_digital_twin_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "risk_alerts_environmental_risk_data_id_environmental_risk_data_id_fk": {
          "name": "risk_alerts_environmental_risk_data_id_environmental_risk_data_id_fk",
          "tableFrom": "risk_alerts",
          "tableTo": "environmental_risk_data",
          "columnsFrom": [
            "environmental_risk_data_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.risk_exposures_etl_jobs": {
      "name": "risk_exposures_etl_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "job_type": {
          "name": "job_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "records_processed": {
          "name": "records_processed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "records_created": {
          "name": "records_created",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "records_updated": {
          "name": "records_updated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "records_skipped": {
          "name": "records_skipped",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "execution_time_ms": {
          "name": "execution_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_stack": {
          "name": "error_stack",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_processed_id": {
          "name": "last_processed_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_processed_at": {
          "name": "last_processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "etl_job_type_idx": {
          "name": "etl_job_type_idx",
          "columns": [
            {
              "expression": "job_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "etl_job_status_idx": {
          "name": "etl_job_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "etl_job_created_idx": {
          "name": "etl_job_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rl_rewards": {
      "name": "rl_rewards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "agent_type": {
          "name": "agent_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "reward": {
          "name": "reward",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "reward_type": {
          "name": "reward_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reward_factors": {
          "name": "reward_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "episode_id": {
          "name": "episode_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "step_number": {
          "name": "step_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "used_for_training": {
          "name": "used_for_training",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "training_batch_id": {
          "name": "training_batch_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "rl_rewards_user_id_users_id_fk": {
          "name": "rl_rewards_user_id_users_id_fk",
          "tableFrom": "rl_rewards",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.robustness_reports": {
      "name": "robustness_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "protocol_id": {
          "name": "protocol_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "overall_status": {
          "name": "overall_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "report_json": {
          "name": "report_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "robustness_protocol_idx": {
          "name": "robustness_protocol_idx",
          "columns": [
            {
              "expression": "protocol_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "robustness_status_idx": {
          "name": "robustness_status_idx",
          "columns": [
            {
              "expression": "overall_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sentiment_analysis": {
      "name": "sentiment_analysis",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "text_content": {
          "name": "text_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "analyzed_at": {
          "name": "analyzed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "sentiment_polarity": {
          "name": "sentiment_polarity",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment_label": {
          "name": "sentiment_label",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment_confidence": {
          "name": "sentiment_confidence",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "message_length_chars": {
          "name": "message_length_chars",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "word_count": {
          "name": "word_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lexical_complexity": {
          "name": "lexical_complexity",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "negativity_ratio": {
          "name": "negativity_ratio",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "stress_keyword_count": {
          "name": "stress_keyword_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "stress_keywords": {
          "name": "stress_keywords",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "help_seeking_detected": {
          "name": "help_seeking_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "help_seeking_phrases": {
          "name": "help_seeking_phrases",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "hesitation_count": {
          "name": "hesitation_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "hesitation_markers": {
          "name": "hesitation_markers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "model_version": {
          "name": "model_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'distilbert-base-uncased-finetuned-sst-2-english'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "sentiment_analysis_patient_source_idx": {
          "name": "sentiment_analysis_patient_source_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sentiment_analysis_polarity_idx": {
          "name": "sentiment_analysis_polarity_idx",
          "columns": [
            {
              "expression": "sentiment_polarity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sentiment_analysis_patient_id_users_id_fk": {
          "name": "sentiment_analysis_patient_id_users_id_fk",
          "tableFrom": "sentiment_analysis",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session_metrics": {
      "name": "session_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "joint_metrics": {
          "name": "joint_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "facial_metrics": {
          "name": "facial_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "anomaly_score": {
          "name": "anomaly_score",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "baseline_deviation": {
          "name": "baseline_deviation",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_score": {
          "name": "correlation_score",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "model_versions": {
          "name": "model_versions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "session_metrics_session_idx": {
          "name": "session_metrics_session_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "session_metrics_session_id_paintrack_sessions_id_fk": {
          "name": "session_metrics_session_id_paintrack_sessions_id_fk",
          "tableFrom": "session_metrics",
          "tableTo": "paintrack_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.study_enrollments": {
      "name": "study_enrollments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "study_id": {
          "name": "study_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "arm": {
          "name": "arm",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "consent_status": {
          "name": "consent_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "consent_date": {
          "name": "consent_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "withdrawal_date": {
          "name": "withdrawal_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "withdrawal_reason": {
          "name": "withdrawal_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enrollment_date": {
          "name": "enrollment_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "screening_date": {
          "name": "screening_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "study_enrollment_study_idx": {
          "name": "study_enrollment_study_idx",
          "columns": [
            {
              "expression": "study_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "study_enrollment_patient_idx": {
          "name": "study_enrollment_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "study_enrollment_status_idx": {
          "name": "study_enrollment_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "study_enrollment_unique_idx": {
          "name": "study_enrollment_unique_idx",
          "columns": [
            {
              "expression": "study_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "study_enrollments_study_id_research_studies_id_fk": {
          "name": "study_enrollments_study_id_research_studies_id_fk",
          "tableFrom": "study_enrollments",
          "tableTo": "research_studies",
          "columnsFrom": [
            "study_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "study_enrollments_patient_id_users_id_fk": {
          "name": "study_enrollments_patient_id_users_id_fk",
          "tableFrom": "study_enrollments",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.symptom_checkins": {
      "name": "symptom_checkins",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "pain_level": {
          "name": "pain_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fatigue_level": {
          "name": "fatigue_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "breathlessness_level": {
          "name": "breathlessness_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_quality": {
          "name": "sleep_quality",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "mood": {
          "name": "mood",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "mobility_score": {
          "name": "mobility_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "medications_taken": {
          "name": "medications_taken",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "triggers": {
          "name": "triggers",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "symptoms": {
          "name": "symptoms",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "voice_note_url": {
          "name": "voice_note_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "voice_note_duration": {
          "name": "voice_note_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'app'"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "device_type": {
          "name": "device_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "symptom_checkins_user_id_users_id_fk": {
          "name": "symptom_checkins_user_id_users_id_fk",
          "tableFrom": "symptom_checkins",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "symptom_checkins_session_id_chat_sessions_id_fk": {
          "name": "symptom_checkins_session_id_chat_sessions_id_fk",
          "tableFrom": "symptom_checkins",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.symptom_environment_correlations": {
      "name": "symptom_environment_correlations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "symptom_type": {
          "name": "symptom_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "symptom_severity_metric": {
          "name": "symptom_severity_metric",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "environmental_factor": {
          "name": "environmental_factor",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "correlation_type": {
          "name": "correlation_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "correlation_coefficient": {
          "name": "correlation_coefficient",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "p_value": {
          "name": "p_value",
          "type": "numeric(10, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "is_statistically_significant": {
          "name": "is_statistically_significant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "optimal_lag": {
          "name": "optimal_lag",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lag_correlation": {
          "name": "lag_correlation",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "sample_size": {
          "name": "sample_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "data_window_days": {
          "name": "data_window_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "relationship_strength": {
          "name": "relationship_strength",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "relationship_direction": {
          "name": "relationship_direction",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "interpretation": {
          "name": "interpretation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "data_quality_score": {
          "name": "data_quality_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "last_analyzed_at": {
          "name": "last_analyzed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "correlation_patient_symptom_idx": {
          "name": "correlation_patient_symptom_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "symptom_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "correlation_significant_idx": {
          "name": "correlation_significant_idx",
          "columns": [
            {
              "expression": "is_statistically_significant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "symptom_environment_correlations_patient_id_users_id_fk": {
          "name": "symptom_environment_correlations_patient_id_users_id_fk",
          "tableFrom": "symptom_environment_correlations",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tool_executions": {
      "name": "tool_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "message_id": {
          "name": "message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "tool_name": {
          "name": "tool_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "tool_version": {
          "name": "tool_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "input_parameters": {
          "name": "input_parameters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "output_result": {
          "name": "output_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "execution_time_ms": {
          "name": "execution_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "phi_accessed": {
          "name": "phi_accessed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "phi_categories": {
          "name": "phi_categories",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "tool_exec_agent_idx": {
          "name": "tool_exec_agent_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tool_exec_user_idx": {
          "name": "tool_exec_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tool_exec_tool_idx": {
          "name": "tool_exec_tool_idx",
          "columns": [
            {
              "expression": "tool_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tool_exec_status_idx": {
          "name": "tool_exec_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tool_exec_patient_idx": {
          "name": "tool_exec_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tool_exec_created_idx": {
          "name": "tool_exec_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tool_executions_user_id_users_id_fk": {
          "name": "tool_executions_user_id_users_id_fk",
          "tableFrom": "tool_executions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tool_executions_conversation_id_agent_conversations_id_fk": {
          "name": "tool_executions_conversation_id_agent_conversations_id_fk",
          "tableFrom": "tool_executions",
          "tableTo": "agent_conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tool_executions_message_id_agent_messages_id_fk": {
          "name": "tool_executions_message_id_agent_messages_id_fk",
          "tableFrom": "tool_executions",
          "tableTo": "agent_messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tool_executions_patient_id_users_id_fk": {
          "name": "tool_executions_patient_id_users_id_fk",
          "tableFrom": "tool_executions",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tool_executions_doctor_id_users_id_fk": {
          "name": "tool_executions_doctor_id_users_id_fk",
          "tableFrom": "tool_executions",
          "tableTo": "users",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.training_datasets": {
      "name": "training_datasets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data_type": {
          "name": "data_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "record_count": {
          "name": "record_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_path": {
          "name": "file_path",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "download_status": {
          "name": "download_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "used_for_training": {
          "name": "used_for_training",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "training_datasets_uploaded_by_users_id_fk": {
          "name": "training_datasets_uploaded_by_users_id_fk",
          "tableFrom": "training_datasets",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trend_reports": {
      "name": "trend_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "report_type": {
          "name": "report_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "aggregated_metrics": {
          "name": "aggregated_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "anomalies": {
          "name": "anomalies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "correlations": {
          "name": "correlations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "clinician_summary": {
          "name": "clinician_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "generated_by": {
          "name": "generated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'ml_trend_engine'"
        },
        "data_points_analyzed": {
          "name": "data_points_analyzed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "reviewed_by_doctor": {
          "name": "reviewed_by_doctor",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "trend_reports_user_period_idx": {
          "name": "trend_reports_user_period_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "trend_reports_user_id_users_id_fk": {
          "name": "trend_reports_user_id_users_id_fk",
          "tableFrom": "trend_reports",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trend_reports_reviewed_by_users_id_fk": {
          "name": "trend_reports_reviewed_by_users_id_fk",
          "tableFrom": "trend_reports",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trial_match_scores": {
      "name": "trial_match_scores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "trial_id": {
          "name": "trial_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "overall_score": {
          "name": "overall_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "condition_match": {
          "name": "condition_match",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "location_match": {
          "name": "location_match",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "eligibility_match": {
          "name": "eligibility_match",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "matching_criteria": {
          "name": "matching_criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "disqualifying_factors": {
          "name": "disqualifying_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "nearest_location_distance": {
          "name": "nearest_location_distance",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "nearest_location_city": {
          "name": "nearest_location_city",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "nearest_location_state": {
          "name": "nearest_location_state",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recommendation": {
          "name": "recommendation",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reasoning": {
          "name": "reasoning",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'new'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "trial_match_scores_user_id_users_id_fk": {
          "name": "trial_match_scores_user_id_users_id_fk",
          "tableFrom": "trial_match_scores",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trial_match_scores_trial_id_clinical_trials_id_fk": {
          "name": "trial_match_scores_trial_id_clinical_trials_id_fk",
          "tableFrom": "trial_match_scores",
          "tableTo": "clinical_trials",
          "columnsFrom": [
            "trial_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.two_factor_auth": {
      "name": "two_factor_auth",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "totp_secret": {
          "name": "totp_secret",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "backup_codes": {
          "name": "backup_codes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "enabled_at": {
          "name": "enabled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "two_factor_auth_user_id_users_id_fk": {
          "name": "two_factor_auth_user_id_users_id_fk",
          "tableFrom": "two_factor_auth",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "two_factor_auth_user_id_unique": {
          "name": "two_factor_auth_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_learning_profiles": {
      "name": "user_learning_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "agent_type": {
          "name": "agent_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "preferred_tone": {
          "name": "preferred_tone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_response_length": {
          "name": "preferred_response_length",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_topics": {
          "name": "preferred_topics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "avoided_topics": {
          "name": "avoided_topics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "average_session_duration": {
          "name": "average_session_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_time_of_day": {
          "name": "preferred_time_of_day",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "interaction_frequency": {
          "name": "interaction_frequency",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "favorite_health_activities": {
          "name": "favorite_health_activities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "struggling_areas": {
          "name": "struggling_areas",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "motivational_style": {
          "name": "motivational_style",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_diagnostic_approach": {
          "name": "preferred_diagnostic_approach",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "specialty_focus": {
          "name": "specialty_focus",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "research_interests": {
          "name": "research_interests",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "model_version": {
          "name": "model_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "embedding_vector": {
          "name": "embedding_vector",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_training_date": {
          "name": "last_training_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "total_interactions": {
          "name": "total_interactions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_learning_profiles_user_id_users_id_fk": {
          "name": "user_learning_profiles_user_id_users_id_fk",
          "tableFrom": "user_learning_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_presence": {
      "name": "user_presence",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "is_online": {
          "name": "is_online",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "active_connections": {
          "name": "active_connections",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "connection_ids": {
          "name": "connection_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "current_activity": {
          "name": "current_activity",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "current_conversation_id": {
          "name": "current_conversation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_device_info": {
          "name": "last_device_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "presence_user_idx": {
          "name": "presence_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "presence_online_idx": {
          "name": "presence_online_idx",
          "columns": [
            {
              "expression": "is_online",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_presence_user_id_users_id_fk": {
          "name": "user_presence_user_id_users_id_fk",
          "tableFrom": "user_presence",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_presence_user_id_unique": {
          "name": "user_presence_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_settings": {
      "name": "user_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "language": {
          "name": "language",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'en'"
        },
        "auto_detect_language": {
          "name": "auto_detect_language",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "theme": {
          "name": "theme",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'system'"
        },
        "voice_enabled": {
          "name": "voice_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "voice_gender": {
          "name": "voice_gender",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'female'"
        },
        "voice_speed": {
          "name": "voice_speed",
          "type": "numeric(2, 1)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "voice_language": {
          "name": "voice_language",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "auto_play_voice": {
          "name": "auto_play_voice",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "share_data_with_research": {
          "name": "share_data_with_research",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "share_data_with_doctors": {
          "name": "share_data_with_doctors",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "allow_third_party_integrations": {
          "name": "allow_third_party_integrations",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_ai_analysis": {
          "name": "allow_ai_analysis",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "personalization_enabled": {
          "name": "personalization_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_notifications": {
          "name": "email_notifications",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "push_notifications": {
          "name": "push_notifications",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_settings_user_id_users_id_fk": {
          "name": "user_settings_user_id_users_id_fk",
          "tableFrom": "user_settings",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_settings_user_id_unique": {
          "name": "user_settings_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "profile_image_url": {
          "name": "profile_image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verification_token": {
          "name": "verification_token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "verification_token_expires": {
          "name": "verification_token_expires",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reset_token": {
          "name": "reset_token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reset_token_expires": {
          "name": "reset_token_expires",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "default": "'patient'"
        },
        "organization": {
          "name": "organization",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "medical_license_number": {
          "name": "medical_license_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "license_country": {
          "name": "license_country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "license_verified": {
          "name": "license_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "kyc_photo_url": {
          "name": "kyc_photo_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ehr_platform": {
          "name": "ehr_platform",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ehr_import_method": {
          "name": "ehr_import_method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "phone_number": {
          "name": "phone_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "phone_verified": {
          "name": "phone_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "phone_verification_code": {
          "name": "phone_verification_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "phone_verification_expires": {
          "name": "phone_verification_expires",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "google_drive_application_url": {
          "name": "google_drive_application_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "admin_verified": {
          "name": "admin_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "admin_verified_at": {
          "name": "admin_verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "admin_verified_by": {
          "name": "admin_verified_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sms_notifications_enabled": {
          "name": "sms_notifications_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sms_medication_reminders": {
          "name": "sms_medication_reminders",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sms_appointment_reminders": {
          "name": "sms_appointment_reminders",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sms_daily_followups": {
          "name": "sms_daily_followups",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sms_health_alerts": {
          "name": "sms_health_alerts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "terms_accepted": {
          "name": "terms_accepted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "terms_accepted_at": {
          "name": "terms_accepted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_status": {
          "name": "subscription_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "trial_ends_at": {
          "name": "trial_ends_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "credit_balance": {
          "name": "credit_balance",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "users_stripe_customer_id_unique": {
          "name": "users_stripe_customer_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_customer_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.vendor_accounts": {
      "name": "vendor_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_id": {
          "name": "vendor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_name": {
          "name": "vendor_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_type": {
          "name": "token_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'Bearer'"
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "token_scope": {
          "name": "token_scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_user_id": {
          "name": "vendor_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_username": {
          "name": "vendor_username",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "connection_status": {
          "name": "connection_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "last_auth_at": {
          "name": "last_auth_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_refresh_at": {
          "name": "last_refresh_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_refresh_error": {
          "name": "last_refresh_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_attempts": {
          "name": "refresh_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "auto_sync": {
          "name": "auto_sync",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sync_frequency": {
          "name": "sync_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'hourly'"
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_status": {
          "name": "last_sync_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_error": {
          "name": "last_sync_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "synced_data_types": {
          "name": "synced_data_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_id": {
          "name": "webhook_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_secret": {
          "name": "webhook_secret",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_active": {
          "name": "webhook_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "consent_granted_at": {
          "name": "consent_granted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "consent_version": {
          "name": "consent_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "consent_data_types": {
          "name": "consent_data_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "vendor_accounts_user_vendor_idx": {
          "name": "vendor_accounts_user_vendor_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "vendor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "vendor_accounts_status_idx": {
          "name": "vendor_accounts_status_idx",
          "columns": [
            {
              "expression": "connection_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "vendor_accounts_expiry_idx": {
          "name": "vendor_accounts_expiry_idx",
          "columns": [
            {
              "expression": "token_expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "vendor_accounts_user_id_users_id_fk": {
          "name": "vendor_accounts_user_id_users_id_fk",
          "tableFrom": "vendor_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.video_exam_segments": {
      "name": "video_exam_segments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "exam_type": {
          "name": "exam_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "sequence_order": {
          "name": "sequence_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "skipped": {
          "name": "skipped",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "prep_duration_seconds": {
          "name": "prep_duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "capture_started_at": {
          "name": "capture_started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "capture_ended_at": {
          "name": "capture_ended_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "s3_key": {
          "name": "s3_key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "s3_bucket": {
          "name": "s3_bucket",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "kms_key_id": {
          "name": "kms_key_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "analysis_id": {
          "name": "analysis_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "custom_location": {
          "name": "custom_location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_description": {
          "name": "custom_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "video_exam_segments_session_idx": {
          "name": "video_exam_segments_session_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "video_exam_segments_exam_type_idx": {
          "name": "video_exam_segments_exam_type_idx",
          "columns": [
            {
              "expression": "exam_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "video_exam_segments_status_idx": {
          "name": "video_exam_segments_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "video_exam_segments_session_id_video_exam_sessions_id_fk": {
          "name": "video_exam_segments_session_id_video_exam_sessions_id_fk",
          "tableFrom": "video_exam_segments",
          "tableTo": "video_exam_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "video_exam_segments_uploaded_by_users_id_fk": {
          "name": "video_exam_segments_uploaded_by_users_id_fk",
          "tableFrom": "video_exam_segments",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.video_exam_sessions": {
      "name": "video_exam_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "combined_s3_key": {
          "name": "combined_s3_key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "combined_s3_bucket": {
          "name": "combined_s3_bucket",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "combined_kms_key_id": {
          "name": "combined_kms_key_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "combined_file_size_bytes": {
          "name": "combined_file_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "combined_analysis_id": {
          "name": "combined_analysis_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'in_progress'"
        },
        "total_segments": {
          "name": "total_segments",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completed_segments": {
          "name": "completed_segments",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "skipped_segments": {
          "name": "skipped_segments",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_duration_seconds": {
          "name": "total_duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "video_exam_sessions_patient_idx": {
          "name": "video_exam_sessions_patient_idx",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "video_exam_sessions_status_idx": {
          "name": "video_exam_sessions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "video_exam_sessions_created_idx": {
          "name": "video_exam_sessions_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "video_exam_sessions_patient_id_users_id_fk": {
          "name": "video_exam_sessions_patient_id_users_id_fk",
          "tableFrom": "video_exam_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.voice_followups": {
      "name": "voice_followups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "audio_file_url": {
          "name": "audio_file_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "audio_file_name": {
          "name": "audio_file_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "audio_file_size": {
          "name": "audio_file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "audio_duration": {
          "name": "audio_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "transcription": {
          "name": "transcription",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extracted_symptoms": {
          "name": "extracted_symptoms",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_mood": {
          "name": "extracted_mood",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "mood_score": {
          "name": "mood_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "medication_adherence": {
          "name": "medication_adherence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_metrics": {
          "name": "extracted_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment_score": {
          "name": "sentiment_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "empathy_level": {
          "name": "empathy_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "concerns_raised": {
          "name": "concerns_raised",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "concerns_summary": {
          "name": "concerns_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_response": {
          "name": "ai_response",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_summary": {
          "name": "conversation_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "needs_followup": {
          "name": "needs_followup",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "followup_reason": {
          "name": "followup_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recommended_actions": {
          "name": "recommended_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "daily_followup_id": {
          "name": "daily_followup_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "voice_followups_patient_id_users_id_fk": {
          "name": "voice_followups_patient_id_users_id_fk",
          "tableFrom": "voice_followups",
          "tableTo": "users",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "voice_followups_daily_followup_id_daily_followups_id_fk": {
          "name": "voice_followups_daily_followup_id_daily_followups_id_fk",
          "tableFrom": "voice_followups",
          "tableTo": "daily_followups",
          "columnsFrom": [
            "daily_followup_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.wearable_integrations": {
      "name": "wearable_integrations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "device_type": {
          "name": "device_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "device_name": {
          "name": "device_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "device_model": {
          "name": "device_model",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "connection_status": {
          "name": "connection_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "access_token": {
          "name": "access_token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "device_id": {
          "name": "device_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "auto_sync": {
          "name": "auto_sync",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sync_frequency": {
          "name": "sync_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'real-time'"
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_status": {
          "name": "last_sync_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_error": {
          "name": "last_sync_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tracked_metrics": {
          "name": "tracked_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "battery_level": {
          "name": "battery_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_battery_synced_at": {
          "name": "last_battery_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "firmware_version": {
          "name": "firmware_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "wearable_integrations_user_id_users_id_fk": {
          "name": "wearable_integrations_user_id_users_id_fk",
          "tableFrom": "wearable_integrations",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}