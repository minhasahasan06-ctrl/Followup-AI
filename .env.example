# =============================================================================
# Followup AI - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values
# For Vercel deployment, add these to your Vercel project settings
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED - Core Configuration
# -----------------------------------------------------------------------------

# Database connection string (PostgreSQL)
DATABASE_URL=postgresql://user:password@host:5432/database

# Session encryption secret (must be at least 32 characters)
# CRITICAL: Must be set in production - server will error without it
SESSION_SECRET=your-secure-random-session-secret-here

# -----------------------------------------------------------------------------
# REQUIRED - Authentication (Stytch)
# -----------------------------------------------------------------------------

# Stytch project credentials (from https://stytch.com/dashboard)
STYTCH_PROJECT_ID=project-live-xxxxx
STYTCH_SECRET=secret-live-xxxxx
STYTCH_PUBLIC_TOKEN=public-token-live-xxxxx

# -----------------------------------------------------------------------------
# REQUIRED - AI Services
# -----------------------------------------------------------------------------

# OpenAI API key (from https://platform.openai.com/api-keys)
OPENAI_API_KEY=sk-xxxxx

# OpenAI HIPAA compliance flags
OPENAI_BAA_SIGNED=false
OPENAI_ZDR_ENABLED=false

# -----------------------------------------------------------------------------
# OPTIONAL - Frontend Configuration (VITE_ prefix required)
# -----------------------------------------------------------------------------

# Python backend URL for API calls (defaults to localhost:8000 if not set)
VITE_PYTHON_BACKEND_URL=http://localhost:8000

# Enable Cloud Run proxy for production
VITE_USE_CLOUD_RUN_PROXY=false

# -----------------------------------------------------------------------------
# OPTIONAL - Backend Configuration
# -----------------------------------------------------------------------------

# Python backend URL for server-side calls
PYTHON_BACKEND_URL=http://localhost:8000

# FastAPI URL for M2M auth
FASTAPI_URL=http://localhost:8000

# Application base URL (for OAuth callbacks, emails, etc.)
APP_URL=http://localhost:5000
FRONTEND_BASE_URL=http://localhost:5000

# CORS origins (comma-separated list of allowed origins)
CORS_ORIGINS=http://localhost:5000,http://localhost:3000

# -----------------------------------------------------------------------------
# OPTIONAL - External Services
# -----------------------------------------------------------------------------

# Redis for caching (defaults to localhost if not set)
REDIS_URL=redis://localhost:6379

# Daily.co for video consultations
DAILY_API_KEY=your-daily-api-key

# Stripe for payments
STRIPE_API_KEY=sk_test_xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# Google OAuth (for Calendar, Gmail integrations)
GOOGLE_CALENDAR_REDIRECT_URI=http://localhost:5000/api/calendar/oauth/callback
GOOGLE_REDIRECT_URI=http://localhost:5000/api/gmail/oauth/callback

# -----------------------------------------------------------------------------
# OPTIONAL - Cloud Run Deployment
# -----------------------------------------------------------------------------

# GCP Project ID (set automatically in Cloud Run)
GCP_PROJECT_ID=your-gcp-project-id

# Cloud Run service URL
GOOGLE_CLOUD_RUN_URL=https://followupai-backend-xxxxx.run.app

# Proxy authentication secret (shared between Express and Python)
PROXY_AUTH_SECRET=your-secure-proxy-secret

# -----------------------------------------------------------------------------
# VERCEL DEPLOYMENT (Frontend-Only)
# -----------------------------------------------------------------------------
# Set these as Vercel Environment Variables in your project settings
# 
# IMPORTANT: Vercel deploys only the frontend. API calls go directly to your
# backend (Cloud Run or other hosting). Configure these env vars in Vercel:

# VITE_PYTHON_BACKEND_URL - Python FastAPI backend URL (required for Python API calls)
# Example: https://followupai-backend-xxxxx-uc.a.run.app
VITE_PYTHON_BACKEND_URL=https://your-python-backend.run.app

# VITE_EXPRESS_BACKEND_URL - Express backend URL (required for Express API calls)
# When set, all /api/* calls use absolute URLs to this backend
# Leave empty in development (same-origin) to use relative URLs
# Example: https://your-express-backend.run.app
VITE_EXPRESS_BACKEND_URL=https://your-express-backend.run.app

# VITE_USE_CLOUD_RUN_PROXY - Set to "false" for direct backend calls on Vercel
# When false, frontend calls Python backend directly (no Express proxy)
VITE_USE_CLOUD_RUN_PROXY=false

# -----------------------------------------------------------------------------
# DEVELOPMENT ONLY
# -----------------------------------------------------------------------------

# Development mode secret (for testing/debugging)
DEV_MODE_SECRET=dev-mode-secret-for-testing

# Enable legacy session fallback (development only)
LEGACY_SESSION_ENABLED=false

# Log level
LOG_LEVEL=info
NODE_ENV=development
